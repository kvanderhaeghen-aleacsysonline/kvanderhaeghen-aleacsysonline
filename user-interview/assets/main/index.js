System.register("chunks:///_virtual/array.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r({flatMap:function(r,t){var a;return(a=Array.prototype).concat.apply(a,r.map(t))},shuffle:function(r){var t,a=r.length;for(;0!=a;){t=Math.floor(Math.random()*a),a--;var n=[r[t],r[a]];r[a]=n[0],r[t]=n[1]}return r}}),t._RF.push({},"d1a7033C2tJcL1WLgrADQ5P","array",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/arrayUtils.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("flatten",(function(t){return t.reduce((function(t,e){return t.concat(e)}),[])})),e._RF.push({},"2eb41OkBtFEN6gDz7fhG8ge","arrayUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/audioComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameClasses.ts","./eventSignals.ts"],(function(e){var n,o,r,i,t,u,a,s,p,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){t=e.cclegacy,u=e._decorator,a=e.AudioSource,s=e.Component},function(e){p=e.GodAudio},function(e){c=e.respinTriggerSignal}],execute:function(){var d,g,l,f,h,m;t._RF.push({},"bbdc1jIgclIrIqfqWP59qY+","audioComponent",void 0);var y=u.ccclass,v=u.property,C=u.requireComponent;e("AudioComponent",(d=y("AudioComponent"),g=C(a),l=v([p]),d(f=g((m=n((h=function(e){function n(){for(var n,o=arguments.length,t=new Array(o),u=0;u<o;u++)t[u]=arguments[u];return n=e.call.apply(e,[this].concat(t))||this,r(n,"godFeatureComponent",m,i(n)),n.audioSource=void 0,n.respinTriggerBind=n.respinTriggerHandler.bind(i(n)),n}o(n,e);var t=n.prototype;return t.onLoad=function(){this.audioSource=this.getComponent(a),c.addListener(this.respinTriggerBind)},t.onDestroy=function(){c.removeListener(this.respinTriggerBind)},t.respinTriggerHandler=function(e){for(var n=this,o=function(o){var r=n.godFeatureComponent.find((function(n){return n.type===e.godTypes[o]}));if(!r)return 1;n.audioSource.playOneShot(r.audioClip)},r=0;r<e.godTypes.length;r++)o(r)},n}(s)).prototype,"godFeatureComponent",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f)||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/backgroundAudioComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameClasses.ts","./eventSignals.ts"],(function(e){var t,n,i,o,r,u,s,a,c,d,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,s=e.AudioSource,a=e.Button,c=e.SpriteFrame,d=e.Component},function(e){p=e.BackGroundAudio},function(e){l=e.setRoundTypeSignal}],execute:function(){var h,g,m,b,f,y,S,B,v,k;r._RF.push({},"32a47m7TLJMMbkTQLMzbK6N","backgroundAudioComponent",void 0);var A=u.ccclass,M=u.property,F=u.requireComponent;e("BackgroundAudioComponent",(h=A("BackgroundAudioComponent"),g=F(s),m=M([p]),b=M(a),f=M([c]),h(y=g((B=t((S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,i(t,"backgroundAmbient",B,o(t)),i(t,"soundButton",v,o(t)),i(t,"toggleFrames",k,o(t)),t.audioSource=void 0,t.isMute=!1,t.setRoundTypeBind=t.setRoundTypeHandler.bind(o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.audioSource=this.getComponent(s),l.addListener(this.setRoundTypeBind),this.changeSpriteFrames(this.toggleFrames[Number(this.isMute)])},r.changeSpriteFrames=function(e){this.soundButton.hoverSprite=e,this.soundButton.normalSprite=e,this.soundButton.pressedSprite=e,this.soundButton.disabledSprite=e},r.onDestroy=function(){l.removeListener(this.setRoundTypeBind)},r.setRoundTypeHandler=function(e){var t;this.audioSource.stop();var n=null!=(t=this.backgroundAmbient.find((function(t){return t.type===e.roundType})))?t:this.backgroundAmbient[0];this.audioSource.clip=n.audioClip,this.isMute||this.audioSource.play()},r.soundButtonPressed=function(){this.isMute=!this.isMute,this.changeSpriteFrames(this.toggleFrames[Number(this.isMute)]),this.isMute?this.audioSource.pause():this.audioSource.play()},t}(d)).prototype,"backgroundAmbient",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(S.prototype,"soundButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"toggleFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=S))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/backgroundComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./gameClasses.ts"],(function(n){var e,t,o,r,i,s,u,a,c,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n._decorator,u=n.Sprite,a=n.Component},function(n){c=n.setRoundTypeSignal},function(n){p=n.RoundBackground}],execute:function(){var d,l,f,y,g;i._RF.push({},"f27b804sF1K+LrPRivmUiXp","backgroundComponent",void 0);var m=s.ccclass,h=s.property;n("backgroundComponent",(d=m("backgroundComponent"),l=h([p]),d((g=e((y=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e=n.call.apply(n,[this].concat(i))||this,o(e,"Backgrounds",g,r(e)),e.setRoundTypeBind=e.setRoundTypeHandler.bind(r(e)),e}t(e,n);var i=e.prototype;return i.onLoad=function(){c.addListener(this.setRoundTypeBind)},i.onDestroy=function(){c.removeListener(this.setRoundTypeBind)},i.setRoundTypeHandler=function(n){var e=this.Backgrounds.find((function(e){return e.type===n.roundType}));e&&(this.node.getComponent(u).spriteFrame=e.texture)},e}(a)).prototype,"Backgrounds",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/bonusBuyComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts"],(function(n){var o,t,e,u,s;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,u=n.Component},function(n){s=n.bonusBuyTestSignal}],execute:function(){var c;t._RF.push({},"add75qThzVI/5eHK4kIAUhV","bonusBuyComponent",void 0);var i=e.ccclass;n("BonusBuyComponent",i("BonusBuyComponent")(c=function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.onClick=function(){s.dispatch()},t}(u))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/bonusItemModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bonusTypes.ts","./jackpotTypes.ts","./coinComponent.ts","./eventSignals.ts","./bonusSideType.ts","./moveCoins.ts","./resolvablePromise.ts","./coinData.ts","./roundTypes.ts","./gameplayModel.ts","./gameData.ts","./wait.ts"],(function(e){var t,i,n,o,a,l,r,s,u,c,p,y,d,m,f,v,b,h,T,C,g,k,M,V,L,j,P,w,N,S,F,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,r=e._decorator,s=e.Enum,u=e.Label,c=e.Prefab,p=e.instantiate,y=e.tween,d=e.Vec3,m=e.Component},function(e){f=e.BonusItemTypes,v=e.BonusModifierTypes,b=e.respinnableModifierTypes,h=e.respinnableJackpotTypes},function(e){T=e.jackpotTypeToTriggerType},function(e){C=e.CoinComponent},function(e){g=e.moveCoinCompleteSignal,k=e.bonusActivateItemSignal},function(e){M=e.BonusSideType,V=e.bonusSideTypeToGodFeatureType},function(e){L=e.moveFeatureCoins,j=e.moveJackpotCoins},function(e){P=e.ResolvablePromise},function(e){w=e.CoinTypes},function(e){N=e.RoundTypes},function(e){S=e.GameplayModel},function(e){F=e.gameData},function(e){B=e.wait}],execute:function(){var D,I,x,R,H,z,J,G,_,X,A;l._RF.push({},"fe478HbBWxHc6X8xFFVtLeh","bonusItemModel",void 0);var q=r.ccclass,E=r.property;e("BonusItemModel",(D=q("BonusItemModel"),I=E({type:s(f)}),x=E({type:s(v),visible:function(){return this.itemType===f.Modifier}}),R=E(u),H=E(c),D((G=t((J=function(e){function t(){for(var t,i,a,l,r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return(l=e.call.apply(e,[this].concat(s))||this).gameplayModel=null,n(l,"itemType",G,o(l)),n(l,"modifierType",_,o(l)),n(l,"valueLabel",X,o(l)),n(l,"mysteryPrefab",A,o(l)),l.sideType=M.Center,l.mysteryNode=null,l.coinComponent=void 0,l.jackpotType=void 0,l.multiplyValue=((t={})[f.Cash]=function(e){var t=l.getLabelValue(!0)+e;return l.cashValue=t,!0},t[f.Modifier]=function(e){if(l.modifierType===v.CoinCollector){var t=.01*l.getLabelValue(!1)*e;return l.coinCollectorValue=t,!0}return!1},t[f.Jackpot]=function(e){var t=.01*l.getLabelValue(!1)*e;return l.jackpotValue=t,!0},t[f.None]=function(){return!1},t),l.initFromType=((i={})[f.None]=function(){},i[f.Cash]=function(e){l.cashValue=e.cashValue},i[f.Modifier]=function(e){if(e.modifierType===v.StickyMultiplier)l.multiplierValue=e.multiplierValue;else if(e.modifierType===v.MainMultiplier){var t=V[l.sideType];if(!t)return void console.warn("God feature type is undefined, because of side type "+l.sideType);var i=l.gameplayModel.godCoins.find((function(e){return e.type===t})),n=p(i.prefab);n.setParent(l.node),n.setSiblingIndex(0),l.coinComponent=n.getComponent(C)}},i[f.Jackpot]=function(e){var t;l.gameplayModel||(l.gameplayModel=l.node.scene.getComponentInChildren(S));var i=null==(t=l.gameplayModel.jackpotCoins.find((function(t){return t.type===e.jackpotType})))?void 0:t.prefab;l.jackpotType=e.jackpotType;var n=p(i);n.setParent(l.node),n.setSiblingIndex(0),l.coinComponent=n.getComponent(C),l.jackpotValue=.01*e.cashValue,l.valueLabelVisible=!1},i),l.moveCoinCompleteBind=l.moveCoinCompleteHandler.bind(o(l)),l.activatePromiseResolve=new P,l.moveCoinHandler=((a={})[v.MainMultiplier]=function(e,t){L(e.featureCoinDropPositions,t,l.coinComponent?[l.coinComponent.featureType]:void 0)},a[f.Jackpot]=function(e,t){j(e.jackpotCoinDropPositions,t,l.coinComponent?[l.coinComponent.jackpotType]:void 0)},a),l}i(t,e);var l=t.prototype;return l.getLabelValue=function(e){var t,i,n=(null!=(t=null==(i=this.valueLabel)?void 0:i.string)?t:"").replace("€","").replace("X","").replace(/,/g,""),o=parseFloat(n);return(isNaN(o)?0:o)*(e?1:100)},l.multiplyCashValue=function(e){return this.multiplyValue[this.itemType](e)},l.onLoad=function(){g.addListener(this.moveCoinCompleteBind)},l.onDestroy=function(){g.removeListener(this.moveCoinCompleteBind)},l.init=function(e,t){this.sideType=e,this.initFromType[this.itemType](t),e===M.Center&&this.createMysterySprite()},l.createMysterySprite=function(){this.mysteryPrefab&&(this.mysteryNode=p(this.mysteryPrefab),this.mysteryNode.setParent(this.node))},l.animateMysterySprite=function(e){var t=this;this.mysteryNode&&B(500).then((function(){y(t.mysteryNode).to(.5,{scale:new d(1,0,1)},{easing:"quadOut"}).call((function(){e()})).start()}))},l.reset=function(){var e,t;null==(e=this.coinComponent)||e.destroyCoin(),this.coinComponent=void 0,null==(t=this.mysteryNode)||t.destroy(),this.mysteryNode=void 0},l.activate=function(e,t){var i=this,n=new P;this.mysteryNode?this.animateMysterySprite((function(){n.resolve()})):n.resolve(),n.promise.then((function(){var n,o=b.includes(i.modifierType)||h.includes(i.jackpotType);(i.activatePromiseResolve.promise.then((function(){h.includes(i.jackpotType)||k.dispatch({item:i,amount:i.modifierType===v.MainMultiplier?F.bonus.mainMultipliers.increaseCount:i.getLabelValue(i.itemType===f.Cash)})})),o&&t)?i.moveCoinHandler[null!=(n=i.modifierType)?n:i.itemType](t,e):i.activatePromiseResolve.resolve()}))},l.moveCoinCompleteHandler=function(e){var t;(this.coinComponent||e.coinData.coinType===w.God||e.coinData.id===(null==(t=this.coinComponent)||null==(t=t.node)?void 0:t.uuid)||e.roundType===N.Bonus)&&this.activatePromiseResolve.resolve()},a(t,[{key:"jackpotTriggerType",get:function(){return T[this.jackpotType]}},{key:"canRedrawItem",get:function(){return b.includes(this.modifierType)||h.includes(this.jackpotType)||[f.None,void 0].includes(this.itemType)}},{key:"cashValue",set:function(e){this.valueLabel.string=e.toFixed(2)}},{key:"multiplierValue",set:function(e){this.valueLabel?this.valueLabel.string="X\n"+e.toFixed(2):console.warn("Value label is undefined")}},{key:"coinCollectorValue",set:function(e){this.valueLabel.string="€"+e.toFixed(2)}},{key:"jackpotValue",set:function(e){this.valueLabel?this.valueLabel.string="€"+e.toFixed(2):console.warn("Value label is undefined")}},{key:"valueLabelVisible",get:function(){return!!this.valueLabel&&this.valueLabel.node.active},set:function(e){this.valueLabel?this.valueLabel.node.active=e:console.warn("Value label is undefined")}}]),t}(m)).prototype,"itemType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.None}}),_=t(J.prototype,"modifierType",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),X=t(J.prototype,"valueLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),A=t(J.prototype,"mysteryPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=J))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/bonusModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameClasses.ts","./array.ts","./bonusTypes.ts","./jackpotTypes.ts","./eventSignals.ts","./commonAnimations.ts","./bonusSideType.ts","./hudModel.ts","./bonusRollComponent.ts","./reelStatus.ts","./wait.ts","./reelsData.ts","./randomizer.ts"],(function(e){var t,i,n,o,s,r,u,a,l,c,p,h,d,f,m,g,y,M,C,b,v,w,T,k,I,R,S,B,L,W,J;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,r=e.regeneratorRuntime,u=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.CCFloat,p=e.CCBoolean,h=e.Component},function(e){d=e.BonusItem,f=e.BonusSpins,m=e.BonusMainMultiplier},function(e){g=e.shuffle},function(e){y=e.BonusItemTypes,M=e.BonusModifierTypes,C=e.itemsWithValue},function(e){b=e.JackpotTypes,v=e.JackpotTriggerTypes},function(e){w=e.bonusActivateItemSignal},function(e){T=e.scaleFadeAnimation},function(e){k=e.BonusSideType,I=e.bonusSideTypeToGodFeatureType},function(e){R=e.HudModel},function(e){S=e.BonusRollComponent},function(e){B=e.ReelStatus},function(e){L=e.wait},function(e){W=e.reelsData},function(e){J=e.createWeightedArray}],execute:function(){var V,A,P,j,z,F,x,O,E,D,Y,N,H,G,_,q,K,U,Z,Q,X;a._RF.push({},"b82a4iZloJKLqOR7Jpki0/Y","bonusModel",void 0);var $=l.ccclass,ee=l.property;e("BonusModel",(V=$("BonusModel"),A=ee([d]),P=ee([f]),j=ee([m]),z=ee(c),F=ee(c),x=ee(c),O=ee(c),E=ee(c),D=ee(p),V((H=t((N=function(e){function t(){for(var t,i,u,a,l,c,p,h,d,f,m,g,C,w=arguments.length,T=new Array(w),R=0;R<w;R++)T[R]=arguments[R];return(C=e.call.apply(e,[this].concat(T))||this).hudModel=null,n(C,"bonusItems",H,o(C)),n(C,"bonusSpins",G,o(C)),n(C,"mainMultipliers",_,o(C)),n(C,"startPosY",q,o(C)),n(C,"endPosY",K,o(C)),n(C,"stopPosY",U,o(C)),n(C,"rollSpeed",Z,o(C)),n(C,"rollTensionSpeed",Q,o(C)),n(C,"reverse",X,o(C)),C.isBonusAvailable=!1,C.previousResultCount=((t={})[k.Left]=0,t[k.Center]=0,t[k.Right]=0,t),C.bonusResult=((i={})[k.Left]=[],i[k.Center]=[],i[k.Right]=[],i),C.bonusSpinsPerSide=((u={})[k.Left]=void 0,u[k.Center]=void 0,u[k.Right]=void 0,u),C.onBonusActivateItemBind=C.onBonusActivateItemHandler.bind(o(C)),C.drawItemRollWeights=((a={})[y.None]=120,a[y.Cash]=30,a[y.Jackpot]=20,a[y.Modifier]=20,a),C.drawItemResultWeights=((l={})[y.None]=350,l[y.Cash]=50,l[y.Jackpot]=20,l[y.Modifier]=15,l),C.cheatModifierResultWeights=((c={})[y.None]=300,c[y.Cash]=100,c[y.Jackpot]=1,c[y.Modifier]=100,c),C.cheatJackpotResultWeights=((p={})[y.None]=300,p[y.Cash]=100,p[y.Jackpot]=100,p[y.Modifier]=1,p),C.drawModifierWeights=((h={})[M.CoinCollector]=10,h[M.MainMultiplier]=0,h[M.StickyMultiplier]=20,h[M.RepeatCollector]=0,h),C.cheatModifierWeights=((d={})[M.CoinCollector]=500,d[M.MainMultiplier]=0,d[M.StickyMultiplier]=1,d[M.RepeatCollector]=0,d),C.drawJackpotWeights=((f={})[b.Unreal]=60,f[b.Divine]=60,f[b.Heroic]=25,f[b.Warlord]=25,f[b.Mythic]=18,f[b.Legendary]=18,f[b.Athena]=10,f[b.Ares]=10,f[b.Godlike]=10,f),C.drawItems=[],C.cheatCollectItems=[],C.cheatJackpotItems=[],C.drawItemsRoll=[],C.drawModifiers=[],C.cheatModifiers=[],C.drawJackpots=[],C.drawCashValueWeights={.5:200,1:100,1.5:40,2:20,2.5:10,3:5,5:3,10:2,20:1},C.drawMultiplierValueWeights={1.5:200,2:100,2.5:50,3:25,4:20,6:10,8:5,10:3,15:2,20:1},C.drawMultiplyCountWeights={1:25,2:10,3:2},C.drawCashValues=[],C.drawMultiplierValues=[],C.drawMultiplyCount=[],C.bonusRollComponents=[],C.totalCashPerType=((m={})[y.Cash]=function(e){var t;return(null!=(t=e.getLabelValue(!0))?t:0)*C.hudModel.stake},m[y.Modifier]=function(e){var t;return(e.modifierType===M.CoinCollector||e.modifierType===M.RepeatCollector)&&null!=(t=e.getLabelValue(!1))?t:0},m[y.Jackpot]=function(e){var t;return e.valueLabelVisible&&null!=(t=e.getLabelValue(!1))?t:0},m[y.None]=function(){return 0},m),C.excludedModifierItems=[{itemType:y.Modifier,modifierType:M.CoinCollector},{itemType:y.Modifier,modifierType:M.RepeatCollector}],C.activateItems=((g={})[y.None]=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),g[y.Cash]=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),g[y.Modifier]=s(r().mark((function e(t){var i,n,o,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(100);case 2:if(!C.allBonusRollsStopped){e.next=0;break}case 3:(i=t.item).modifierType===M.StickyMultiplier?(n=.01*t.amount,C.multiplyCashItems(n)):i.modifierType===M.CoinCollector||i.modifierType===M.RepeatCollector?(o=.01*C.getTotalCashAmount(C.excludedModifierItems),s=.01*i.getLabelValue(!1),i.coinCollectorValue=s+o):i.modifierType===M.MainMultiplier&&(u=t.amount,C.addToMainMultiplier(I[i.sideType],u));case 5:case"end":return e.stop()}}),e)}))),g[y.Jackpot]=s(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.item.itemType===y.Jackpot&&t.item.jackpotTriggerType===v.CashGrab&&(t.item.valueLabelVisible=!0);case 1:case"end":return e.stop()}}),e)}))),g),C}i(t,e);var a=t.prototype;return a.getMainMultiplier=function(e){var t;return null!=(t=this.mainMultipliers.find((function(t){return t.godFeatureType===e})).mainMultiplier)?t:1},a.getTotalMainMultiplier=function(){return this.mainMultipliers.reduce((function(e,t){return e+t.mainMultiplier}),1)},a.addToMainMultiplier=function(e,t){this.mainMultipliers.find((function(t){return t.godFeatureType===e})).mainMultiplier+=t},a.setAllMainMultipliers=function(e){this.mainMultipliers.forEach((function(t){t.mainMultiplier=e}))},a.setStartBonusSpins=function(e){this.bonusSpins.forEach((function(t){t.spinsLeftCount=e,t.spinsTotalCount=e}))},a.getTotalBonusSpinLeft=function(){return this.bonusSpins.reduce((function(e,t){return e+t.spinsLeftCount}),0)},a.getAllSidesFull=function(e){var t=this;void 0===e&&(e=[k.Center]);var i=Object.values(k).map((function(e){return e})).filter((function(t){return!e.includes(t)})),n=!0;return i.forEach((function(e){t.getBonusSpinsSideIsFull(e)||(n=!1)})),n},a.setBonusSpinsLeftOfSide=function(e,t){this.bonusSpinsPerSide[e].spinsLeftCount=t},a.subtractBonusSpinsLeftOfSide=function(e){this.bonusSpinsPerSide[e].spinsLeftCount-=1},a.getBonusSpinsLeftOfSide=function(e){var t,i;return null!=(t=null==(i=this.bonusSpinsPerSide[e])?void 0:i.spinsLeftCount)?t:-1},a.getBonusSpinsSideIsFull=function(e){return W.columnIndicesPerSide[e].map((function(e){return W.playFieldDimensions.rows[e].visible})).reduce((function(e,t){return e+t}),0)===this.bonusResult[e].filter((function(e){return!e.canRedrawItem})).length},a.onLoad=function(){var e=this;this.generateItemsLists(),this.generateValuesLists(),this.bonusSpins.forEach((function(t){e.bonusSpinsPerSide[t.sideType]=t})),w.addListener(this.onBonusActivateItemBind)},a.onDestroy=function(){w.removeListener(this.onBonusActivateItemBind)},a.start=function(){var e=this;this.hudModel=this.node.scene.getComponentInChildren(R),this.bonusRollComponents=this.node.scene.getComponentsInChildren(S),this.bonusRollComponents.forEach((function(t){t.init(e)}))},a.generateItemsLists=function(){for(var e=Object.keys(this.drawItemResultWeights),t=0;t<e.length;t++){var i=e[t];if(0!==this.drawItemResultWeights[i])for(var n=0;n<this.drawItemResultWeights[i];n++)this.drawItems.push(i)}this.drawItems=g(this.drawItems);for(var o=Object.keys(this.cheatModifierResultWeights),s=0;s<o.length;s++){var r=o[s];if(this.cheatModifierResultWeights[r]>0)for(var u=0;u<this.cheatModifierResultWeights[r];u++)this.cheatCollectItems.push(r);if(this.cheatJackpotResultWeights[r]>0)for(var a=0;a<this.cheatJackpotResultWeights[r];a++)this.cheatJackpotItems.push(r)}this.cheatCollectItems=g(this.cheatCollectItems),this.cheatJackpotItems=g(this.cheatJackpotItems),this.drawItemsRoll=J(this.drawItemRollWeights),this.drawModifiers=J(this.drawModifierWeights),this.cheatModifiers=J(this.cheatModifierWeights),this.drawJackpots=J(this.drawJackpotWeights)},a.generateValuesLists=function(){this.drawCashValues=J(this.drawCashValueWeights),this.drawMultiplierValues=J(this.drawMultiplierValueWeights),this.drawMultiplyCount=J(this.drawMultiplyCountWeights)},a.multiplyCashItems=function(e){var t=this.allBonusResults.filter((function(e){return C.includes(e.itemType)||C.includes(e.jackpotType)||C.includes(e.modifierType)}));if(0!==t.length)for(var i=[],n=this.drawMultiplyCount[Math.floor(Math.random()*this.drawMultiplyCount.length)],o=Math.min(n,t.length),s=0;s<o;s++){var r=0;do{r=Math.floor(Math.random()*t.length)}while(i.includes(r));i.push(r);var u=t[r];console.log("bonus item multiplied ",s+1," of ",o," | randomIndex",r,"item",u.itemType,u.modifierType,"multiplier",e),u.multiplyCashValue(e)&&T(u.node,u.node.parent)}},a.getTotalCashAmount=function(e){var t=this;void 0===e&&(e=[]);var i=0;return Object.values(this.bonusResult).forEach((function(n){n.forEach((function(n){e.find((function(e){return e.itemType===n.itemType&&e.modifierType===n.modifierType&&e.jackpotType===n.jackpotType}))||(i+=t.totalCashPerType[n.itemType](n))}))})),i},a.onBonusActivateItemHandler=function(e){this.activateItems[e.item.itemType](e)},a.reset=function(){Object.values(this.bonusResult).forEach((function(e){e.forEach((function(e){null==e||e.reset()}))})),this.bonusResult={left:[],center:[],right:[]},this.previousResultCount={left:0,center:0,right:0},this.isBonusAvailable=!1},u(t,[{key:"items",get:function(){return this.hudModel.isBonusCollectCheat?this.cheatCollectItems:this.hudModel.isBonusJackpotCheat?this.cheatJackpotItems:this.drawItems}},{key:"itemsRoll",get:function(){return this.drawItemsRoll}},{key:"modifiers",get:function(){return this.hudModel.isBonusCollectCheat?this.cheatModifiers:this.drawModifiers}},{key:"jackpots",get:function(){return this.drawJackpots}},{key:"cashValues",get:function(){return this.drawCashValues}},{key:"multiplierValues",get:function(){return this.drawMultiplierValues}},{key:"multiplyCount",get:function(){return this.drawMultiplyCount}},{key:"allBonusRollsStopped",get:function(){return this.bonusRollComponents.every((function(e){return e.status===B.Stopped}))}},{key:"allBonusResults",get:function(){var e=this;return Object.values(k).reduce((function(t,i){return t.concat(e.bonusResult[i])}),[])}}]),t}(h)).prototype,"bonusItems",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(N.prototype,"bonusSpins",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(N.prototype,"mainMultipliers",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(N.prototype,"startPosY",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=t(N.prototype,"endPosY",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=t(N.prototype,"stopPosY",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=t(N.prototype,"rollSpeed",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=t(N.prototype,"rollTensionSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=t(N.prototype,"reverse",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=N))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/bonusRollComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelStatus.ts","./bonusTypes.ts","./bonusItemModel.ts","./eventSignals.ts","./roundTypes.ts","./gameClasses.ts","./bonusSideType.ts","./gameplayModel.ts","./playfieldModel.ts"],(function(e){var t,n,s,o,i,r,a,l,u,d,c,p,h,m,f,y,b,v,M,I,T,R,S,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,a=e.Enum,l=e.instantiate,u=e.Component},function(e){d=e.ReelStatus},function(e){c=e.BonusItemTypes,p=e.BonusModifierTypes,h=e.getIsRepeatableItem,m=e.respinnableModifierTypes,f=e.respinnableJackpotTypes},function(e){y=e.BonusItemModel},function(e){b=e.bonusStartRollsSignal,v=e.bonusStopRollsSignal,M=e.bonusResetRollsSignal},function(e){I=e.RoundTypes},function(e){T=e.ExcludedBonusItem},function(e){R=e.BonusSideType},function(e){S=e.GameplayModel},function(e){g=e.PlayfieldModel}],execute:function(){var w,C,B,k,P,L,Y;i._RF.push({},"d0dfeuRJ4ZFaZPbXsp2u13T","bonusRollComponent",void 0);var E=r.ccclass,V=r.property;e("BonusRollComponent",(w=E("BonusRollComponent"),C=V({type:a(R)}),B=V({type:[T]}),w((L=t((P=function(e){function t(){for(var t,n,i,r,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(r=e.call.apply(e,[this].concat(l))||this).gameplayModel=null,r.playfieldModel=null,r.bonusModel=null,s(r,"bonusSide",L,o(r)),s(r,"excludedItemTypes",Y,o(r)),r.status=d.Stopped,r.itemsList=((t={})[c.None]=null,t[c.Cash]=null,t[c.Modifier]=null,t[c.Jackpot]=null,t[p.StickyMultiplier]=null,t[p.MainMultiplier]=null,t[p.CoinCollector]=null,t[p.RepeatCollector]=null,t),r.activeItem=void 0,r.showEndResult=!1,r.currentSpeed=0,r.bonusStartRollBind=r.bonusStartRollHandler.bind(o(r)),r.bonusStopRollBind=r.bonusStopRollHandler.bind(o(r)),r.bonusResetBind=r.bonusResetHandler.bind(o(r)),r.createInstanceFromType=((n={})[c.None]=function(){return r.createInstance(c.None)},n[c.Cash]=function(){return r.createInstance(c.Cash)},n[c.Modifier]=function(e){return r.createInstance(c.Modifier,e)},n[c.Jackpot]=function(){return r.createInstance(c.Jackpot)},n),r.setInstanceFromType=((i={})[c.None]=function(){var e;return{redraw:!1,instance:r.setInstance(null==(e=r.itemsList)?void 0:e[c.None],{bonusItemType:c.None})}},i[c.Cash]=function(e){var t;if(e.some((function(e){return e.itemType===c.Cash})))return{redraw:!0};var n=Math.floor(Math.random()*r.bonusModel.cashValues.length),s=r.bonusModel.cashValues[n];return{redraw:!1,instance:r.setInstance(null==(t=r.itemsList)?void 0:t[c.Cash],{bonusItemType:c.Cash,cashValue:s})}},i[c.Modifier]=function(e){var t;if(e.some((function(e){return e.itemType===c.Modifier})))return{redraw:!0};var n=void 0,s=r.drawModifier(null==e?void 0:e.map((function(e){return e.modifierType})));if(!s)return{redraw:!0};if(s===p.StickyMultiplier){var o=Math.floor(Math.random()*r.bonusModel.multiplierValues.length);n=r.bonusModel.multiplierValues[o]}return{redraw:!1,instance:r.setInstance(null==(t=r.itemsList)?void 0:t[s],{bonusItemType:c.Modifier,modifierType:s,multiplierValue:n})}},i[c.Jackpot]=function(e){var t,n=r.drawJackpot(null==e?void 0:e.map((function(e){return e.jackpotType})));if(!n)return{redraw:!0};var s=r.gameplayModel.getJackpotValueByType(n);return{redraw:!1,instance:r.setInstance(null==(t=r.itemsList)?void 0:t[c.Jackpot],{bonusItemType:c.Jackpot,jackpotType:n,cashValue:s})}},i),r}n(t,e);var i=t.prototype;return i.getHasTension=function(e){return!!e.mysteryNode},i.onLoad=function(){b.addListener(this.bonusStartRollBind),v.addListener(this.bonusStopRollBind),M.addListener(this.bonusResetBind)},i.onDestroy=function(){b.removeListener(this.bonusStartRollBind),v.removeListener(this.bonusStopRollBind),M.removeListener(this.bonusResetBind)},i.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(S),this.playfieldModel=this.node.scene.getComponentInChildren(g),this.createItems()},i.init=function(e){this.bonusModel=e},i.createItems=function(){var e=this,t=Object.values(c).map((function(e){return e})),n=Object.values(p).map((function(e){return e}));t.forEach((function(t){t===c.Modifier?n.forEach((function(t){e.itemsList[t]=e.createInstanceFromType[c.Modifier](t)})):e.itemsList[t]=e.createInstanceFromType[t]()}))},i.bonusStartRollHandler=function(e){var t;e.sideType===this.bonusSide&&((null==(t=this.gameplayModel)?void 0:t.roundType)!==I.Bonus||this.activeItem&&!this.activeItem.canRedrawItem||(this.reset(),this.status=d.Rolling,this.activeItem=this.drawItem(this.excludedItemTypes)))},i.bonusStopRollHandler=function(e){var t;e.sideType===this.bonusSide&&(null==(t=this.gameplayModel)?void 0:t.roundType)===I.Bonus&&(this.showEndResult&&this.activeItem&&h(this.activeItem.itemType,this.activeItem.modifierType)&&this.activeItem.activate(this.gameplayModel.roundType),this.showEndResult=!0)},i.bonusResetHandler=function(){this.reset()},i.reset=function(){this.status=d.Stopped,this.showEndResult=!1,this.resetItem(),this.activeItem=void 0},i.drawItem=function(e){void 0===e&&(e=[]);var t=this.showEndResult?this.bonusModel.items:this.bonusModel.itemsRoll,n={redraw:!0};do{var s=t[Math.floor(Math.random()*t.length)];n=this.setInstanceFromType[s](e)}while(n.redraw);return this.setSpeed(n.instance),n.instance},i.setSpeed=function(e){this.currentSpeed=this.getHasTension(e)?this.bonusModel.rollTensionSpeed:this.bonusModel.rollSpeed},i.drawModifier=function(e){var t=this.bonusModel.modifiers,n=Math.floor(Math.random()*t.length);return e.includes(t[n])?void 0:t[n]},i.drawJackpot=function(e){var t=this.bonusModel.jackpots,n=Math.floor(Math.random()*t.length);return e.includes(t[n])?void 0:t[n]},i.createInstance=function(e,t){var n=this.bonusModel.bonusItems.find((function(n){return n.itemType===e&&n.modifierType===t})),s=l(n.prefab);return s.setParent(this.node),s.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY,s.active=!1,s},i.setInstance=function(e,t){if(e){e.active=!0,e.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY;var n=e.getComponent(y);return n.init(this.bonusSide,{modifierType:t.modifierType,cashValue:t.cashValue,jackpotType:t.jackpotType,multiplierValue:t.multiplierValue}),n}console.warn("Instance is undefined",t)},i.resetItem=function(){this.activeItem&&(this.activeItem.reset(),this.activeItem.node.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY,this.activeItem.node.active=!1)},i.update=function(e){var t,n=null==(t=this.activeItem)?void 0:t.node;if(n&&(this.status===d.Rolling||this.status===d.Stopping)){var s=this.currentSpeed*e;n.y+=this.bonusModel.reverse?s:-s;var o=this.bonusModel.reverse?n.y>=this.bonusModel.startPosY:n.y<=this.bonusModel.endPosY,i=this.bonusModel.reverse?n.y>=this.bonusModel.stopPosY:n.y<=this.bonusModel.stopPosY;return this.showEndResult&&this.status===d.Stopping&&i?(this.addResult(),n.y=this.bonusModel.stopPosY,void(this.status=d.Stopped)):o?(n.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY,this.resetItem(),this.activeItem=this.drawItem(this.showEndResult?this.excludedItemTypes:[].concat(this.excludedItemTypes)),void(this.status=this.showEndResult?d.Stopping:d.Rolling)):void 0}},i.addResult=function(){this.activeItem&&this.activeItem.itemType!==c.None&&(m.includes(this.activeItem.modifierType)||f.includes(this.activeItem.jackpotType)?this.activeItem.activate(this.gameplayModel.roundType,this.playfieldModel):(this.bonusModel.bonusResult[this.bonusSide].push(this.activeItem),this.activeItem.activate(this.gameplayModel.roundType)))},t}(u)).prototype,"bonusSide",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.Center}}),Y=t(P.prototype,"excludedItemTypes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=P))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/bonusSideType.ts",["cc","./godFeatureTypes.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.GodFeatureTypes}],execute:function(){var r;t._RF.push({},"a9afbRTNzhHKpALNmwKHx3R","bonusSideType",void 0);var u=e("BonusSideType",function(e){return e.Left="left",e.Center="center",e.Right="right",e}({}));e("bonusSideTypeToGodFeatureType",((r={})[u.Left]=n.Ares,r[u.Center]=void 0,r[u.Right]=n.Athena,r));t._RF.pop()}}}));

System.register("chunks:///_virtual/bonusTypes.ts",["cc","./jackpotTypes.ts"],(function(e){var i,t;return{setters:[function(e){i=e.cclegacy},function(e){t=e.JackpotTypes}],execute:function(){e("getIsRepeatableItem",(function(e,i){if(e===o.Modifier)return n.includes(i);return!1})),i._RF.push({},"ea6b19tYbpF+J9PO7abyWyY","bonusTypes",void 0);var o=e("BonusItemTypes",function(e){return e.None="none",e.Cash="cash",e.Modifier="modifier",e.Jackpot="jackpot",e}({})),r=e("BonusModifierTypes",function(e){return e.StickyMultiplier="stickyMultiplier",e.MainMultiplier="mainMultiplier",e.CoinCollector="coinCollector",e.RepeatCollector="repeatCollector",e}({})),n=(e("itemsWithValue",[o.Cash,t.Unreal,t.Divine,t.Heroic,t.Warlord,t.Mythic,t.Legendary,r.CoinCollector]),e("repeatableModifierTypes",[r.StickyMultiplier,r.RepeatCollector]));e("respinnableModifierTypes",[r.MainMultiplier]),e("respinnableJackpotTypes",[t.Ares,t.Athena,t.Godlike]);i._RF.pop()}}}));

System.register("chunks:///_virtual/coinComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./coinData.ts","./jackpotTypes.ts","./curveTween.ts","./eventSignals.ts","./godFeatureTypes.ts","./roundTypes.ts","./gameData.ts"],(function(e){var i,n,o,t,a,r,s,c,p,u,l,d,y,T,h,g,C,v,f,m,b,k,D,j;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Enum,p=e.Label,u=e.Vec2,l=e.tween,d=e.Vec3,y=e.Component},function(e){T=e.CoinTypes},function(e){h=e.JackpotTypes,g=e.JackpotTriggerTypes,C=e.jackpotTypeToTriggerType},function(e){v=e.moveInCurve},function(e){f=e.moveCoinSignal,m=e.moveCoinCompleteSignal,b=e.godFeatureSignal},function(e){k=e.GodFeatureTypes},function(e){D=e.RoundTypes},function(e){j=e.gameData}],execute:function(){var w,H,L,S,F,G,B,P,z,J,M;r._RF.push({},"505c1C3h3NB/ZASWd+MFuVk","coinComponent",void 0);var x=s.ccclass,A=s.property;e("CoinComponent",(w=x("CoinComponent"),H=A({type:c(T)}),L=A({type:c(h),visible:function(){return this.coinType===T.Jackpot}}),S=A({type:c(k),visible:function(){return this.coinType===T.God}}),F=A({type:p,visible:function(){return this.coinType===T.Jackpot&&this.jackpotTriggerType===g.CashGrab}}),w((P=i((B=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,o(i,"coinType",P,t(i)),o(i,"jackpotType",z,t(i)),o(i,"featureType",J,t(i)),o(i,"valueLabel",M,t(i)),i.coinTargetPosition=new u(0,0),i.coinTargetScale=new u(1,1),i.coinDuration=.5,i.coinCurveWidth=200,i.coinCurveHeight=100,i.isMoving=!1,i.isCoinCompleted=!1,i.isDestroyed=!1,i.moveCoinHandlerBind=i.moveCoinHandler.bind(t(i)),i.moveCoinCompleteHandlerBind=i.moveCoinCompleteHandler.bind(t(i)),i}n(i,e);var r=i.prototype;return r.onLoad=function(){f.addListener(this.moveCoinHandlerBind),m.addListener(this.moveCoinCompleteHandlerBind)},r.onDestroy=function(){f.removeListener(this.moveCoinHandlerBind),m.removeListener(this.moveCoinCompleteHandlerBind)},r.moveCoinHandler=function(e){(e.coinData.coinType===this.coinType||this.isMoving)&&(this.coinType===T.God&&e.coinData.valueType!==this.featureType||this.coinType===T.Jackpot&&e.coinData.valueType!==this.jackpotType||(this.coinType===T.Jackpot&&e.roundType===D.FreeSpin&&this.jackpotTriggerType===g.CashGrab?this.scaleCoin({target:e.target,roundType:e.roundType}):this.moveCoinToPosition({target:e.target,roundType:e.roundType})))},r.moveCoinCompleteHandler=function(e){e.coinData.coinType!==T.God||e.coinData.id!==this.node.uuid||this.isCoinCompleted||(e.roundType===D.Normal&&b.dispatch({feature:e.coinData.valueType,addAmount:j.freeSpins.fillAmount}),this.isCoinCompleted=!0)},r.moveCoinToPosition=function(e){var i=this;this.isMoving=!0,this.node.setParent(e.target.parent,!0),this.coinTargetPosition=new u(e.target.position.x,e.target.position.y),this.coinTargetScale=new u(.5*e.target.scale.x,.5*e.target.scale.y),v(this.node,this.coinTargetPosition,this.coinTargetScale,this.coinDuration,"cubicIn",this.coinCurveWidth,this.coinCurveHeight,(function(){m.dispatch({roundType:e.roundType,coinComponent:i,coinData:{coinType:i.coinType,valueType:i.coinType===T.God?i.featureType:i.jackpotType,id:i.node.uuid}}),i.destroyCoin(),i.isCoinCompleted=!0,i.isMoving=!1}))},r.scaleCoin=function(e){var i=this;l(this.node).to(.1,{scale:new d(1.25,1.25,1)},{easing:"quadOut"}).to(.15,{scale:new d(0,0,0)},{easing:"quadIn"}).call((function(){m.dispatch({roundType:e.roundType,coinComponent:i,coinData:{coinType:i.coinType,valueType:i.coinType===T.God?i.featureType:i.jackpotType,id:i.node.uuid}}),i.destroyCoin(),i.isCoinCompleted=!0})).start()},r.destroyCoin=function(){this.isDestroyed||(this.isDestroyed=!0,this.node.destroy(),this.destroy())},a(i,[{key:"jackpotTriggerType",get:function(){return C[this.jackpotType]}},{key:"jackpotValue",get:function(){var e,i,n=(null!=(e=null==(i=this.valueLabel)?void 0:i.string)?e:"").replace("€","").replace(/,/g,""),o=parseFloat(n);return isNaN(o)?0:100*o},set:function(e){this.valueLabel&&(this.valueLabel.string="€"+e.toFixed(2))}}]),i}(y)).prototype,"coinType",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.God}}),z=i(B.prototype,"jackpotType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),J=i(B.prototype,"featureType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),M=i(B.prototype,"valueLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),G=B))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/coinData.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"54c99b5fodFlqIy0xvwsM0D","coinData",void 0);t("CoinTypes",function(t){return t.God="god",t.Jackpot="jackpot",t}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/commonAnimations.ts",["cc"],(function(n){var t,a,e,o,c,i;return{setters:[function(n){t=n.cclegacy,a=n.instantiate,e=n.Vec3,o=n.tween,c=n.Sprite,i=n.Color}],execute:function(){n("scaleFadeAnimation",(function(n,t,r,s){void 0===r&&(r="linear");var l=a(n);l.parent=t;var u={scale:new e(3*l.scale.x,3*l.scale.y,l.scale.z)};o(l).to(.3,u,{onComplete:function(){l.destroy()}}).start();var p=l.getComponent(c);if(p){var m=p.color,v={alpha:p.color.a};o(v).to(.25,{alpha:0},{easing:r,onUpdate:function(){p.color=new i(m.r,m.g,m.b,v.alpha)}}).start()}})),t._RF.push({},"31b3aS484xDpZZEDuwuRFbA","commonAnimations",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/curveTween.ts",["cc"],(function(e){var n,o,i;return{setters:[function(e){n=e.cclegacy,o=e.Vec2,i=e.tween}],execute:function(){function s(e,n,i,s){var r=1-s,t=s*s,u=r*r;return new o(u*e.x+2*r*s*n.x+t*i.x,u*e.y+2*r*s*n.y+t*i.y)}e({getQuadraticBezierPoint:s,moveInCurve:function(e,n,r,t,u,a,c,l){var p,v,y,x;if(!e)return void console.warn("Node is undefined");var d=new o(null!=(p=e.position.x)?p:0,null!=(v=e.position.y)?v:0),g=new o(null!=(y=e.scale.x)?y:1,null!=(x=e.scale.y)?x:1),f=new o((d.x+n.x)/2+a,(d.y+n.y)/2+c),N={progress:0};i(N).to(t,{progress:1},{easing:u,onUpdate:function(){var o,i,t=s(d,f,n,N.progress);!t||void 0===t.x||void 0===t.y||Number.isNaN(t.x)||Number.isNaN(t.y)?console.warn("Current position is undefined or invalid",t):!e||void 0===e.x||void 0===e.y||void 0===(null==(o=e.position)?void 0:o.x)||void 0===(null==(i=e.position)?void 0:i.y)||Number.isNaN(e.position.x)||Number.isNaN(e.position.y)?console.warn("Node position is undefined or invalid",e):(null==e||e.setPosition(t.x,t.y,0),null==e||e.setScale(g.x+(r.x-g.x)*N.progress,g.y+(r.y-g.y)*N.progress))},onComplete:l}).start()},moveInCurveWithCubicOutIn:function(e,n,r,t,u,a,c){var l=new o(e.position.x,e.position.y),p=new o(e.scale.x,e.scale.y),v=new o((l.x+n.x)/2+u,(l.y+n.y)/2+a),y={progress:0},x=function(){var o=s(l,v,n,y.progress);e.setPosition(o.x,o.y,0),e.setScale(p.x+(r.x-p.x)*y.progress,p.y+(r.y-p.y)*y.progress)};i(y).to(t/2,{progress:.5},{easing:"cubicOut",onUpdate:x}).to(t/2,{progress:1},{easing:"cubicIn",onUpdate:x}).call((function(){null==c||c()})).start()}}),n._RF.push({},"235005okqFGz63fYfQpGut+","curveTween",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/dropDownMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./signal.ts"],(function(t){var n,e,i,o,r,a,u,l,s,c,p,h,f,d,g,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,u=t._decorator,l=t.Button,s=t.Node,c=t.Label,p=t.Prefab,h=t.CCInteger,f=t.Component,d=t.instantiate,g=t.UITransform},function(t){b=t.Signal}],execute:function(){var m,v,B,C,O,y,I,M,S,L,w,D,x;a._RF.push({},"5dc06+LZEtKgoUbDtHQjJOM","dropDownMenu",void 0);var P=u.ccclass,_=u.property;t("default",(m=P("DropDownMenu"),v=_(l),B=_(s),C=_(c),O=_(p),y=_(h),m((S=n((M=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"mainButton",S,o(n)),i(n,"menuContainer",L,o(n)),i(n,"mainButtonLabel",w,o(n)),i(n,"optionButtonPrefab",D,o(n)),i(n,"startIndex",x,o(n)),n._isOpen=!1,n.optionButtons=[],n.onOptionSelectedSignal=new b("onOptionSelectedSignal"),n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.menuContainer.active=this._isOpen,this.mainButton.node.on("click",this.toggleMenu,this)},a.populateMenu=function(t,n,e){var i=this;void 0===e&&(e="Default"),this.clearMenu();for(var o,r=t.length>0?t:[e],a=function(){var t=r[u];if(!i.optionButtonPrefab)return console.error("Option Button Prefab is not assigned in DropdownMenu."),{v:void 0};var n=d(i.optionButtonPrefab),e=n.getComponent(g);n.setPosition(0,u*e.contentSize.height,0),i.menuContainer.addChild(n);var o=n.getComponent(l),a=n.getComponentInChildren(c);a&&(a.string=t),o&&(i.optionButtons.push(o),o.node.on("click",(function(){i.onOptionSelected(t)}),i))},u=0;u<r.length;u++)if(o=a())return o.v;if(r.length>0&&this.mainButtonLabel){var s=r.findIndex((function(t){return t===n}));this.startIndex=s>-1?s:this.startIndex;var p=this.startIndex>r.length-1?0:r.length>this.startIndex?this.startIndex:0;this.mainButtonLabel.string=r[p],this.onOptionSelectedSignal.dispatch(r[p])}},a.clearMenu=function(){this.menuContainer.removeAllChildren();for(var t,n=r(this.optionButtons);!(t=n()).done;){t.value.node.targetOff(this)}this.optionButtons=[]},a.toggleMenu=function(){this._isOpen=!this._isOpen,this.menuContainer.active=this._isOpen},a.onOptionSelected=function(t){this.mainButtonLabel&&(this.mainButtonLabel.string=t),this.onOptionSelectedSignal.dispatch(t),this.toggleMenu()},a.onDestroy=function(){var t;null==(t=this.mainButton)||null==(t=t.node)||t.off("click",this.toggleMenu,this)},n}(f)).prototype,"mainButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(M.prototype,"menuContainer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(M.prototype,"mainButtonLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(M.prototype,"optionButtonPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(M.prototype,"startIndex",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=M))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/DropdownMenuCreator.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"577e88ZoNJBhqHp/LlIx+ZV","DropdownMenuCreator",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/eventSignals.ts",["cc","./signal.ts"],(function(n){var e,l;return{setters:[function(n){e=n.cclegacy},function(n){l=n.Signal}],execute:function(){e._RF.push({},"03e4aRIlBRPhLvrrNQ38GQf","eventSignals",void 0);n("playfieldLoadedSignal",new l("PlayfieldLoadedSignal")),n("startRoundSignal",new l("StartRoundSignal")),n("spinReelSignal",new l("SpinReelSignal")),n("stopReelSignal",new l("StopReelSignal")),n("showReelResultSignal",new l("ShowReelResultSignal")),n("setReelSignal",new l("SetReelSignal")),n("setReelsSignal",new l("SetReelsSignal")),n("setReelsUpdateSignal",new l("SetReelsUpdateSignal")),n("addToBalanceSignal",new l("AddToBalanceSignal")),n("setBalanceSignal",new l("SetBalanceSignal")),n("addToWonSignal",new l("AddToWonSignal")),n("setWonSignal",new l("SetWonSignal")),n("stakeChangedSignal",new l("StakeChangedSignal")),n("createWinningsSignal",new l("CreateWinningsSignal")),n("changeReelSpinDirectionSignal",new l("ChangeReelSpinDirectionSignal")),n("popSymbolsSignal",new l("PopSymbolsSignal")),n("tumbleSymbolsSignal",new l("TumbleSymbolsSignal")),n("increaseTumbleCountSignal",new l("IncreaseTumbleCountSignal")),n("godFeatureSignal",new l("GodFeatureSignal")),n("godFeatureResetSignal",new l("GodFeatureResetSignal")),n("animateGodSymbolSignal",new l("AnimateGodSymbolSignal")),n("moveCoinSignal",new l("MoveCoinSignal")),n("moveCoinCompleteSignal",new l("MoveCoinCompleteSignal")),n("setRoundTypeSignal",new l("SetRoundTypeSignal")),n("bonusStartRollsSignal",new l("BonusStartRollsSignal")),n("bonusStopRollsSignal",new l("BonusStopRollsSignal")),n("bonusResetRollsSignal",new l("BonusResetRollsSignal")),n("bonusActivateItemSignal",new l("BonusActivateItemSignal")),n("freeSpinsActivateSignal",new l("FreeSpinsActivateSignal")),n("freeSpinsActivateAnimationSignal",new l("FreeSpinsActivateAnimationSignal")),n("freeSpinsMultiplyWinlinesSignal",new l("FreeSpinsMultiplyWinlinesSignal")),n("freeSpinsToggleJackpotSignal",new l("FreeSpinsToggleJackpotSignal")),n("respinTriggerSignal",new l("RespinTriggerSignal")),n("respinGodsSignal",new l("RespinGodsSignal")),n("bonusBuyTestSignal",new l("BonusBuyTestSignal"));e._RF.pop()}}}));

System.register("chunks:///_virtual/featureStatus.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"201e7u13VdF4rvk/UkWThhz","featureStatus",void 0);t("FeatureStatus",function(t){return t.Normal="normal",t.Activated="activated",t.Disabled="disabled",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./eventSignals.ts","./playfieldComponent.ts","./reelsData.ts","./gameplayCalculations.ts","./gameplayModel.ts"],(function(e){var i,n,t,l,o,a,s,d,r,p,u,c,y,f,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.director,d=e.Component},function(e){r=e.PlayfieldModel},function(e){p=e.playfieldLoadedSignal,u=e.setReelsSignal},function(e){c=e.PlayfieldComponent},function(e){y=e.bonusReelsData},function(e){f=e.generateRandomSymbols},function(e){h=e.GameplayModel}],execute:function(){var m,g,C,b,v;o._RF.push({},"aed12wnk8BJH6gaIRGaeo9o","game",void 0);var M=a.ccclass,L=a.property;e("GameComponent",(m=M("GameComponent"),g=L(c),m((v=i((b=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(i=e.call.apply(e,[this].concat(o))||this).playfieldModel=null,i.gameplayModel=null,t(i,"playfieldComponent",v,l(i)),i.isPaused=!1,i.playfieldLoadedBind=i.playfieldLoadedHandler.bind(l(i)),i.handleVisibilityChangeBind=i.visibilityChangeHandler.bind(l(i)),i}n(i,e);var o=i.prototype;return o.onLoad=function(){p.addListener(this.playfieldLoadedBind),document.addEventListener("visibilitychange",this.handleVisibilityChangeBind)},o.onDestroy=function(){p.removeListener(this.playfieldLoadedBind),document.removeEventListener("visibilitychange",this.handleVisibilityChangeBind)},o.visibilityChangeHandler=function(){document.hidden&&!this.isPaused?(s.pause(),this.isPaused=!0):!document.hidden&&this.isPaused&&(s.resume(),this.isPaused=!1)},o.playfieldLoadedHandler=function(){this.playfieldComponent=this.node.scene.getComponentInChildren(c),this.playfieldModel=this.playfieldComponent.getComponent(r),this.gameplayModel=this.node.scene.getComponentInChildren(h),this.setStartSymbols(),this.setStartGodSymbols()},o.setStartSymbols=function(){var e=this.gameplayModel.getCurrentPillarCounts(),i=f({pillarCountPerGod:e});this.playfieldModel.reels.forEach((function(e,n){e.reelModel.result=i[n]})),u.dispatch({symbols:i})},o.setStartGodSymbols=function(){for(var e=[],i=y.playFieldDimensions.columns,n=y.playFieldDimensions.rows,t=0;t<i;t++){for(var l=n[t],o=[],a=0;a<l.total;a++)o.push({value:0});e.push(o.reverse())}this.playfieldModel.godReels.forEach((function(i,n){i.reelModel.result=e[n]})),u.dispatch({symbols:e,isGodReels:!0})},i}(d)).prototype,"playfieldComponent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameClasses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./godFeatureTypes.ts","./jackpotTypes.ts","./bonusTypes.ts","./roundTypes.ts","./bonusSideType.ts"],(function(e){var i,t,n,r,o,l,u,a,p,s,b,c,f,y,h,m,d,g,z;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.createClass},function(e){r=e.cclegacy,o=e._decorator,l=e.Enum,u=e.Prefab,a=e.Node,p=e.CCInteger,s=e.CCFloat,b=e.Label,c=e.AudioClip,f=e.SpriteFrame},function(e){y=e.GodFeatureTypes},function(e){h=e.JackpotTypes},function(e){m=e.BonusItemTypes,d=e.BonusModifierTypes},function(e){g=e.RoundTypes},function(e){z=e.BonusSideType}],execute:function(){var w,T,C,L,k,v,B,F,M,N,x,D,P,S,G,R,I,J,A,j,E,V,_,X,O,q,H,Z,K,Q,U,W,Y,$,ee,ie,te,ne,re,oe,le,ue,ae,pe,se,be,ce,fe,ye,he,me,de,ge,ze,we,Te,Ce,Le,ke,ve,Be,Fe,Me,Ne,xe,De,Pe,Se,Ge,Re,Ie,Je,Ae,je,Ee,Ve,_e,Xe,Oe,qe,He,Ze,Ke,Qe,Ue,We,Ye,$e,ei,ii,ti,ni,ri,oi,li,ui,ai,pi,si,bi,ci,fi,yi,hi,mi;r._RF.push({},"2922ffGmExIrqZRXxOSJO5s","gameClasses",void 0);var di=o.ccclass,gi=o.property,zi=(e("GodCoins",(w=di("GodCoins"),T=gi({type:l(y)}),C=gi(u),w((v=i((k=function(){t(this,"type",v,this),t(this,"prefab",B,this)}).prototype,"type",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(k.prototype,"prefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=k))||L)),e("JackpotCoins",(F=di("JackpotCoins"),M=gi({type:l(h)}),N=gi(u),F((P=i((D=function(){t(this,"type",P,this),t(this,"prefab",S,this)}).prototype,"type",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(D.prototype,"prefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=D))||x)),e("FeatureNode",(G=di("FeatureNode"),R=gi({type:l(y)}),I=gi(a),G((j=i((A=function(){t(this,"type",j,this),t(this,"node",E,this)}).prototype,"type",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(A.prototype,"node",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=A))||J)),e("JackpotNode",(V=di("JackpotNode"),_=gi({type:l(h)}),X=gi(a),V((H=i((q=function(){t(this,"type",H,this),t(this,"node",Z,this)}).prototype,"type",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(q.prototype,"node",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=q))||O)),e("BonusItem",(K=di("BonusItem"),Q=gi({type:l(m)}),U=gi({type:l(d),visible:function(){return this.itemType===m.Modifier}}),W=gi({type:u}),K((ee=i(($=function(){t(this,"itemType",ee,this),t(this,"modifierType",ie,this),t(this,"prefab",te,this)}).prototype,"itemType",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.None}}),ie=i($.prototype,"modifierType",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),te=i($.prototype,"prefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=$))||Y)),e("ValueTypeNumber",di("ValueTypeNumber")(ne=function(){this.value=void 0,this.type=void 0})||ne),e("RoundPlayfield",(re=di("RoundPlayfield"),oe=gi({type:l(g)}),le=gi(a),re((pe=i((ae=function(){t(this,"type",pe,this),t(this,"target",se,this)}).prototype,"type",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Normal}}),se=i(ae.prototype,"target",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=ae))||ue)),e("ExcludedBonusItem",(be=di("ExcludedBonusItem"),ce=gi({type:l(m)}),fe=gi({type:l(d),visible:function(){return this.itemType===m.Modifier}}),ye=gi({type:l(h),visible:function(){return this.itemType===m.Jackpot}}),be((de=i((me=function(){t(this,"itemType",de,this),t(this,"modifierType",ge,this),t(this,"jackpotType",ze,this)}).prototype,"itemType",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.None}}),ge=i(me.prototype,"modifierType",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ze=i(me.prototype,"jackpotType",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),he=me))||he)),e("PrizeData",(we=di("PrizeData"),Te=gi(p),Ce=gi(s),we((ve=i((ke=function(){t(this,"winlineCount",ve,this),t(this,"multiplier",Be,this)}).prototype,"winlineCount",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),Be=i(ke.prototype,"multiplier",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Le=ke))||Le)));e("SymbolPrize",(Fe=di("SymbolPrize"),Me=gi(p),Ne=gi({type:[zi]}),Fe((Pe=i((De=function(){function e(){t(this,"symbolValue",Pe,this),t(this,"prizeData",Se,this)}return e.prototype.getMultiplier=function(e){var i,t,n,r=Math.min.apply(Math,this.prizeData.map((function(e){return e.winlineCount})));if(e<r)return 0;var o=null==(i=this.prizeData.filter((function(i){return e>=i.winlineCount})).sort((function(e,i){return i.winlineCount-e.winlineCount}))[0])?void 0:i.winlineCount;return null!=(t=null==(n=this.prizeData.find((function(e){return e.winlineCount===o})))?void 0:n.multiplier)?t:1},e}()).prototype,"symbolValue",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Se=i(De.prototype,"prizeData",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=De))||xe)),e("BonusSpins",(Ge=di("BonusSpins"),Re=gi({type:l(z)}),Ie=gi(b),Je=gi(b),Ge((Ee=i((je=function(){function e(){t(this,"sideType",Ee,this),t(this,"spinsLeftLbl",Ve,this),t(this,"spinsTotalLbl",_e,this)}return n(e,[{key:"spinsTotalCount",get:function(){return this.spinsTotalLbl?Number(this.spinsTotalLbl.string):0},set:function(e){this.spinsTotalLbl&&(this.spinsTotalLbl.string=e.toFixed(0))}},{key:"spinsLeftCount",get:function(){return this.spinsLeftLbl?Number(this.spinsLeftLbl.string):0},set:function(e){this.spinsLeftLbl&&(this.spinsLeftLbl.string=e.toFixed(0))}}]),e}()).prototype,"sideType",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.Center}}),Ve=i(je.prototype,"spinsLeftLbl",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(je.prototype,"spinsTotalLbl",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=je))||Ae)),e("BonusMainMultiplier",(Xe=di("BonusMainMultiplier"),Oe=gi({type:l(y)}),qe=gi(b),Xe((Ke=i((Ze=function(){function e(){t(this,"godFeatureType",Ke,this),t(this,"multiplierLbl",Qe,this)}return n(e,[{key:"mainMultiplier",get:function(){var e,i;return parseFloat(null!=(e=null==(i=this.multiplierLbl)?void 0:i.string.replace("X",""))?e:"1")},set:function(e){this.multiplierLbl.string="X"+e.toFixed(2)}}]),e}()).prototype,"godFeatureType",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Athena}}),Qe=i(Ze.prototype,"multiplierLbl",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=Ze))||He)),e("BackGroundAudio",(Ue=di("BackGroundAudio"),We=gi({type:l(g)}),Ye=gi(c),Ue((ii=i((ei=function(){t(this,"type",ii,this),t(this,"audioClip",ti,this)}).prototype,"type",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=i(ei.prototype,"audioClip",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=ei))||$e)),e("GodAudio",(ni=di("GodAudio"),ri=gi({type:l(y)}),oi=gi(c),ni((ai=i((ui=function(){t(this,"type",ai,this),t(this,"audioClip",pi,this)}).prototype,"type",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=i(ui.prototype,"audioClip",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=ui))||li)),e("RoundBackground",(si=di("RoundBackground"),bi=gi({type:l(g)}),ci=gi(f),si((hi=i((yi=function(){t(this,"type",hi,this),t(this,"texture",mi,this)}).prototype,"type",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi=i(yi.prototype,"texture",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=yi))||fi));r._RF.pop()}}}));

System.register("chunks:///_virtual/gameData.ts",["cc","./godFeatureTypes.ts","./jackpotTypes.ts","./specialSymbols.ts"],(function(e){var i,n,r,t;return{setters:[function(e){i=e.cclegacy},function(e){n=e.GodFeatureTypes},function(e){r=e.JackpotTypes},function(e){t=e.SpecialSymbolTypes}],execute:function(){var o,l;i._RF.push({},"27a31UMRTRDlZbohVoiUp35","gameData",void 0);e("gameData",{respin:{possibleCount:3,removeCount:{min:3,max:6}},bonus:{tumble:{minimumCount:6,multiplierPerCount:{6:1,8:1,10:1,12:1,14:1}},mainMultipliers:{increaseCount:.25}},freeSpins:{fillAmount:5,maxSpecialSymbolCount:(o={},o[t.Wild]=6,o[t.Multiplier]=3,o)},winlines:{minimumCount:8},godTypePerColumn:[n.Ares,n.Ares,n.Ares,void 0,n.Athena,n.Athena,n.Athena],jackpotTypesPerColumn:[[r.Unreal,r.Warlord,r.Mythic],[r.Unreal,r.Warlord,r.Mythic],[r.Unreal,r.Warlord,r.Mythic],[r.Unreal,r.Warlord,r.Mythic,r.Divine,r.Heroic,r.Legendary],[r.Divine,r.Heroic,r.Legendary],[r.Divine,r.Heroic,r.Legendary],[r.Divine,r.Heroic,r.Legendary]],coinburst:{thresholds:{normal:{multiplier:5},big:{multiplier:20},super:{multiplier:50},mega:{multiplier:100}}},symbolCount:{normal:9,special:2,total:11},tension:{},gods:{maxPillarValue:40,startPillarCount:10,averageTriggerCount:10,freeSpinCount:10,transforms:(l={},l[n.Ares]={pot:{begin:-40,end:120},coins:{hidden:110,begin:115,end:165}},l[n.Athena]={pot:{begin:-40,end:120},coins:{hidden:110,begin:115,end:165}},l)},timings:{pre:{fast:100,winline:600,loop:600},winlines:{normal:{lineSpeed:3e3,perSymbol:75,perWinline:1e3},fast:{lineSpeed:5e3,perSymbol:40,perWinline:600},sound:{perWinline:400}}}});i._RF.pop()}}}));

System.register("chunks:///_virtual/gameInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./godFeatureTypes.ts","./gameplayModel.ts","./eventSignals.ts","./roundTypes.ts","./bonusModel.ts","./bonusSideType.ts","./specialSymbols.ts","./hudModel.ts"],(function(e){var n,l,o,t,d,u,s,a,i,r,p;return{setters:[function(e){n=e.inheritsLoose},function(e){l=e.cclegacy,o=e._decorator,t=e.input,d=e.Input,u=e.KeyCode,s=e.Component},function(e){a=e.PlayfieldModel},null,function(e){i=e.GameplayModel},null,null,function(e){r=e.BonusModel},null,null,function(e){p=e.HudModel}],execute:function(){var c;l._RF.push({},"34a09f3Bx9LKoQ9+ObUDAgE","gameInput",void 0);var y=o.ccclass;e("GameInput",y("GameInput")(c=function(e){function l(){for(var n,l=arguments.length,o=new Array(l),t=0;t<l;t++)o[t]=arguments[t];return(n=e.call.apply(e,[this].concat(o))||this).playfieldModel=null,n.bonusModel=null,n.gameplayModel=null,n.hudModel=null,n}n(l,e);var o=l.prototype;return o.onLoad=function(){var e=this;t.on(d.EventType.KEY_UP,(function(n){if(n.keyCode===u.SPACE){if(e.playfieldModel.reelsRolling||!e.gameplayModel.canStartRound||e.hudModel.isAutoplayStarted||e.gameplayModel.bonusStarted)return;e.gameplayModel.startRound(e.playfieldModel,e.bonusModel)}}))},o.start=function(){this.playfieldModel=this.node.scene.getComponentInChildren(a),this.gameplayModel=this.node.scene.getComponentInChildren(i),this.bonusModel=this.node.scene.getComponentInChildren(r),this.hudModel=this.node.scene.getComponentInChildren(p)},l}(s))||c);l._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayCalculations.ts",["cc","./coinData.ts","./gameData.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./reelsData.ts","./randomizer.ts","./specialSymbols.ts"],(function(e){var l,a,t,i,o,u,n,r,s,v,h,g,d,p,c,w;return{setters:[function(e){l=e.cclegacy},function(e){a=e.CoinTypes},function(e){t=e.gameData},function(e){i=e.GodFeatureTypes,o=e.godFeatureTypeToId,u=e.idToGodFeatureType},function(e){n=e.jackpotTypeToWeight},function(e){r=e.reelsData,s=e.bonusReelsData},function(e){v=e.Randomizer,h=e.createWeightedTable},function(e){g=e.SpecialSymbolTypes,d=e.specialSymbolIdToType,p=e.godTypeToSpecialSymbolType,c=e.specialSymbolTypeToGodType,w=e.specialSymbolTypeToId}],execute:function(){var f,m;e({addGodCoinsToCoinsResult:function(e,l){if(0===e.length)return e;for(var i=l.reelsData.playFieldDimensions.columns,n=0;n<i;n++){var r,s=[];if(l.freeSpins){var v,h=null==(v=l.jackpotGodTypePerColumn)?void 0:v.map((function(e){return[e]}));s=k({reelsData:l.reelsData,activeGods:l.activeGods,jackpotTypesPerColumn:h,freeSpins:l.freeSpins}),console.log("addGodCoinsToCoinsResult | jackpotGodResult",s)}for(var g=F({columnId:n,godValue:null!=(r=o[t.godTypePerColumn[n]])?r:0,reelsData:l.reelsData,freeSpins:l.freeSpins,cheat:l.cheat}),d=[],p=0;p<l.reelsData.playFieldDimensions.rows[n].total;p++){var c,w=g[p].value,f=e[n][p];if(w>0&&l.hasGodInReels[n])d.push({coinType:a.God,valueType:u[w]});else if(null!=(c=s)&&null!=(c=c[n])&&c[p]&&(void 0===(null==f?void 0:f.coinType)||s[n][p].coinType===a.Jackpot)&&l.hasGodInReels[n]){var m=s[n][p];d.push({coinType:m.coinType,valueType:m.valueType})}else d.push(f)}e[n]=d}return e},drawChanceOfGodFeatureTrigger:function(){var e=Math.floor(150*Math.random());return 1>e},drawChanceOfRandomGodFeature:C,drawGodsInReels:function(e){var l=[];if(e.isRespin&&!e.useGodReels)return l;for(var a=0;a<e.columnCount;a++)if(e.excludeColumnIndices.includes(a))l.push(!1);else{var t=Math.floor(100*Math.random()),i=e.isEndResult?y[a]:15,o=!!e.cheat||t<i;l.push(o)}return l},drawRandomGodFeatureActivation:function(e){for(var l,a=((l={})[g.Wild]=0,l[g.Multiplier]=0,l),t=Object.values(i).map((function(e){return e})),o=0;o<t.length;o++){var u,n=p[t[o]];null!=(u=e.godCoinDrawn)&&u.includes(t[o])&&(C()||e.cheat)&&(a[n]=G(c[n]))}return a},drawRandomGodFeatureAmount:G,generateGodReelResult:M,generateGodReelsResult:function(e){for(var l=[],a=0;a<e.reelsData.playFieldDimensions.columns;a++){var t,i,o;l.push(M({columnId:a,godValue:null!=(t=e.godValuePerColumn[a])?t:0,reelsData:e.reelsData,hasGodColumn:!!e.hasGodInReels&&(null!=(i=null==(o=e.hasGodInReels)?void 0:o[a])&&i),isEndResult:e.isEndResult}))}return l},generateGodResult:F,generateJackpotCoinsResult:function(e){var l=[];if(e.isRespin)return l;for(var t=e.reelsData.playFieldDimensions.columns,i=function(){for(var t=e.reelsData.playFieldDimensions.rows[o],i=Math.floor((t.total-t.visible)/2),u=i+t.visible,n=Array.from({length:t.total}).map((function(l,a){var t=Math.floor(100*Math.random()),o=e.freeSpins?2:8;return a>=i&&a<u&&o>t?1:0})),r=[],s=0;s<t.total;s++){var v=n[s]>0;if(e.jackpotTypePerColumn||e.jackpotTypes){var h,g,d,p,c=Math.floor(Math.random()*(null!=(h=null!=(g=null==(d=e.jackpotTypes)?void 0:d.length)?g:null==(p=e.jackpotTypePerColumn)?void 0:p.length)?h:0)),w=e.jackpotTypePerColumn?e.jackpotTypePerColumn[o]:e.jackpotTypes[c];r.push({coinType:v?a.Jackpot:void 0,valueType:v?w:void 0})}else console.error("No jackpot types or jackpot type per column")}l.push(r)},o=0;o<t;o++)i();return l},generateJackpotCoinsResultTwo:k,generateRandomSymbols:function(e){for(var l,a,t,o,u,n=null!=(l=null==e?void 0:e.currentSymbols)?l:Array(r.playFieldDimensions.columns).fill([]),v=null!=e&&e.gods?s.playFieldDimensions.rows:r.playFieldDimensions.rows,h=null!=e&&e.gods?s.playFieldDimensions.columns:r.playFieldDimensions.columns,p=(null!=(a=null==e||null==(t=e.specials)?void 0:t.length)?a:0)>0,c=((o={})[g.Wild]=0,o[g.Multiplier]=0,o),w=((u={})[g.Wild]=e.pillarCountPerGod?W(i.Ares,e.pillarCountPerGod[i.Ares]):0,u[g.Multiplier]=e.pillarCountPerGod?W(i.Athena,e.pillarCountPerGod[i.Athena]):0,u),f=0;f<h;f++){var m,y;if(null==e||!e.includedColumns||null!=e&&e.includedColumns[f]){for(var D=null!=(m=null==e||null==(y=e.currentSymbols)?void 0:y[f])?m:Array(r.playFieldDimensions.rows[f].total).fill({value:0}),b=v[f].total,R=.5*(r.playFieldDimensions.rows[f].total-r.playFieldDimensions.rows[f].visible),C=b-1-R,G=0;G<b;G++){var M=0;if(p&&G>=R&&G<=C){do{M=T.betterRandom({gods:null==e?void 0:e.gods,specials:null==e?void 0:e.specials,cheat:null==e?void 0:e.cheat})}while(c[d[M]]&&c[d[M]]>=w[d[M]]);d[M]&&c[d[M]]++}else M=T.betterRandom({gods:null==e?void 0:e.gods,cheat:null==e?void 0:e.cheat});D[G]={value:M}}n[f]=D}}return n},getGodFeatureTypeSymbolsAmount:W,getGodReelsResult:function(e,l){var a,o=structuredClone(e),u=((a={})[i.Ares]=void 0,a[i.Athena]=void 0,a);if(!l.hasGodInReels.some((function(e){return e})))return o;for(var n=t.godTypePerColumn,r=0;r<o.length;r++)if(l.hasGodInReels[r]){var s=o[r],v=Math.floor(Math.random()*s.length),h={value:0},g=0;do{var d;if(g>10){h={value:Math.floor(Math.random()*(w.wild-1))+1},u[n[r]]=h;break}h=null!=(d=u[n[r]])?d:structuredClone(s[v]),u[n[r]]=h,g++}while(h.value===w.wild||h.value===w.multiplier);for(var p=[],c=0;c<s.length;c++)p.push(h);o[r]=p}return o},getJackpotTypeWeightedList:S,groupOfTen:I}),l._RF.push({},"bb4f1E83lhGIYtA/FVPrOqi","gameplayCalculations",void 0);var y=[8,5,1,0,1,5,8],T=e("randomizer",new v),D=e("specialSymbolWildOnBonusHolderHitTable",[{value:0,weight:90},{value:1,weight:30},{value:2,weight:5},{value:3,weight:1}]),b=e("specialSymbolMultiplierOnBonusHolderHitTable",[{value:0,weight:50},{value:1,weight:20},{value:2,weight:10},{value:3,weight:1}]),R=e("randomGodFeatureOnBonusHolderHitTable",((f={})[i.Ares]=h(D),f[i.Athena]=h(b),f));function C(){return 10>Math.floor(100*Math.random())}function G(e){var l=R[e];return l[Math.floor(Math.random()*l.length)]}function M(e){var l=e.reelsData.playFieldDimensions.rows[e.columnId];if(e.isEndResult){for(var a=[],t=.5*(l.total-l.visible),i=0;i<l.total;i++)a.push({value:i===t&&e.hasGodColumn?e.godValue:0});return a.reverse()}var o=2*l.visible,u=Math.floor(Math.random()*o);return Array.from({length:l.total}).map((function(l,a){return{value:a===u?e.godValue:0}}))}function F(e){for(var l=e.reelsData.playFieldDimensions.rows[e.columnId],a=[],t=Math.floor((l.total-l.visible)/2),i=t+l.visible,o=!1,u=Array.from({length:l.total}).map((function(l,a){var u=Math.floor(100*Math.random()),n=!!e.cheat||!o&&50>u;return n&&!o&&(o=!0),a>=t&&a<i&&n?1:0})),n=0;n<l.total;n++){var r=e.freeSpins?0:e.godValue;a.push({value:u[n]>0?r:0})}return a}function k(e){var l=[];if(e.isRespin)return l;for(var t=e.reelsData.playFieldDimensions.columns,i=function(){var t,i=e.reelsData.playFieldDimensions.rows[u],n=Math.floor((i.total-i.visible)/2),r=n+i.visible,s=Array.from({length:i.total}).map((function(l,a){var t=Math.floor(100*Math.random()),i=e.freeSpins?2:8;return a>=n&&a<r&&i>t?1:0}));if(!e.jackpotTypesPerColumn)return console.error("No jackpot types per column"),0;if(e.freeSpins&&!e.activeGods.includes(o[e.jackpotTypesPerColumn[u][0]]))return 0;var v=[],h=null==(t=e.jackpotTypesPerColumn)?void 0:t[u];if(h)for(var g=S(h),d=0;d<i.total;d++){var p=s[d]>0,c=g[Math.floor(Math.random()*g.length)];v.push({coinType:p?a.Jackpot:void 0,valueType:p?c:void 0})}else console.error("No jackpot types");l.push(v)},u=0;u<t;u++)i();return l}function S(e){var l=Object.keys(n).map((function(e){return e})).filter((function(l){return e.includes(l)})),a=[];return l.forEach((function(e){var l=n[e];a.push.apply(a,Array(l).fill(e))})),a}var j=e("wildDrawTable",{10:[{value:0,weight:125},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],20:[{value:0,weight:115},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],30:[{value:0,weight:110},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],40:[{value:0,weight:100},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],50:[{value:0,weight:85},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],60:[{value:0,weight:75},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],70:[{value:0,weight:70},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],80:[{value:0,weight:65},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],90:[{value:0,weight:50},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}],100:[{value:0,weight:50},{value:1,weight:30},{value:2,weight:15},{value:3,weight:10},{value:4,weight:3},{value:5,weight:2},{value:6,weight:1}]}),A=e("multiplierDrawTable",{10:[{value:0,weight:60},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],20:[{value:0,weight:55},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],30:[{value:0,weight:65},{value:1,weight:45},{value:2,weight:5},{value:3,weight:1}],40:[{value:0,weight:45},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],50:[{value:0,weight:40},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],60:[{value:0,weight:35},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],70:[{value:0,weight:30},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],80:[{value:0,weight:25},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],90:[{value:0,weight:20},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}],100:[{value:0,weight:20},{value:1,weight:20},{value:2,weight:5},{value:3,weight:1}]}),P=e("godFeatureDuringFreeSpinsTable",((m={})[i.Ares]={createWeightedTable:function(e){var l=I(e);return h(j[l])}},m[i.Athena]={createWeightedTable:function(e){var l=I(e);return h(A[l])}},m));function I(e){return 10*Math.floor(e/10)}function W(e,l){var a=P[e].createWeightedTable(l);return a[Math.floor(Math.random()*a.length)]}l._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./playfieldUpdate.ts","./godFeatureTypes.ts","./gameData.ts","./hudComponent.ts","./hudModel.ts","./roundTypes.ts","./gameClasses.ts","./specialSymbols.ts","./godFeatureModel.ts","./godFeatureComponent.ts","./jackpotComponent.ts"],(function(e){var t,n,i,r,o,a,u,s,l,p,c,d,f,h,g,y,S,m,b,v,C,F,T,k,R,M,A,L,B,w,z,j,x,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,a=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,p=e.CCBoolean,c=e.CCFloat,d=e.Label,f=e.randomRangeInt,h=e.Component},function(e){g=e.setRoundTypeSignal,y=e.freeSpinsActivateSignal,S=e.godFeatureResetSignal,m=e.changeReelSpinDirectionSignal,b=e.godFeatureSignal,v=e.bonusResetRollsSignal},function(e){C=e.playfieldUpdate},function(e){F=e.GodFeatureTypes},function(e){T=e.gameData},function(e){k=e.HudComponent},function(e){R=e.HudModel},function(e){M=e.RoundTypes},function(e){A=e.JackpotCoins,L=e.GodCoins,B=e.RoundPlayfield},function(e){w=e.SpecialSymbolTypes,z=e.specialSymbolTypeToGodType},function(e){j=e.GodFeatureModel},function(e){x=e.GodFeatureComponent},function(e){G=e.JackpotComponent}],execute:function(){var H,N,P,V,D,I,W,J,O,_,E,U,K,Z,q,Q,X,Y,$,ee,te,ne,ie,re,oe,ae,ue,se,le;s._RF.push({},"3a7c15rI05KTZ1Npv1COlVJ","gameplayModel",void 0);var pe=l.ccclass,ce=l.property;e("GameplayModel",(H=pe("GameplayModel"),N=ce(x),P=ce(G),V=ce({type:[A]}),D=ce({type:[L]}),I=ce([B]),W=ce(p),J=ce(p),O=ce(p),_=ce([c]),E=ce(c),U=ce(c),K=ce(d),Z=ce(d),H((X=t((Q=function(e){function t(){for(var t,n,o,a,u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];return(a=e.call.apply(e,[this].concat(s))||this).hudComponent=null,a.hudModel=null,i(a,"godFeatureComponent",X,r(a)),i(a,"jackpotComponents",Y,r(a)),i(a,"jackpotCoins",$,r(a)),i(a,"godCoins",ee,r(a)),i(a,"playfields",te,r(a)),i(a,"canStartRound",ne,r(a)),i(a,"bonusStarted",ie,r(a)),i(a,"reverse",re,r(a)),i(a,"stakes",oe,r(a)),i(a,"startBalance",ae,r(a)),i(a,"startStake",ue,r(a)),i(a,"freeSpinCountLabel",se,r(a)),i(a,"freeSpinTotalLabel",le,r(a)),a.respinEnabled=!1,a.respinResolvePromise=[],a.godFeatureModels=[],a.activatedSpecialFreeSpins=((t={})[w.Wild]=!1,t[w.Multiplier]=!1,t),a.specialsFeatureActivated=!1,a.roundType=M.Normal,a.previousRoundType=M.Normal,a.normalizedBonusFeatureValues=((n={})[F.Ares]=0,n[F.Athena]=0,n),a.showingCoins=!1,a.setRoundTypeBind=a.setRoundTypeHandler.bind(r(a)),a.freeSpinsActivateBind=a.freeSpinsActivateHandler.bind(r(a)),a.godFeatureResetBind=a.godFeatureResetHandler.bind(r(a)),a.setFieldsActive=((o={})[M.Normal]=function(){a.setFieldActive(M.Normal)},o[M.Bonus]=function(){a.setFieldActive(M.Bonus)},o[M.FreeSpin]=function(){a.setFieldActive(M.Normal)},o),a}n(t,e);var s=t.prototype;return s.getJackpotValueByType=function(e){var t,n;return null!=(t=null==(n=this.jackpotComponents.find((function(t){return t.jackpotType===e})))||null==(n=n.jackpotModel)?void 0:n.jackpotValue)?t:0},s.onLoad=function(){g.addListener(this.setRoundTypeBind),y.addListener(this.freeSpinsActivateBind),S.addListener(this.godFeatureResetBind)},s.onDestroy=function(){g.removeListener(this.setRoundTypeBind),y.removeListener(this.freeSpinsActivateBind),S.removeListener(this.godFeatureResetBind)},s.start=function(){this.hudComponent=this.node.scene.getComponentInChildren(k),this.hudModel=this.hudComponent.getComponent(R),this.godFeatureModels=this.godFeatureComponent.map((function(e){return e.getComponent(j)})),this.hudModel.balance=this.startBalance;var e=this.stakes.map((function(e){return"€"+(.01*e).toFixed(2)}));this.hudComponent.stakeMenu.populateMenu(e,"€"+(.01*this.startStake).toFixed(2)),g.dispatch({roundType:M.Normal})},s.startRound=function(){var e=a(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.roundType!==M.FreeSpin){e.next=4;break}this.playFreeSpin(),e.next=10;break;case 4:if(this.hudModel.hasSufficientBalance){e.next=7;break}return window.alert("Balance too low! Please, change stake."),e.abrupt("return");case 7:if(this.canStartRound){e.next=10;break}return console.warn("Cannot start round"),e.abrupt("return");case 10:return this.hudModel.isAutoplayEnabled&&(this.hudModel.isAutoplayStarted=!0),this.canStartRound=!1,console.log("start round"),e.next=15,C(this.reverse,{playfield:t,bonus:n,hud:this.hudModel,gameplay:this});case 15:console.log("end round"),this.canStartRound=!0,this.hudModel.isAutoplayStarted&&this.roundType===M.Normal&&this.startRound(t,n);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.playFreeSpin=function(){this.freeSpinCount++},s.resetFreeSpins=function(e){var t;(this.freeSpinCount=0,this.freeSpinLeft=T.gods.freeSpinCount,e===M.Normal)&&(this.activatedSpecialFreeSpins=((t={})[w.Wild]=!1,t[w.Multiplier]=!1,t))},s.changeReelSpinDirection=function(){this.reverse=!this.reverse,m.dispatch({reverse:this.reverse})},s.bonusFeatureTrigger=function(e){var t=f(3,7);this.normalizedBonusFeatureValues[e]=Math.min(this.normalizedBonusFeatureValues[e]+t/T.gods.maxPillarValue,1),b.dispatch({feature:e,addAmount:t})},s.setFieldActive=function(e){this.playfields.forEach((function(t){t.target.active=t.type===e}))},s.setRoundTypeHandler=function(e){this.previousRoundType=this.roundType,this.roundType=e.roundType,this.setFieldsActive[this.roundType](),v.dispatch(),e.roundType!==M.FreeSpin&&this.resetFreeSpins(e.roundType)},s.freeSpinsActivateHandler=function(e){this.activatedSpecialFreeSpins[e.specialType]=!0},s.godFeatureResetHandler=function(){this.specialsFeatureActivated=!1},s.getCurrentPillarCounts=function(){var e;return this.godFeatureComponent.reduce((function(e,t){return e[t.featureType]=t.countValue>=T.gods.startPillarCount?t.countValue:T.gods.startPillarCount,e}),((e={})[F.Ares]=0,e[F.Athena]=0,e))},o(t,[{key:"freeSpinCount",get:function(){return parseInt(this.freeSpinCountLabel.string)},set:function(e){this.freeSpinCountLabel.string=e.toString()}},{key:"freeSpinLeft",get:function(){return parseInt(this.freeSpinTotalLabel.string)},set:function(e){this.freeSpinTotalLabel.string=e.toString()}},{key:"isFreeSpinsCompleted",get:function(){return this.freeSpinCount===this.freeSpinLeft}},{key:"hasAnySpecialActivated",get:function(){return Object.values(this.activatedSpecialFreeSpins).some((function(e){return e}))}},{key:"activatedGodsList",get:function(){return Object.entries(this.activatedSpecialFreeSpins).filter((function(e){e[0];return e[1]})).map((function(e){var t=e[0];return z[t]}))}},{key:"activatedSpecialsList",get:function(){return Object.entries(this.activatedSpecialFreeSpins).filter((function(e){e[0];return e[1]})).map((function(e){return e[0]}))}},{key:"remainingWildsCount",get:function(){var e,t;return null!=(e=null==(t=this.godFeatureModels.find((function(e){return e.featureType===F.Ares})))?void 0:t.potCount)?e:0}},{key:"remainingMultiplierCount",get:function(){var e,t;return null!=(e=null==(t=this.godFeatureModels.find((function(e){return e.featureType===F.Athena})))?void 0:t.potCount)?e:0}},{key:"activatedSpecialCount",get:function(){var e;return(e={})[w.Wild]=this.activatedSpecialFreeSpins[w.Wild]?this.remainingWildsCount:0,e[w.Multiplier]=this.activatedSpecialFreeSpins[w.Multiplier]?this.remainingMultiplierCount:0,e}}]),t}(h)).prototype,"godFeatureComponent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(Q.prototype,"jackpotComponents",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(Q.prototype,"jackpotCoins",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(Q.prototype,"godCoins",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(Q.prototype,"playfields",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(Q.prototype,"canStartRound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ie=t(Q.prototype,"bonusStarted",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=t(Q.prototype,"reverse",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=t(Q.prototype,"stakes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(Q.prototype,"startBalance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),ue=t(Q.prototype,"startStake",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),se=t(Q.prototype,"freeSpinCountLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Q.prototype,"freeSpinTotalLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Q))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./godFeatureTypes.ts","./gameData.ts","./godFeatureModel.ts","./gameplayCalculations.ts","./specialSymbols.ts","./hudModel.ts","./featureStatus.ts","./wait.ts","./roundTypes.ts"],(function(e){var t,o,i,n,a,r,s,u,d,l,c,g,p,h,f,m,F,y,b,T,v,M,S,A,C,P,N,B,H,w,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,u=e.Node,d=e.ParticleSystem2D,l=e.Label,c=e.Enum,g=e.Color,p=e.tween,h=e.Vec3,f=e.Sprite,m=e.Component},function(e){F=e.startRoundSignal,y=e.setRoundTypeSignal,b=e.godFeatureResetSignal,T=e.godFeatureSignal,v=e.bonusBuyTestSignal,M=e.freeSpinsActivateSignal},function(e){S=e.GodFeatureTypes},function(e){A=e.gameData},function(e){C=e.GodFeatureModel},function(e){P=e.drawChanceOfGodFeatureTrigger},function(e){N=e.godTypeToSpecialSymbolType},function(e){B=e.HudModel},function(e){H=e.FeatureStatus},function(e){w=e.wait},function(e){R=e.RoundTypes}],execute:function(){var L,x,V,D,z,O,G,I,E,_,q,W,k,j,J;r._RF.push({},"8c755u0wCNA1qRD7awVP9ec","godFeatureComponent",void 0);var K=s.ccclass,Q=s.property;e("GodFeatureComponent",(L=K("GodFeatureComponent"),x=Q(u),V=Q(u),D=Q(u),z=Q(d),O=Q(l),G=Q({type:c(S),visible:!0}),L((_=t((E=function(e){function t(){for(var t,o,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(o=e.call.apply(e,[this].concat(r))||this).godFeatureModel=null,o.hudModel=null,i(o,"coinsNode",_,n(o)),i(o,"potNode",q,n(o)),i(o,"pillarNode",W,n(o)),i(o,"coinParticleSystem",k,n(o)),i(o,"countValueLbl",j,n(o)),i(o,"featureType",J,n(o)),o.coinsAnimOffset=.6,o.canTriggerPillar=!1,o.startRoundBind=o.startRoundHandler.bind(n(o)),o.setRoundTypeBind=o.setRoundTypeHandler.bind(n(o)),o.godFeatureResetBind=o.godFeatureResetHandler.bind(n(o)),o.godFeatureHandlerBind=o.godFeatureHandler.bind(n(o)),o.bonusBuyTestHandlerBind=o.bonusBuyTestHandler.bind(n(o)),o.freeSpinsActivateHandlerBind=o.freeSpinsActivateHandler.bind(n(o)),o.colorPerStatus=((t={})[H.Normal]=function(){o.setSpriteColor(o.potNode,g.WHITE),o.setSpriteColor(o.coinsNode,g.WHITE),o.setSpriteColor(o.pillarNode,g.WHITE)},t[H.Activated]=function(){o.setSpriteColor(o.potNode,new g("#FFFF91FF")),o.setSpriteColor(o.coinsNode,new g("#FFFF91FF")),o.setSpriteColor(o.pillarNode,new g("#FFFF91FF"))},t[H.Disabled]=function(){o.setSpriteColor(o.potNode,new g("#A7A7A7CC")),o.setSpriteColor(o.coinsNode,new g("#A7A7A7CC")),o.setSpriteColor(o.pillarNode,new g("#A7A7A7CC"))},t),o}o(t,e);var r=t.prototype;return r.onLoad=function(){F.addListener(this.startRoundBind),y.addListener(this.setRoundTypeBind),b.addListener(this.godFeatureResetBind),T.addListener(this.godFeatureHandlerBind),v.addListener(this.bonusBuyTestHandlerBind),M.addListener(this.freeSpinsActivateHandlerBind),this.godFeatureModel=this.node.addComponent(C),this.godFeatureModel.featureType=this.featureType,this.godFeatureModel.maxAmount=A.gods.maxPillarValue,this.godFeatureModel.avarageTriggerCount=A.gods.averageTriggerCount},r.onDestroy=function(){F.removeListener(this.startRoundBind),y.removeListener(this.setRoundTypeBind),b.removeListener(this.godFeatureResetBind),T.removeListener(this.godFeatureHandlerBind),v.removeListener(this.bonusBuyTestHandlerBind),M.removeListener(this.freeSpinsActivateHandlerBind)},r.start=function(){this.hudModel=this.node.scene.getComponentInChildren(B),this.reset()},r.startRoundHandler=function(){this.canTriggerPillar||(this.canTriggerPillar=P())},r.setRoundTypeHandler=function(e){e.roundType!==R.FreeSpin&&this.activatePot(H.Normal)},r.bonusBuyTestHandler=function(){this.countValue+=15,this.countValue>=this.godFeatureModel.maxAmount&&(this.countValue=this.godFeatureModel.maxAmount);var e=15/this.godFeatureModel.maxAmount;this.godFeatureModel.amountPercentage=Math.min(this.godFeatureModel.amountPercentage+e,1),this.countValue>this.godFeatureModel.maxAmount&&(this.countValue=this.godFeatureModel.maxAmount),this.growPots()},r.godFeatureHandler=function(e){var t=this;if(e.feature===this.featureType){this.countValue+=e.addAmount,this.countValue>this.godFeatureModel.maxAmount&&(this.countValue=this.godFeatureModel.maxAmount);var o=e.addAmount/this.godFeatureModel.maxAmount;this.godFeatureModel.amountPercentage=Math.min(this.godFeatureModel.amountPercentage+o,1),this.countValue>=this.godFeatureModel.avarageTriggerCount&&!e.bonusBuy&&(this.canTriggerPillar||this.hudModel.isPillarCheat)&&(this.godFeatureModel.status=H.Activated,w(100).then((function(){M.dispatch({specialType:N[t.featureType],amount:t.countValue}),t.canTriggerPillar=!1}))),this.growPots()}},r.growPots=function(){var e=A.gods.transforms[this.featureType],t=Math.min(this.godFeatureModel.amountPercentage/this.coinsAnimOffset,1),o=e.pot.begin+(e.pot.end-e.pot.begin)*t;p(this.potNode).to(.25,{position:new h(this.potNode.position.x,o,0)},{easing:"quintOut"}).start();var i=Math.max(this.godFeatureModel.amountPercentage-this.coinsAnimOffset,0),n=e.coins.begin+(e.coins.end-e.coins.begin)*(i/(1-this.coinsAnimOffset));p(this.coinsNode).to(.25,{position:new h(this.coinsNode.position.x,n,0)},{easing:"quintOut"}).start()},r.godFeatureResetHandler=function(e){e.feature===this.featureType&&this.reset()},r.freeSpinsActivateHandler=function(e){e.specialType===N[this.featureType]?this.activatePot(H.Activated):this.godFeatureModel.status!==H.Activated&&(this.godFeatureModel.status=H.Disabled,this.activatePot(H.Disabled))},r.activatePot=function(e){var t,o;null==(t=(o=this.colorPerStatus)[e])||t.call(o),e===H.Activated?this.coinParticleSystem.resetSystem():this.coinParticleSystem.stopSystem()},r.setSpriteColor=function(e,t){e.getComponent(f).color=t},r.reset=function(){var e=A.gods.transforms[this.featureType];this.potNode.position.set(this.potNode.position.x,e.pot.begin),this.coinsNode.position.set(this.coinsNode.position.x,e.coins.hidden),this.godFeatureModel.amountPercentage=A.gods.startPillarCount/this.godFeatureModel.maxAmount,this.countValue=A.gods.startPillarCount,this.godFeatureModel.status=H.Normal,this.activatePot(H.Normal),this.growPots()},a(t,[{key:"countValue",get:function(){return this.godFeatureModel.potCount},set:function(e){this.godFeatureModel.potCount=e,this.countValueLbl.string=e.toFixed(0)}}]),t}(m)).prototype,"coinsNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(E.prototype,"potNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(E.prototype,"pillarNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(E.prototype,"coinParticleSystem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),j=t(E.prototype,"countValueLbl",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(E.prototype,"featureType",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I=E))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./specialSymbols.ts","./gameClasses.ts","./reelsData.ts","./playfieldModel.ts","./wait.ts"],(function(e){var t,n,r,i,o,a,s,u,c,l,f,p,d,h,b,m,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Node,l=e.CCBoolean,f=e.Component,p=e.instantiate},function(e){d=e.freeSpinsActivateAnimationSignal},function(e){h=e.specialSymbolTypeToGodType},function(e){b=e.GodCoins},function(e){m=e.reelsData},function(e){y=e.PlayfieldModel},function(e){v=e.wait}],execute:function(){var S,g,D,P,w,x,M,A,k;s._RF.push({},"b3fb7teR+9DDLIu+unlhI6z","godFeatureDrop",void 0);var C=u.ccclass,T=u.property;e("GodFeatureDrop",(S=C("GodFeatureDrop"),g=T([b]),D=T([c]),P=T(l),S((M=t((x=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).playfieldModel=null,r(t,"featureSymbolPrefab",M,i(t)),r(t,"featureDropPositions",A,i(t)),r(t,"reverse",k,i(t)),t.featureSymbols=[],t.canMove=!1,t.timer=0,t.timerMax=1,t.freeSpinsActivateAnimationBind=t.freeSpinsActivateAnimationHandler.bind(i(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){d.addListener(this.freeSpinsActivateAnimationBind)},s.onDestroy=function(){d.removeListener(this.freeSpinsActivateAnimationBind)},s.start=function(){this.playfieldModel=this.node.scene.getComponentInChildren(y)},s.update=function(e){if(this.canMove){var t;if(this.timer+=e,this.timer>=this.timerMax)this.reset(),null==(t=this.playfieldModel.waitingStopPromise)||t.resolve();for(var n=m.rollSpeed.normal.y*e,r=0;r<this.featureSymbols.length;r++)this.featureSymbols[r].y+=this.reverse?n:-n}},s.freeSpinsActivateAnimationHandler=function(e){var t=Object.values(e.activatedSpecialCount).reduce((function(e,t){return e+t}),0)/this.featureDropPositions.length;this.timerMax=.2*t,this.spawnSymbolsToDrop(e.activatedSpecialCount)},s.spawnSymbolsToDrop=function(){var e=o(a().mark((function e(t){var n,r,i,o,s,u=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=0,i=Object.keys(t).map((function(e){return e})),o=a().mark((function e(){var o,c,l,f,d,b,y,S,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i[s],l=null==(o=u.featureSymbolPrefab.find((function(e){return e.type===h[c]})))?void 0:o.prefab){e.next=5;break}return console.warn("No prefab found for special type: "+c),e.abrupt("return",1);case 5:f=t[i[s]],d=0;case 7:if(!(d<f)){e.next=22;break}return b=r%u.featureDropPositions.length,y=Math.floor(r/u.featureDropPositions.length),S=u.featureDropPositions[b],(g=p(l)).setParent(S),n=m.transform[b].h*y,g.setPosition(0,n,0),u.featureSymbols.push(g),e.next=18,v(10);case 18:r++;case 19:d++,e.next=7;break;case 22:case"end":return e.stop()}}),e)})),s=0;case 5:if(!(s<i.length)){e.next=12;break}return e.delegateYield(o(),"t0",7);case 7:if(!e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:s++,e.next=5;break;case 12:return e.next=14,v(800);case 14:this.canMove=!0;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.reset=function(){this.disposeSymbols(),this.canMove=!1,this.timer=0},s.disposeSymbols=function(){this.featureSymbols.forEach((function(e){e.destroy()})),this.featureSymbols=[]},t}(f)).prototype,"featureSymbolPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(x.prototype,"featureDropPositions",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(x.prototype,"reverse",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=x))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./featureStatus.ts"],(function(t){var e,n,o,u,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,u=t.Component},function(t){r=t.FeatureStatus}],execute:function(){o._RF.push({},"1c715wqnMhH5YhVG37XfDp9","godFeatureModel",void 0);t("GodFeatureModel",function(t){function o(){for(var e,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))||this).featureType=void 0,e.amountPercentage=0,e.maxAmount=1,e.avarageTriggerCount=1,e.potCount=0,e.status=r.Normal,e}return e(o,t),n(o,[{key:"amount",get:function(){return this.amountPercentage*this.maxAmount}}]),o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureTypes.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;t._RF.push({},"070caJ+dBRAh7/IQ/gSPxUi","godFeatureTypes",void 0);var a=e("GodFeatureTypes",function(e){return e.Athena="athena",e.Ares="ares",e}({}));e("godFeatureTypeToId",((r={})[a.Athena]=10,r[a.Ares]=11,r)),e("idToGodFeatureType",{10:a.Athena,11:a.Ares});t._RF.pop()}}}));

System.register("chunks:///_virtual/godSymbolCompont.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./gameplayModel.ts","./resolvablePromise.ts","./gameData.ts","./godFeatureTypes.ts"],(function(e){var t,o,n,i,s,r,a,l,c,d,p,u,m,h,y,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Animation,l=e.CCInteger,c=e.UITransform,d=e.Vec3,p=e.tween,u=e.Component},function(e){m=e.respinGodsSignal},function(e){h=e.GameplayModel},function(e){y=e.ResolvablePromise},function(e){f=e.gameData},function(e){g=e.GodFeatureTypes}],execute:function(){var v,P,C,S,b,G;s._RF.push({},"ba966I4VHdFDaV9jAP3BpJL","godSymbolCompont",void 0);var I=r.ccclass,w=r.property,M=r.requireComponent;e("GodSymbolComponent",(v=I("GodSymbolComponent"),P=M(a),C=w(l),v(S=P((G=t((b=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).gameplayModel=null,n(t,"columnId",G,i(t)),t.startPosition=void 0,t.startScale=void 0,t.respinGodsBind=t.respinGodsHandler.bind(i(t)),t}o(t,e);var s=t.prototype;return s.onLoad=function(){this.startPosition=structuredClone(this.node.position),this.startScale=structuredClone(this.node.scale),m.addListener(this.respinGodsBind)},s.onDestroy=function(){m.removeListener(this.respinGodsBind)},s.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(h)},s.respinGodsHandler=function(e){var t,o=this;if(e.columnIds.includes(this.columnId)){var n=new y;null==(t=this.gameplayModel.respinResolvePromise)||t.push(n);var i=this.node.getComponent(c).contentSize,s=this.startPosition.x,r=this.startPosition.y-i.height,a=this.startPosition.z,l=new d(s,r,a),u=f.godTypePerColumn[this.columnId]===g.Ares?1:-1;p(this.node).to(2,{position:l},{easing:"backOut"}).call((function(){var e=new d(0,o.startScale.y,o.startScale.z),t=new d(s+u*(.5*i.width*o.startScale.x),r,a);p(o.node).to(.2,{position:t,scale:e},{easing:"linear"}).call((function(){o.reset(),n.resolve();var e=o.gameplayModel.respinResolvePromise.indexOf(n);e>-1&&o.gameplayModel.respinResolvePromise.splice(e,1)})).start()})).start()}},s.reset=function(){this.node.position=this.startPosition,this.node.scale=this.startScale},t}(u)).prototype,"columnId",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=b))||S)||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/gridMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,n,i,l,t,r,s;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,l=o.Mask,t=o.GraphicsComponent,r=o.Color,s=o.Component}],execute:function(){var T;n._RF.push({},"cd5a6fWYEFFCKNc+PNzLyMR","gridMask",void 0);var a=i.ccclass,c=i.menu,u=i.executeInEditMode;o("GridMask",a("GridMask")(T=c("UI/GridMask")(T=u(T=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var i=n.prototype;return i.start=function(){this.drawGraphicsMask()},i.drawGraphicsMask=function(){var o=this.getComponent(l).getComponent(t);o.clear(),o.lineWidth=2,o.strokeColor=r.WHITE,o.fillColor=r.WHITE,o.moveTo(-501,170),o.lineTo(-361,170),o.lineTo(-361,234),o.lineTo(-221,230),o.lineTo(-221,296),o.lineTo(-70,296),o.lineTo(-70,360),o.lineTo(70,360),o.lineTo(70,296),o.lineTo(220,296),o.lineTo(220,233),o.lineTo(361,233),o.lineTo(361,170),o.lineTo(501,170),o.lineTo(501,-221),o.lineTo(361,-221),o.lineTo(361,-284),o.lineTo(220,-284),o.lineTo(220,-348),o.lineTo(70,-348),o.lineTo(70,-410),o.lineTo(-70,-410),o.lineTo(-70,-348),o.lineTo(-221,-348),o.lineTo(-221,-284),o.lineTo(-361,-284),o.lineTo(-361,-221),o.lineTo(-501,-221),o.close(),o.fill(),o.stroke()},n}(s))||T)||T)||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/hudComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./hudModel.ts","./dropDownMenu.ts","./eventSignals.ts","./roundTypes.ts","./gameplayModel.ts"],(function(e){var t,n,o,l,i,a,r,u,d,s,g,h,c,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.Label,u=e.Toggle,d=e.Component},function(e){s=e.HudModel},function(e){g=e.default},function(e){h=e.startRoundSignal,c=e.stakeChangedSignal},function(e){p=e.RoundTypes},function(e){b=e.GameplayModel}],execute:function(){var f,T,y,m,C,M,S,k,w,z,v,L,H,B,R,V,D,J,F,_,I,O,P,j,x,A,G;i._RF.push({},"ab21ehty6tHerJyn3+FwlhT","hudComponent",void 0);var N=a.ccclass,q=a.property;e("HudComponent",(f=N("HudComponent"),T=q(g),y=q(r),m=q(r),C=q(u),M=q(u),S=q(u),k=q(u),w=q(u),z=q(u),v=q(u),L=q(u),H=q(u),f((V=t((R=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).hudModel=null,o(t,"stakeMenu",V,l(t)),o(t,"balanceValue",D,l(t)),o(t,"wonValue",J,l(t)),o(t,"easyTumbleToggle",F,l(t)),o(t,"mysteryColumnToggle",_,l(t)),o(t,"godCoinCheatToggle",I,l(t)),o(t,"pillarCheatToggle",O,l(t)),o(t,"randomCheatToggle",P,l(t)),o(t,"bonusJackpotToggle",j,l(t)),o(t,"bonusCollectToggle",x,l(t)),o(t,"respinCheatToggle",A,l(t)),o(t,"autoplayToggle",G,l(t)),t.onRoundStartBind=t.roundStartHandler.bind(l(t)),t.onStakeSelectedBind=t.stakeSelectedHandler.bind(l(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.hudModel=this.addComponent(s),this.hudModel.balanceLabel=this.balanceValue,this.hudModel.wonLabel=this.wonValue,this.hudModel.easyTumbleToggle=this.easyTumbleToggle,this.hudModel.mysteryColumnToggle=this.mysteryColumnToggle,this.hudModel.godCoinCheatToggle=this.godCoinCheatToggle,this.hudModel.pillarCheatToggle=this.pillarCheatToggle,this.hudModel.randomCheatToggle=this.randomCheatToggle,this.hudModel.bonusCollectToggle=this.bonusCollectToggle,this.hudModel.bonusJackpotToggle=this.bonusJackpotToggle,this.hudModel.respinCheatToggle=this.respinCheatToggle,this.hudModel.autoplayToggle=this.autoplayToggle,h.addListener(this.onRoundStartBind),this.stakeMenu.onOptionSelectedSignal.addListener(this.onStakeSelectedBind),c.dispatch(this.hudModel.stake)},i.onDestroy=function(){var e;h.removeListener(this.onRoundStartBind),null==(e=this.stakeMenu)||null==(e=e.onOptionSelectedSignal)||e.removeListener(this.onStakeSelectedBind)},i.start=function(){this.hudModel.init(this.node.scene.getComponentInChildren(b))},i.roundStartHandler=function(e){this.hudModel.hasSufficientBalance&&e!==p.FreeSpin&&this.deductStake()},i.stakeSelectedHandler=function(e){var t=e.replace("€",""),n=100*Number(t);n&&(this.hudModel.stake=n,c.dispatch(n))},i.deductStake=function(){var e=this.hudModel.balance,t=this.hudModel.stake;this.hudModel.balance=e-t},t}(d)).prototype,"stakeMenu",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"balanceValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(R.prototype,"wonValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"easyTumbleToggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"mysteryColumnToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"godCoinCheatToggle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"pillarCheatToggle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(R.prototype,"randomCheatToggle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"bonusJackpotToggle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"bonusCollectToggle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(R.prototype,"respinCheatToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(R.prototype,"autoplayToggle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=R))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/hudModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./roundTypes.ts"],(function(e){var n,t,o,i,a,l,d,s,r,u,g,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Component},function(e){d=e.addToBalanceSignal,s=e.setBalanceSignal,r=e.addToWonSignal,u=e.setWonSignal,g=e.setRoundTypeSignal},function(e){c=e.RoundTypes}],execute:function(){i._RF.push({},"39f45a2r3xBgr7YeTwI9mwG","hudModel",void 0),(0,a.ccclass)("HudModel");e("HudModel",function(e){function i(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).gameplayModel=null,n.balanceLabel=void 0,n.wonLabel=void 0,n.easyTumbleToggle=void 0,n.mysteryColumnToggle=void 0,n.godCoinCheatToggle=void 0,n.pillarCheatToggle=void 0,n.randomCheatToggle=void 0,n.bonusCollectToggle=void 0,n.bonusJackpotToggle=void 0,n.respinCheatToggle=void 0,n.autoplayToggle=void 0,n.isAutoplayStarted=!1,n.wonValue=0,n.stake=25,n.addToBalanceBind=n.onAddToBalanceHandler.bind(o(n)),n.addToWonBind=n.onAddToWonHandler.bind(o(n)),n.setBalanceBind=n.onSetBalanceHandler.bind(o(n)),n.setWonBind=n.onSetWonHandler.bind(o(n)),n.setRoundTypeBind=n.setRoundTypeHandler.bind(o(n)),n.toggleChangedBind=n.toggleChangedHandler.bind(o(n)),n}n(i,e);var a=i.prototype;return a.setWinnings=function(e){this.won=e,this.balance+=e},a.onLoad=function(){d.addListener(this.addToBalanceBind),s.addListener(this.setBalanceBind),r.addListener(this.addToWonBind),u.addListener(this.setWonBind),g.addListener(this.setRoundTypeBind)},a.onDestroy=function(){var e;d.removeListener(this.addToBalanceBind),s.removeListener(this.setBalanceBind),r.removeListener(this.addToWonBind),u.removeListener(this.setWonBind),g.removeListener(this.setRoundTypeBind),null==(e=this.autoplayToggle)||null==(e=e.node)||e.off("toggle",this.toggleChangedBind)},a.init=function(e){var n;this.gameplayModel=e,null==(n=this.autoplayToggle)||null==(n=n.node)||n.on("toggle",this.toggleChangedBind)},a.toggleChangedHandler=function(e){var n;(null==(n=this.gameplayModel)?void 0:n.roundType)!==c.Normal&&e.isChecked?e.isChecked=!1:e.isChecked||(this.isAutoplayStarted=!1)},a.setRoundTypeHandler=function(){this.autoplayToggle.isChecked=!1},a.onAddToBalanceHandler=function(e){this.balance+=e},a.onSetBalanceHandler=function(e){this.balance=e},a.onAddToWonHandler=function(e){this.won+=e},a.onSetWonHandler=function(e){this.won=e},t(i,[{key:"isEasyTumbleCheat",get:function(){var e,n;return null!=(e=null==(n=this.easyTumbleToggle)?void 0:n.isChecked)&&e}},{key:"isMysteryColumnCheat",get:function(){var e,n;return null!=(e=null==(n=this.mysteryColumnToggle)?void 0:n.isChecked)&&e}},{key:"isGodCoinCheat",get:function(){var e,n;return null!=(e=null==(n=this.godCoinCheatToggle)?void 0:n.isChecked)&&e}},{key:"isPillarCheat",get:function(){var e,n;return null!=(e=null==(n=this.pillarCheatToggle)?void 0:n.isChecked)&&e}},{key:"isRandomCheat",get:function(){var e,n;return null!=(e=null==(n=this.randomCheatToggle)?void 0:n.isChecked)&&e}},{key:"isBonusCollectCheat",get:function(){var e,n;return null!=(e=null==(n=this.bonusCollectToggle)?void 0:n.isChecked)&&e}},{key:"isBonusJackpotCheat",get:function(){var e,n;return null!=(e=null==(n=this.bonusJackpotToggle)?void 0:n.isChecked)&&e}},{key:"isRespinCheat",get:function(){var e,n;return null!=(e=null==(n=this.respinCheatToggle)?void 0:n.isChecked)&&e}},{key:"isAutoplayEnabled",get:function(){var e,n;return null!=(e=null==(n=this.autoplayToggle)?void 0:n.isChecked)&&e}},{key:"isRespinPopEnabled",get:function(){return!1}},{key:"isRespinGodsEnabled",get:function(){return!0}},{key:"isRollToCenterEnabled",get:function(){return!0}},{key:"balance",get:function(){return 100*Number(this.balanceLabel.string.replace("€",""))},set:function(e){isNaN(e)&&console.warn("Cannot set balance to a non-number value");var n=.01*e;this.balanceLabel&&(this.balanceLabel.string="€"+n.toFixed(2))}},{key:"won",get:function(){return 100*Number(this.wonLabel.string.replace("€",""))},set:function(e){this.wonValue=e;var n=.01*e;this.wonLabel&&(this.wonLabel.string="€"+n.toFixed(2))}},{key:"hasSufficientBalance",get:function(){return this.balance-this.stake>=0}}]),i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./jackpotTypes.ts","./jackpotModel.ts","./coinData.ts","./hudModel.ts","./roundTypes.ts","./bonusTypes.ts","./commonAnimations.ts","./randomizer.ts"],(function(t){var e,o,i,n,a,s,r,c,p,l,u,h,d,k,g,T,j,y,b,m,f,C,M,v,B,J,L,V,S,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,c=t.Node,p=t.Enum,l=t.RichText,u=t.Toggle,h=t.CCFloat,d=t.Sprite,k=t.Color,g=t.Component},function(t){T=t.moveCoinCompleteSignal,j=t.setRoundTypeSignal,y=t.bonusActivateItemSignal,b=t.freeSpinsToggleJackpotSignal,m=t.stakeChangedSignal},function(t){f=t.JackpotTypes,C=t.JackpotTriggerTypes,M=t.jackpotTypeToTriggerType},function(t){v=t.JackpotModel},function(t){B=t.CoinTypes},function(t){J=t.HudModel},function(t){L=t.RoundTypes},function(t){V=t.BonusItemTypes},function(t){S=t.scaleFadeAnimation},function(t){w=t.createWeightedArray}],execute:function(){var H,P,A,R,G,z,I,x,D,O,F,E,_,N,W,q,K;s._RF.push({},"22ef1MM2EJJMrakJ6H1k64H","jackpotComponent",void 0);var Q=r.ccclass,U=r.property;t("JackpotComponent",(H=Q("JackpotComponent"),P=U(c),A=U({type:p(f)}),R=U(l),G=U([u]),z=U(h),I=U(h),x=U({type:h,visible:function(){return this.jackpotTriggerType===C.Progress}}),H((F=e((O=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).jackpotModel=null,e.hudModel=null,i(e,"jackpotCoin",F,n(e)),i(e,"jackpotType",E,n(e)),i(e,"jackpotValueLabel",_,n(e)),i(e,"jackpotBonusToggles",N,n(e)),i(e,"jackpotStartValue",W,n(e)),i(e,"jackpotMaxValue",q,n(e)),i(e,"contributionMultiplier",K,n(e)),e.drawCashGrabValueWeights={0:350,1:15,2:8,3:4,4:2,5:1},e.cashGrabContributionList=[],e.isPayedOut=!1,e.roundType=L.Normal,e.setRoundTypeBind=e.setRoundTypeHandler.bind(n(e)),e.moveCoinCompleteBind=e.moveCoinCompleteHandler.bind(n(e)),e.bonusActivateItemBind=e.bonusActivateItemHandler.bind(n(e)),e.freeSpinsToggleJackpotBind=e.freeSpinsToggleJackpotHandler.bind(n(e)),e.stakeChangedBind=e.stakeChangedHandler.bind(n(e)),e.timer=0,e.randomTime=0,e}o(e,t);var s=e.prototype;return s.onLoad=function(){this.jackpotModel=this.addComponent(v),this.jackpotModel.jackpotType=this.jackpotType,this.jackpotModel.jackpotLabel=this.jackpotValueLabel,this.jackpotModel.jackpotBonusToggles=this.jackpotBonusToggles,this.jackpotModel.contributionMultiplier=this.contributionMultiplier,this.createCashGrabContributionList(),T.addListener(this.moveCoinCompleteBind),j.addListener(this.setRoundTypeBind),y.addListener(this.bonusActivateItemBind),b.addListener(this.freeSpinsToggleJackpotBind),m.addListener(this.stakeChangedBind)},s.createCashGrabContributionList=function(){this.cashGrabContributionList=w(this.drawCashGrabValueWeights)},s.start=function(){this.hudModel=this.node.scene.getComponentInChildren(J),this.drawRandomTime()},s.onDestroy=function(){T.removeListener(this.moveCoinCompleteBind),j.removeListener(this.setRoundTypeBind),y.removeListener(this.bonusActivateItemBind),b.removeListener(this.freeSpinsToggleJackpotBind),m.removeListener(this.stakeChangedBind)},s.update=function(t){this.jackpotTriggerType===C.Progress&&(this.timer+=t,this.timer>=this.randomTime&&(this.updateJackpot(this.hudModel.stake),this.drawRandomTime(),this.timer=0))},s.drawRandomTime=function(){this.randomTime=Math.floor(8*Math.random())+2},s.stakeChangedHandler=function(t){var e=t;this.jackpotModel.isGlobalJackpot&&(e=1),this.jackpotModel.jackpotMinValue=this.jackpotStartValue*e,this.jackpotModel.jackpotMaxValue=this.jackpotMaxValue*e,this.jackpotModel.jackpotValue=this.jackpotModel.jackpotMinValue},s.updateJackpot=function(t){this.contributionMultiplier;this.jackpotTriggerType===C.CashGrab&&this.cashGrabContributionList[Math.floor(Math.random()*this.cashGrabContributionList.length)],this.jackpotModel.jackpotValue+=t*this.contributionMultiplier,this.jackpotModel.jackpotValue=Math.min(this.jackpotModel.jackpotValue,this.jackpotModel.jackpotMaxValue)},s.payoutJackpot=function(t){!this.isPayedOut&&t.includes(this.jackpotTriggerType)&&(this.hudModel.balance+=this.jackpotModel.jackpotValue,this.hudModel.won+=this.jackpotModel.jackpotValue,this.jackpotModel.reset(),this.jackpotTriggerType===C.Progress&&(this.isPayedOut=!0,this.setAlpha(.5)))},s.setAlpha=function(t){var e=this.node.getComponent(d);e.color=new k(e.color.r,e.color.g,e.color.b,255*t)},s.enableToggleObjects=function(t){this.jackpotBonusToggles.forEach((function(e){e.node.active=t}))},s.checkToggles=function(t,e){this.jackpotBonusToggles.forEach((function(o,i){void 0!==e&&i>=e?o.isChecked=!1:(o.isChecked=t,t&&S(o.checkMark.node,o.node))}))},s.reset=function(t){void 0===t&&(t=!1),this.isPayedOut=!1,this.checkToggles(!1),this.enableToggleObjects(t),this.setAlpha(1)},s.moveCoinCompleteHandler=function(t){t.coinData.coinType===B.Jackpot&&t.coinData.valueType===this.jackpotType&&(t.roundType!==L.FreeSpin||this.jackpotTriggerType!==C.CashGrab?(S(this.jackpotCoin,this.node),this.jackpotTriggerType!==C.Progress?this.updateJackpot(this.hudModel.stake):b.dispatch({jackpotType:this.jackpotType,amount:1})):this.payoutJackpot([C.CashGrab]))},s.setRoundTypeHandler=function(t){this.roundType=t.roundType,this.reset(this.roundType!==L.Normal),this.roundType!==L.Bonus&&this.roundType!==L.FreeSpin||this.enableToggleObjects(!0)},s.bonusActivateItemHandler=function(t){var e=t.item;if(e.itemType===V.Jackpot&&e.jackpotType===this.jackpotType&&this.jackpotTriggerType===C.Progress){var o=this.checkedToggleCount+1;this.checkToggles(!0,o),o===this.jackpotBonusToggles.length&&this.payoutJackpot([C.Progress])}},s.freeSpinsToggleJackpotHandler=function(t){var e;if(t.jackpotType===this.jackpotType&&this.jackpotTriggerType===C.Progress){var o=this.checkedToggleCount+(null!=(e=t.amount)?e:0);this.checkToggles(!0,o),o===this.jackpotBonusToggles.length&&this.payoutJackpot([C.Progress])}},a(e,[{key:"checkedToggleCount",get:function(){return this.jackpotBonusToggles.filter((function(t){return t.isChecked})).length}},{key:"jackpotTriggerType",get:function(){return M[this.jackpotType]}}]),e}(g)).prototype,"jackpotCoin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(O.prototype,"jackpotType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(O.prototype,"jackpotValueLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(O.prototype,"jackpotBonusToggles",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(O.prototype,"jackpotStartValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),q=e(O.prototype,"jackpotMaxValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),K=e(O.prototype,"contributionMultiplier",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=O))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./jackpotTypes.ts"],(function(t){var e,o,n,c,a;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){n=t.cclegacy,c=t.Component},function(t){a=t.globalJackpotTypes}],execute:function(){n._RF.push({},"de2acGns+9HKrULlGiSH+TJ","jackpotModel",void 0);t("JackpotModel",function(t){function n(){for(var e,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).jackpotLabel=void 0,e.jackpotType=void 0,e.jackpotMinValue=1e4,e.jackpotMaxValue=1e5,e.contributionMultiplier=1,e.jackpotBonusToggles=[],e.currentJackpotValue=0,e}e(n,t);var c=n.prototype;return c.reset=function(){this.jackpotValue=this.jackpotMinValue},c.resetBonusJackpotToggles=function(){this.jackpotBonusToggles.forEach((function(t){t.isChecked=!1,t.node.active=!1}))},c.enableNextToggle=function(){for(var t=0;t<this.jackpotBonusToggles.length;t++){if(!this.jackpotBonusToggles[t].isChecked){this.jackpotBonusToggles[t].isChecked=!0;break}}},o(n,[{key:"totalBonusJackpotCount",get:function(){return this.jackpotBonusToggles.length}},{key:"activeBonusJackpotCount",get:function(){return this.jackpotBonusToggles.filter((function(t){return t.isChecked})).length}},{key:"hasAllTogglesChecked",get:function(){return this.jackpotBonusToggles.every((function(t){return t.isChecked}))}},{key:"activateBonusJackpotToggles",set:function(t){this.jackpotBonusToggles.forEach((function(e){e.node.active=t}))}},{key:"jackpotValue",get:function(){return this.currentJackpotValue},set:function(t){this.currentJackpotValue=t;var e=.01*this.currentJackpotValue;this.jackpotLabel.string="€"+e.toFixed(2)}},{key:"isGlobalJackpot",get:function(){return a.includes(this.jackpotType)}}]),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotTypes.ts",["cc","./godFeatureTypes.ts"],(function(e){var r,a;return{setters:[function(e){r=e.cclegacy},function(e){a=e.GodFeatureTypes}],execute:function(){var o,t,s;r._RF.push({},"5b5cbRhZZtKYKp5ZSo334le","jackpotTypes",void 0);var i=e("JackpotTypes",function(e){return e.Unreal="unreal",e.Divine="divine",e.Heroic="heroic",e.Warlord="warlord",e.Mythic="mythic",e.Legendary="legendary",e.Athena="athena",e.Ares="ares",e.Godlike="godlike",e}({})),n=e("JackpotTriggerTypes",function(e){return e.CashGrab="cashGrab",e.Progress="progress",e}({}));e("jackpotIdToJackpotType",{0:i.Unreal,1:i.Divine,2:i.Warlord,3:i.Heroic,4:i.Mythic,5:i.Legendary,6:i.Athena,7:i.Ares,8:i.Godlike}),e("godToJackpotType",((o={})[a.Athena]=i.Athena,o[a.Ares]=i.Ares,o)),e("jackpotTypeToTriggerType",((t={})[i.Unreal]=n.CashGrab,t[i.Divine]=n.CashGrab,t[i.Heroic]=n.CashGrab,t[i.Warlord]=n.CashGrab,t[i.Mythic]=n.CashGrab,t[i.Legendary]=n.CashGrab,t[i.Athena]=n.Progress,t[i.Ares]=n.Progress,t[i.Godlike]=n.Progress,t)),e("jackpotTypeToWeight",((s={})[i.Unreal]=10,s[i.Divine]=10,s[i.Heroic]=40,s[i.Warlord]=40,s[i.Mythic]=50,s[i.Legendary]=50,s[i.Athena]=1,s[i.Ares]=1,s[i.Godlike]=1,s)),e("globalJackpotTypes",[i.Godlike]);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./DropdownMenuCreator.ts","./audioComponent.ts","./backgroundAudioComponent.ts","./bonusItemModel.ts","./bonusModel.ts","./bonusRollComponent.ts","./coinComponent.ts","./coinData.ts","./godFeatureComponent.ts","./godFeatureDrop.ts","./godFeatureModel.ts","./jackpotComponent.ts","./jackpotModel.ts","./moveCoins.ts","./game.ts","./gameInput.ts","./gameplayCalculations.ts","./gameplayModel.ts","./playfieldComponent.ts","./playfieldModel.ts","./playfieldUpdate.ts","./randomizer.ts","./reelAnimations.ts","./reelArgs.ts","./reelComponent.ts","./reelConfig.ts","./reelContext.ts","./reelModel.ts","./reelService.ts","./reelStatus.ts","./resize.ts","./responsive.ts","./godSymbolCompont.ts","./symbolModel.ts","./symbolNode.ts","./symbolPosition.ts","./bonusSideType.ts","./bonusTypes.ts","./featureStatus.ts","./gameClasses.ts","./gameData.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./reelsData.ts","./roundTypes.ts","./specialSymbols.ts","./symbolAnimationData.ts","./symbols.ts","./tumbleSymbolData.ts","./winData.ts","./backgroundComponent.ts","./bonusBuyComponent.ts","./dropDownMenu.ts","./hudComponent.ts","./hudModel.ts","./menuButton.ts","./playButton.ts","./toggleUpdater.ts","./SpAnimator.ts","./array.ts","./arrayUtils.ts","./commonAnimations.ts","./curveTween.ts","./eventSignals.ts","./gridMask.ts","./maskMover.ts","./resolvablePromise.ts","./signal.ts","./tumbleAlpha.ts","./uniqueId.ts","./view.ts","./wait.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/maskMover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./bonusModel.ts"],(function(t){var e,i,n,o,r,s,a,u,l,c,d,h,p,m,f,v,b,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Vec2,u=t.CCFloat,l=t.CCInteger,c=t.ParticleSystem2D,d=t.UITransform,h=t.Size,p=t.Graphics,m=t.tween,f=t.Component},function(t){v=t.startRoundSignal,b=t.increaseTumbleCountSignal,y=t.setRoundTypeSignal},function(t){g=t.BonusModel}],execute:function(){var P,S,T,w,C,R,B,z,D,M,L,x,H;r._RF.push({},"d69dbRccRdG56tuqFu6qvV9","maskMover",void 0);var k=s.ccclass,F=s.property;t("maskMover",(P=k("maskMover"),S=F(a),T=F(a),w=F(u),C=F(l),R=F(c),P((D=e((z=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).bonusModel=null,n(e,"startPosition",D,o(e)),n(e,"endPosition",M,o(e)),n(e,"moveDuration",L,o(e)),n(e,"moveSteps",x,o(e)),n(e,"activationParticle",H,o(e)),e.distancePerStep=new a,e.uiTransform=void 0,e.progress=0,e.startRoundBind=e.startRoundHandler.bind(o(e)),e.increaseTumbleCountBind=e.increaseTumbleCountHandler.bind(o(e)),e.setRoundTypeBind=e.setRoundTypeHandler.bind(o(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.calculateDistancePerStep(),v.addListener(this.startRoundBind),b.addListener(this.increaseTumbleCountBind),y.addListener(this.setRoundTypeBind)},r.onDestroy=function(){v.removeListener(this.startRoundBind),b.removeListener(this.increaseTumbleCountBind),y.removeListener(this.setRoundTypeBind)},r.calculateDistancePerStep=function(){var t=new a(this.endPosition.x-this.startPosition.x,this.endPosition.y-this.startPosition.y);this.distancePerStep=t.divide(new a(this.moveSteps,this.moveSteps))},r.start=function(){this.bonusModel=this.node.scene.getComponentInChildren(g),this.uiTransform=this.node.getComponent(d),this.uiTransform.setContentSize(this.startPosition.x,this.startPosition.y)},r.reset=function(){this.progress=0,this.activationParticle.stopSystem(),this.increaseTumbleCountHandler(0)},r.startRoundHandler=function(){this.reset()},r.increaseTumbleCountHandler=function(t){var e=this;if(this.uiTransform&&this.progress!==this.moveSteps){this.progress+=t;var i=new a(this.distancePerStep.x*this.progress,this.distancePerStep.y*this.progress),n=new a(this.startPosition.x+i.x,this.startPosition.y+i.y),o=new h(n.x,n.y),r=this.getComponent(p);m(this.uiTransform.contentSize).to(this.moveDuration,o,{easing:"cubicOut",onUpdate:function(t){e.uiTransform.setContentSize(t),r.clear(),r.rect(.5*-t.width,0,t.width,t.height),r.fill()},onComplete:function(t){r.clear(),r.rect(.5*-t.width,0,t.width,t.height),r.fill(),e.progress===e.moveSteps&&e.activationParticle.resetSystem()}}).start()}},r.setRoundTypeHandler=function(){var t;null!=(t=this.bonusModel)&&t.isBonusAvailable||this.reset()},e}(f)).prototype,"startPosition",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),M=e(z.prototype,"endPosition",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),L=e(z.prototype,"moveDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),x=e(z.prototype,"moveSteps",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),H=e(z.prototype,"activationParticle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=z))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/menuButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,l,c,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,c=t.ScrollView,u=t.Label,a=t.Component}],execute:function(){var s,p,f,d,h,b,v;o._RF.push({},"6dfd7jEdYpO/I8VUUk5cDA7","menuButton",void 0);var w=l.ccclass,y=l.property;t("MenuButton",(s=w("MenuButton"),p=y(c),f=y(u),s((b=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"scrollView",b,r(e)),n(e,"textLbl",v,r(e)),e.defaultText="",e}i(e,t);var o=e.prototype;return o.start=function(){this.scrollView.node.active=!1,this.defaultText=this.textLbl.string},o.onClick=function(){this.scrollView.node.active=!this.scrollView.node.active,this.textLbl.string=this.scrollView.node.active?"X":this.defaultText},e}(a)).prototype,"scrollView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(h.prototype,"textLbl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/moveCoins.ts",["./rollupPluginModLoBabelHelpers.js","cc","./wait.ts","./coinData.ts","./eventSignals.ts"],(function(e){var n,t,r,a,c,o;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.wait},function(e){c=e.CoinTypes},function(e){o=e.moveCoinSignal}],execute:function(){function i(){return(i=n(t().mark((function e(n,r,i){var u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null!=i?i:Object.keys(n).map((function(e){return e})),s=0;case 2:if(!(s<u.length)){e.next=9;break}return o.dispatch({roundType:r,coinData:{coinType:c.God,valueType:u[s]},target:n[u[s]]}),e.next=6,a(100);case 6:s++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=n(t().mark((function e(n,r,i){var u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=null!=i?i:Object.keys(n).map((function(e){return e})),s=0;case 2:if(!(s<u.length)){e.next=9;break}return o.dispatch({roundType:r,coinData:{coinType:c.Jackpot,valueType:u[s]},target:n[u[s]]}),e.next=6,a(100);case 6:s++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e({moveFeatureCoins:function(e,n,t){return i.apply(this,arguments)},moveJackpotCoins:function(e,n,t){return u.apply(this,arguments)}}),r._RF.push({},"c6c5fKEvdRH151TYFq5711c","moveCoins",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/playButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./gameplayModel.ts","./bonusModel.ts","./hudModel.ts"],(function(e){var n,o,t,l,d,i,s,a;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,l=e.Component},function(e){d=e.PlayfieldModel},function(e){i=e.GameplayModel},function(e){s=e.BonusModel},function(e){a=e.HudModel}],execute:function(){var u;o._RF.push({},"76c9aK+Be9CGYM5bigFfscp","playButton",void 0);var r=t.ccclass;t.property,e("PlayButtonComponent",r("PlayButtonComponent")(u=function(e){function o(){for(var n,o=arguments.length,t=new Array(o),l=0;l<o;l++)t[l]=arguments[l];return(n=e.call.apply(e,[this].concat(t))||this).playfieldModel=null,n.gameplayModel=null,n.bonusModel=null,n.hudModel=null,n}n(o,e);var t=o.prototype;return t.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(i),this.playfieldModel=this.node.scene.getComponentInChildren(d),this.bonusModel=this.node.scene.getComponentInChildren(s),this.hudModel=this.node.scene.getComponentInChildren(a)},t.onClick=function(){this.playfieldModel.reelsRolling||!this.gameplayModel.canStartRound||this.hudModel.isAutoplayStarted||this.gameplayModel.bonusStarted||this.gameplayModel.startRound(this.playfieldModel,this.bonusModel)},o}(l))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./eventSignals.ts","./coinData.ts","./gameData.ts","./gameClasses.ts","./roundTypes.ts","./wait.ts","./gameplayModel.ts","./uniqueId.ts"],(function(e){var n,i,l,t,o,r,a,s,d,u,c,p,b,y,m,f,h,g,v,C,R,S,w,L,M,P,T,N,H,W,B,k,z,D,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,d=e._decorator,u=e.Prefab,c=e.Node,p=e.Label,b=e.instantiate,y=e.Vec3,m=e.tween,f=e.Color,h=e.Component},function(e){g=e.PlayfieldModel},function(e){v=e.setReelSignal,C=e.setReelsSignal,R=e.startRoundSignal,S=e.createWinningsSignal,w=e.setRoundTypeSignal,L=e.playfieldLoadedSignal,M=e.freeSpinsMultiplyWinlinesSignal},function(e){P=e.CoinTypes},function(e){T=e.gameData},function(e){N=e.SymbolPrize,H=e.FeatureNode,W=e.JackpotNode,B=e.GodCoins},function(e){k=e.RoundTypes},function(e){z=e.wait},function(e){D=e.GameplayModel},function(e){I=e.getUniqueId}],execute:function(){var G,F,j,V,O,x,_,q,J,U,A,E,X,K,Q,Y,Z,$,ee,ne,ie,le,te,oe,re,ae,se,de,ue;s._RF.push({},"a5316/tumhGBr0qgDLqj8SV","playfieldComponent",void 0);var ce=d.ccclass,pe=d.property;e("PlayfieldComponent",(G=ce("PlayfieldComponent"),F=pe([u]),j=pe({type:[N]}),V=pe(c),O=pe([u]),x=pe(u),_=pe(c),q=pe({type:[H]}),J=pe({type:[W]}),U=pe({type:[B]}),A=pe(p),E=pe(u),X=pe(c),K=pe(c),G((Z=n((Y=function(e){function n(){for(var n,i,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(i=e.call.apply(e,[this].concat(r))||this).playfieldModel=null,i.gameplayModel=null,l(i,"symbolPrefab",Z,t(i)),l(i,"symbolPrizes",$,t(i)),l(i,"symbolColumns",ee,t(i)),l(i,"godSymbolPerColumn",ne,t(i)),l(i,"emptySymbolPerColumn",ie,t(i)),l(i,"godColumns",le,t(i)),l(i,"featureCoinDrops",te,t(i)),l(i,"jackpotCoinDrops",oe,t(i)),l(i,"godCoins",re,t(i)),l(i,"tumbleCountLbl",ae,t(i)),l(i,"winningsLblPrefab",se,t(i)),l(i,"freeSpinsNode",de,t(i)),l(i,"tumblesNode",ue,t(i)),i.currentWinningsLabel={},i.roundType=k.Normal,i.setReelHandlerBind=i.setReelHandler.bind(t(i)),i.setReelsHandlerBind=i.setReelsHandler.bind(t(i)),i.startRoundHandlerBind=i.startRoundHandler.bind(t(i)),i.createWinningsBind=i.createWinningsHandler.bind(t(i)),i.setRoundTypeBind=i.setRoundTypeHandler.bind(t(i)),i.setOnRoundType=((n={})[k.Normal]=function(){i.freeSpinsNode.active=!1,i.tumblesNode.active=!1},n[k.Bonus]=function(){i.freeSpinsNode.active=!1,i.tumblesNode.active=!1},n[k.FreeSpin]=function(){i.freeSpinsNode.active=!0,i.tumblesNode.active=!1},n),i}i(n,e);var s=n.prototype;return s.onLoad=function(){this.playfieldModel=this.node.addComponent(g),this.playfieldModel.init(this.tumbleCountLbl,this.symbolPrizes);var e=this.godSymbolPerColumn.map((function(e){var n,i;return Number(null!=(n=null==(i=e.name.match(/symbol(\d+)_/))?void 0:i[1])?n:0)}));this.playfieldModel.createReels(this.symbolColumns,this.godColumns,e.map((function(e){return T.godTypePerColumn[e]})));for(var n=0;n<this.playfieldModel.reels.length;n++)this.playfieldModel.reels[n].setNewSymbolCallback=this.setNewSymbol.bind(this),this.playfieldModel.reels[n].clearSymbolCallback=this.clearSymbol.bind(this);for(var i=0;i<this.playfieldModel.godReels.length;i++)this.playfieldModel.godReels[i].setNewSymbolCallback=this.setNewGodSymbol.bind(this),this.playfieldModel.godReels[i].clearSymbolCallback=this.clearSymbol.bind(this);v.addListener(this.setReelHandlerBind),C.addListener(this.setReelsHandlerBind),R.addListener(this.startRoundHandlerBind),S.addListener(this.createWinningsBind),w.addListener(this.setRoundTypeBind);for(var l,t=o(this.featureCoinDrops);!(l=t()).done;){var r=l.value;this.playfieldModel.featureCoinDropPositions[r.type]=r.node}for(var a,s=o(this.jackpotCoinDrops);!(a=s()).done;){var d=a.value;this.playfieldModel.jackpotCoinDropPositions[d.type]=d.node}L.dispatch()},s.onDestroy=function(){v.removeListener(this.setReelHandlerBind),C.removeListener(this.setReelsHandlerBind),R.removeListener(this.startRoundHandlerBind),S.removeListener(this.createWinningsBind),w.removeListener(this.setRoundTypeBind);for(var e=0;e<this.playfieldModel.reels.length;e++)this.playfieldModel.reels[e].setNewSymbolCallback=void 0,this.playfieldModel.reels[e].clearSymbolCallback=void 0;for(var n=0;n<this.playfieldModel.godReels.length;n++)this.playfieldModel.godReels[n].setNewSymbolCallback=void 0,this.playfieldModel.godReels[n].clearSymbolCallback=void 0},s.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(D)},s.setWinningsLabel=function(e,n){this.currentWinningsLabel[e].string="€"+n.toFixed(2)},s.createWinningsHandler=function(e){e.won<=0||this.createWinningsLbl(.01*e.won,e.multiplier)},s.createWinningsLbl=function(e,n){var i=this,l=b(this.winningsLblPrefab);l.position=new y(0,-40,0),this.node.addChild(l);var t=I();this.currentWinningsLabel[t]=l.getComponent(p),this.setWinningsLabel(t,e),n>1&&this.createMultiplierLbl(n,this.currentWinningsLabel[t].node,500).then((function(){i.setWinningsLabel(t,e*n)})),m(l).to(1,{position:new y(0,40,0)},{easing:"cubicOut",onComplete:function(){var e=i.currentWinningsLabel[t].color,n={alpha:i.currentWinningsLabel[t].color.a};m(n).to(.25,{alpha:0},{easing:"cubicOut",onUpdate:function(){i.currentWinningsLabel[t].color=new f(e.r,e.g,e.b,n.alpha)},onComplete:function(){l.destroy(),delete i.currentWinningsLabel[t]}}).start()}}).start()},s.createMultiplierLbl=function(){var e=r(a().mark((function e(n,i,l){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(l);case 2:(t=b(this.winningsLblPrefab)).position=new y(0,0,0),t.scale=new y(.5,.5,.5),null==i||i.addChild(t),t.getComponent(p).string="X"+n.toFixed(2),M.dispatch(),m(t).to(1,{position:new y(0,40,0)},{easing:"cubicOut",onComplete:function(){t.destroy()}}).start();case 10:case"end":return e.stop()}}),e,this)})));return function(n,i,l){return e.apply(this,arguments)}}(),s.setNewSymbol=function(e,n,i,l){var t,o;if(e.symbolView){var r=e.symbolView;e.removeSymbol(r)}var a=n-1,s=i?i.coinType===P.God?null==(t=this.godCoins.find((function(e){return e.type===i.valueType})))?void 0:t.prefab:null==(o=this.gameplayModel.jackpotCoins.find((function(e){return e.type===i.valueType})))?void 0:o.prefab:void 0,d=b(this.symbolPrefab[a]);return e.addSymbol(d,n,s,{roundType:this.roundType,jackpotValue:(null==i?void 0:i.coinType)===P.Jackpot?this.gameplayModel.getJackpotValueByType(null==i?void 0:i.valueType):void 0}),Promise.resolve()},s.setNewGodSymbol=function(e,n,i,l){var t=this.playfieldModel.currentRowInGodReelResults[e.columnId];if(e.symbolView){var o=e.symbolView;e.removeSymbol(o)}var r=n;l||(r=this.playfieldModel.rollingGodReelResults[e.columnId].length>t?this.playfieldModel.rollingGodReelResults[e.columnId][t].value:0);var a=0===r?this.emptySymbolPerColumn:this.godSymbolPerColumn[e.columnId],s=b(a);return e.addSymbol(s,r),this.playfieldModel.currentRowInGodReelResults[e.columnId]++,Promise.resolve()},s.clearSymbol=function(e){e.children.forEach((function(n){e.removeSymbol(n)}))},s.setReelHandler=function(e){for(var n=[],i=0;i<e.symbolsColumn.length;i++)n.push(e.symbolsColumn[i].value);e.isGodReel?this.playfieldModel.godReels[e.columnId].setReel(n,e,!0):this.playfieldModel.reels[e.columnId].setReel(n,e,!0)},s.setReelsHandler=function(e){for(var n=0;n<e.symbols.length;n++){var i,l=e.symbols[n];v.dispatch({symbolsColumn:l,columnId:n,coinData:null==e||null==(i=e.coinsData)?void 0:i[n],isGodReel:e.isGodReels,comesFromMediator:e.comesFromMediator})}},s.startRoundHandler=function(){this.playfieldModel.createBonusSymbolsWhenRolling()},s.setRoundTypeHandler=function(e){this.roundType=e.roundType,this.setOnRoundType[e.roundType]()},n}(h)).prototype,"symbolPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(Y.prototype,"symbolPrizes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=n(Y.prototype,"symbolColumns",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(Y.prototype,"godSymbolPerColumn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=n(Y.prototype,"emptySymbolPerColumn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(Y.prototype,"godColumns",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(Y.prototype,"featureCoinDrops",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=n(Y.prototype,"jackpotCoinDrops",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=n(Y.prototype,"godCoins",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=n(Y.prototype,"tumbleCountLbl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(Y.prototype,"winningsLblPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=n(Y.prototype,"freeSpinsNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(Y.prototype,"tumblesNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Y))||Q));s._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelService.ts","./reelStatus.ts","./reelsData.ts","./gameData.ts","./array.ts","./reelContext.ts","./eventSignals.ts","./gameplayCalculations.ts","./jackpotTypes.ts","./godFeatureTypes.ts","./arrayUtils.ts","./specialSymbols.ts"],(function(e){var t,l,n,i,o,r,s,u,a,d,c,f,h,m,p,v,y,b,g,R,S,M,C,w,I,D,k,T,V,F,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,r=e.createClass,s=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){a=e.cclegacy,d=e._decorator,c=e.Component},function(e){f=e.ReelService},function(e){h=e.ReelStatus},function(e){m=e.reelsData,p=e.bonusReelsData},function(e){v=e.gameData},function(e){y=e.flatMap},function(e){b=e.ReelContext},function(e){g=e.setReelsUpdateSignal,R=e.changeReelSpinDirectionSignal,S=e.setReelsSignal,M=e.stopReelSignal,C=e.setReelSignal},function(e){w=e.drawGodsInReels,I=e.generateGodReelResult},function(e){D=e.JackpotTypes},function(e){k=e.GodFeatureTypes,T=e.godFeatureTypeToId},function(e){V=e.flatten},function(e){F=e.specialSymbolTypeToId,G=e.specialSymbolTypeToGodType}],execute:function(){var B,P,W,E,H,L,U;a._RF.push({},"f6832m6lmBBCaY2XURVq4Vs","playfieldModel",void 0);var A=d.ccclass,x=d.property;e("PlayfieldModel",(B=A("PlayfieldModel"),P=x([f]),W=x([f]),B((L=t((H=function(e){function t(){for(var t,l,o,r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];return o=e.call.apply(e,[this].concat(s))||this,n(o,"reels",L,i(o)),n(o,"godReels",U,i(o)),o.waitingStopPromise=void 0,o.symbolPrizes=[],o.tumbleCountLbl=null,o.featureCoinDropPositions=((t={})[k.Athena]=void 0,t[k.Ares]=void 0,t),o.jackpotCoinDropPositions=((l={})[D.Unreal]=void 0,l[D.Divine]=void 0,l[D.Heroic]=void 0,l[D.Warlord]=void 0,l[D.Mythic]=void 0,l[D.Legendary]=void 0,l[D.Athena]=void 0,l[D.Ares]=void 0,l[D.Godlike]=void 0,l),o.showGodInRollingReel=[],o.rollingGodReelResults=[],o.currentRowInGodReelResults=[],o.setReelsUpdateHandlerBind=o.setReelsUpdateHandler.bind(i(o)),o.changeReelSpinDirectionHandlerBind=o.changeReelSpinDirectionHandler.bind(i(o)),o}l(t,e);var a=t.prototype;return a.setMultiplierFromTumbleCount=function(e){var t=Object.keys(v.bonus.tumble.multiplierPerCount).map(Number).reduce((function(t,l){return Math.abs(l-e)<Math.abs(t-e)?l:t}));return v.bonus.tumble.multiplierPerCount[t]},a.init=function(e,t){this.tumbleCountLbl=e,this.symbolPrizes=t},a.onLoad=function(){g.addListener(this.setReelsUpdateHandlerBind),R.addListener(this.changeReelSpinDirectionHandlerBind)},a.onDestroy=function(){g.removeListener(this.setReelsUpdateHandlerBind),R.removeListener(this.changeReelSpinDirectionHandlerBind)},a.getSymbolWinnings=function(e,t,l){return l*this.getMultiplier(e,t)},a.getMultiplier=function(e,t){var l,n=this.symbolPrizes.find((function(t){return t.symbolValue===e}));return null!=(l=null==n?void 0:n.getMultiplier(t))?l:0},a.setReelsUpdateHandler=function(e){var t=this;this.reels.forEach((function(l){l.shouldUpdate=e.enable,l.reelStopCallback=t.setReelResult.bind(t)})),this.godReels.forEach((function(l){l.shouldUpdate=e.enable,l.reelStopCallback=t.setGodReelResult.bind(t)}))},a.changeReelSpinDirectionHandler=function(e){this.reels.forEach((function(t){t.reverse=e.reverse})),this.godReels.forEach((function(t){t.reverse=e.reverse,t.isBonusReel=t.reelModel.isBonusReel,t.bonusValue=t.reelModel.bonusValue}))},a.isReversedReels=function(){return this.reels.every((function(e){return e.reverse}))},a.setReelResult=function(){var e=s(u().mark((function e(t){var l,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.dispatch({columnId:t,useTween:!0,reverse:this.reels[t].reverse}),l=this.reels[t].reelModel.result,n=this.reels[t].reelModel.resultCoins,C.dispatch({symbolsColumn:l,columnId:t,coinData:n,comesFromMediator:!0}),this.allReelsStopped&&this.reels.forEach((function(e){return e.shouldUpdate=!1}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.setGodReelResult=function(){var e=s(u().mark((function e(t){var l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.dispatch({columnId:t,useTween:!0,reverse:this.godReels[t].reverse,isGodReel:!0}),l=this.godReels[t].reelModel.result,C.dispatch({symbolsColumn:l,columnId:t,comesFromMediator:!0,isGodReel:!0}),this.allBonusReelsStopped&&this.godReels.forEach((function(e){return e.shouldUpdate=!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.updateReelsResultWithGodFeature=function(e){var t=this,l=this.reels.map((function(e){return structuredClone(e.reelModel.result)}));return Object.entries(e).forEach((function(e){for(var n=e[0],i=e[1],o=0;o<i;o++)t.updateRandomValueToSpecialSymbol(l,n)})),S.dispatch({symbols:l,comesFromMediator:!0}),l},a.updateRandomValueToSpecialSymbol=function(e,t){var l=this.reels.map((function(e){return e.reelModel.visibleResult})),n=V(l).filter((function(e){return void 0!==e})),i=this.getRandomNoWinValue(n),o=[];if(e.forEach((function(e,t){e.forEach((function(l,n){var r=.5*(m.playFieldDimensions.rows[t].total-m.playFieldDimensions.rows[t].visible),s=e.length-1-r;n>=r&&n<=s&&l.value===i&&o.push({columnId:t,rowId:n})}))})),0!==o.length){var r=o[Math.floor(Math.random()*o.length)],s=structuredClone(e[r.columnId][r.rowId]);s.meta={oldSymbolValue:s.value},s.value=F[t],e[r.columnId][r.rowId]=s}},a.updateRandomValueToSpecialSymbolSplit=function(e,t){var l=G[t],n=v.godTypePerColumn.map((function(e,t){if(e===l)return t})).filter((function(e){return void 0!==e})),i=this.reels.map((function(e){return e.reelModel.visibleResult})),o=V(i.map((function(e,t){if(n.includes(t))return e}))).filter((function(e){return void 0!==e})),r=this.getRandomNoWinValue(o),s=[];e.forEach((function(e,t){e.forEach((function(l,i){var o=.5*(m.playFieldDimensions.rows[t].total-m.playFieldDimensions.rows[t].visible),u=e.length-1-o;i>=o&&i<=u&&l.value===r&&n.includes(t)&&s.push({columnId:t,rowId:i})}))}));var u=s[Math.floor(Math.random()*s.length)],a=structuredClone(e[u.columnId][u.rowId]);a.meta={oldSymbolValue:a.value},a.value=F[t],e[u.columnId][u.rowId]=a},a.getRandomNoWinValue=function(e){for(var t,l=e.reduce((function(e,t){if(t.value===F.wild||t.value===F.multiplier)return e;var l=e.get(t.value)||0;return e.set(t.value,l+1),e}),new Map),n=[],i=o(l.entries());!(t=i()).done;){var r=t.value,s=r[0];r[1]<v.winlines.minimumCount&&n.push(s)}return n[Math.floor(Math.random()*n.length)]},a.setActiveSpecialSymbols=function(e){this.reels.forEach((function(t){t.reelModel.activeSpecialSymbols=e}))},a.hasWildInColumn=function(e){return this.reels[e].getVisibleSymbolValues(F.wild).length>0},a.getMultiplierTotal=function(){var e=this.visibleSymbols.filter((function(e){return e.symbolModel.value===F.multiplier})).reduce((function(e,t){return e+(t.symbolModel.multiplier||0)}),0);return Math.max(e,1)},a.getIsWildSymbolInWin=function(e,t){return e.value===F.wild&&t.filter((function(t){return e.symbolPosition.colId<=t.symbols.length-1})).length>0},a.createReels=function(e,t,l){for(var n=0;n<m.playFieldDimensions.columns;n++){this.reels.push(this.createReel({reelsData:m,columnId:n,columns:e}));var i=l[n];this.godReels.push(this.createReel({reelsData:p,columnId:n,columns:t,isGodReel:!0,godType:i}))}},a.createReel=function(e){var t=new b;return t.init(e),e.columns.addChild(t),t.service},a.reset=function(){this.reels.forEach((function(e){e.resetReel()})),this.godReels.forEach((function(e){e.resetReel()}))},a.setSymbols=function(e,t,l){for(var n=0;n<e.length;n++){var i,o,r=e[n];if(r.length>=m.playFieldDimensions.rows[n].visible)this.reels[n].reelModel.result=r,this.reels[n].reelModel.resultCoins=null!=(i=null==t?void 0:t[n])?i:this.reels[n].reelModel.resultCoins,this.reels[n].reelModel.isRespin=null!=(o=null==l?void 0:l[n])&&o}},a.setGodSymbols=function(e,t){for(var l=0;l<e.length;l++){var n,i=e[l];if(i.length>=p.playFieldDimensions.rows[l].visible)this.godReels[l].reelModel.result=i,this.godReels[l].reelModel.isRespin=null!=(n=null==t?void 0:t[l])&&n}},a.setResultOfReel=function(e,t){if(!(e.length<m.playFieldDimensions.rows[t].total))for(var l=0;l<e.length;l++)this.reels[t].reelModel.result[l]={value:e[l]}},a.setBonusResultOfReel=function(e,t){if(!(e.length<p.playFieldDimensions.rows[t].total))for(var l=0;l<e.length;l++)this.godReels[t].reelModel.result[l]={value:e[l]}},a.getSymbolIdsFromWinline=function(e){for(var t=0,l=[];t<e.length;){var n=e[t],i=this.getSymbolViewByPosition(t,n,!0);t++,i&&l.push(i.symbolModel.symbolId)}return l},a.getSymbolViewByPosition=function(e,t,l){if(void 0===l&&(l=!1),!(e>=this.reels.length||e<0)){var n=l?this.reels[e].reelModel.visibleSymbols:this.reels[e].reelModel.symbols;if(!(t>=n.length||t<0)){var i=n.find((function(e){return e.symbolModel.value===F.wild}));return null!=i?i:n[t]}}},a.getSymbolViewBySymbolId=function(e){for(var t,l=this,n=[],i=function(){var e=t.value;l.reels.forEach((function(t){var l=t.reelModel.visibleSymbols.find((function(t){return t.symbolModel.symbolId===e}));l&&n.push(l)}))},r=o(e);!(t=r()).done;)i();return n},a.getSymbolContainerBySymbolId=function(e){for(var t,l=this,n=[],i=function(){var e=t.value;l.reels.forEach((function(t){var l=t.reelModel.visibleSymbols.find((function(t){return t.symbolModel.symbolId===e}));l&&n.push(l)}))},r=o(e);!(t=r()).done;)i();return n},a.resetRollingBonusReel=function(){this.currentRowInGodReelResults=Array(this.godReels.length).fill(0),this.rollingGodReelResults=[],this.showGodInRollingReel=[]},a.createBonusSymbolsWhenRolling=function(){this.resetRollingBonusReel();for(var e=w({columnCount:this.godReels.length,excludeColumnIndices:[3]}),t=0;t<e.length;t++){var l,n=e[t];this.showGodInRollingReel.push(n);var i=n&&null!=(l=T[v.godTypePerColumn[t]])?l:0,o=I({columnId:t,godValue:i,reelsData:p,hasGodColumn:n});this.rollingGodReelResults.push(o)}},r(t,[{key:"tumbleTotalCount",get:function(){return Number(this.tumbleCountLbl.string)},set:function(e){this.tumbleCountLbl.string=e.toFixed(0)}},{key:"visibleResults",get:function(){return this.reels.map((function(e){return e.reelModel.visibleResult}))}},{key:"totalResults",get:function(){return this.reels.map((function(e){return e.reelModel.result}))}},{key:"visibleSymbolContainers",get:function(){return this.reels.map((function(e){return e.reelModel.visibleSymbols}))}},{key:"totalSybolContainers",get:function(){return this.reels.map((function(e){return e.reelModel.symbols}))}},{key:"tensionCount",get:function(){return this.reels.filter((function(e){return e.reelModel.hasTension})).length}},{key:"reelsRolling",get:function(){return this.reels.some((function(e){return e.reelModel.status===h.Rolling||e.reelModel.status===h.Started}))}},{key:"allReelsStopped",get:function(){return this.reels.every((function(e){return e.reelModel.status===h.Stopped}))}},{key:"allBonusReelsStopped",get:function(){return this.godReels.every((function(e){return e.reelModel.status===h.Stopped}))}},{key:"reelsStarted",get:function(){return this.reels.some((function(e){return e.reelModel.status===h.Started||e.reelModel.status===h.Rolling}))}},{key:"hasWildCoins",get:function(){return this.reels.some((function(e){return e.reelModel.hasWildCoins}))}},{key:"hasMultiplierCoins",get:function(){return this.reels.some((function(e){return e.reelModel.hasMultiplierCoins}))}},{key:"godCoinDrawn",get:function(){var e=[];return this.hasWildCoins&&e.push(k.Ares),this.hasMultiplierCoins&&e.push(k.Athena),e}},{key:"hasVisibleWildSymbols",get:function(){return this.visibleWildSymbols.length>0}},{key:"visibleWildSymbols",get:function(){return y(this.reels,(function(e){return e.getVisibleSymbolValues(F.wild)}))}},{key:"hasVisibleMultiplierSymbols",get:function(){return this.visibleMultiplierSymbols.length>0}},{key:"visibleMultiplierSymbols",get:function(){return y(this.reels,(function(e){return e.getVisibleSymbolValues(F.multiplier)}))}},{key:"visibleSymbols",get:function(){return y(this.reels,(function(e){return e.visibleSymbols}))}},{key:"invisibleSymbols",get:function(){return y(this.reels,(function(e){return e.invisibleSymbols}))}}]),t}(c)).prototype,"reels",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(H.prototype,"godReels",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=H))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts","./wait.ts","./reelsData.ts","./gameData.ts","./gameplayCalculations.ts","./coinData.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./roundTypes.ts","./specialSymbols.ts","./bonusSideType.ts","./moveCoins.ts","./resolvablePromise.ts","./array.ts"],(function(e){var n,t,s,a,r,l,o,i,u,p,c,d,f,m,y,h,v,g,b,R,T,x,C,S,w,P,k,I,G,M,A,F,E,D,B,O,W,j,L,N,V,J,U,H,_,q,z,Y,K;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e.Vec3},function(e){l=e.godFeatureResetSignal,o=e.setRoundTypeSignal,i=e.spinReelSignal,u=e.startRoundSignal,p=e.setReelsUpdateSignal,c=e.setReelsSignal,d=e.showReelResultSignal,f=e.freeSpinsActivateAnimationSignal,m=e.animateGodSymbolSignal,y=e.createWinningsSignal,h=e.increaseTumbleCountSignal,v=e.tumbleSymbolsSignal,g=e.popSymbolsSignal,b=e.respinGodsSignal,R=e.respinTriggerSignal,T=e.bonusResetRollsSignal,x=e.bonusStopRollsSignal,C=e.bonusStartRollsSignal},function(e){S=e.wait},function(e){w=e.reelsData,P=e.bonusReelsData},function(e){k=e.gameData},function(e){I=e.generateRandomSymbols,G=e.drawGodsInReels,M=e.generateJackpotCoinsResultTwo,A=e.addGodCoinsToCoinsResult,F=e.getGodReelsResult,E=e.generateGodReelsResult,D=e.drawRandomGodFeatureActivation,B=e.randomizer},function(e){O=e.CoinTypes},function(e){W=e.GodFeatureTypes,j=e.godFeatureTypeToId},function(e){L=e.godToJackpotType},function(e){N=e.RoundTypes},function(e){V=e.specialSymbolTypeToGodType,J=e.specialSymbolTypeToId,U=e.SpecialSymbolTypes},function(e){H=e.BonusSideType},function(e){_=e.moveJackpotCoins,q=e.moveFeatureCoins},function(e){z=e.ResolvablePromise},function(e){Y=e.shuffle,K=e.flatMap}],execute:function(){function Q(){return(Q=n(t().mark((function e(n,a){var r,i,u,p,c,d,f,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.playfield.tumbleTotalCount=0,a.hud.won=0,a.playfield.waitingStopPromise=new z,r=Array(w.playFieldDimensions.columns).fill(!0),e.next=6,X(n,a,{useRollToCenter:a.hud.isRollToCenterEnabled,spinPerColumn:r});case 6:return e.next=8,te(a);case 8:return e.next=10,S(w.rollTime.normal);case 10:return i=$(a),u=i.symbols,p=i.coinsResult,e.next=13,ee(a,{useRollToCenter:a.hud.isRollToCenterEnabled,spinPerColumn:r});case 13:return e.next=15,re(u,p,a);case 15:return e.next=17,oe(a);case 17:return c=ce(a.playfield.totalResults,n,a),e.next=20,ue(c,n,a);case 20:if(!(a.playfield.tumbleTotalCount>=k.respin.possibleCount&&a.playfield.tumbleTotalCount<k.bonus.tumble.minimumCount||a.hud.isRespinCheat)){e.next=23;break}return e.next=23,fe(a,n);case 23:if(a.gameplay.roundType===N.Normal&&a.playfield.tumbleTotalCount>=k.bonus.tumble.minimumCount&&(a.bonus.isBonusAvailable=!0),!a.gameplay.hasAnySpecialActivated||a.gameplay.roundType===N.FreeSpin){e.next=27;break}return o.dispatch({roundType:N.FreeSpin}),e.abrupt("return");case 27:if(a.gameplay.roundType!==N.FreeSpin){e.next=37;break}if(a.gameplay.freeSpinCount!==a.gameplay.freeSpinLeft){e.next=34;break}for(d=s(a.gameplay.activatedSpecialsList);!(f=d()).done;)m=f.value,l.dispatch({feature:V[m]});o.dispatch({roundType:N.Normal}),a.gameplay.bonusStarted=!1,e.next=37;break;case 34:return a.gameplay.startRound(a.playfield,a.bonus),a.gameplay.bonusStarted=!0,e.abrupt("return");case 37:if(!a.bonus.isBonusAvailable){e.next=40;break}return e.next=40,he({playfield:a.playfield,bonus:a.bonus,hud:a.hud,gameplay:a.gameplay},a.playfield.tumbleTotalCount);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,n,t){return Z.apply(this,arguments)}function Z(){return(Z=n(t().mark((function e(s,a,r){var l,o,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.dispatch(a.gameplay.roundType),p.dispatch({enable:!0}),null!=r&&r.useRollToCenter){e.next=16;break}l=0;case 4:if(!(l<a.playfield.reels.length)){e.next=14;break}if(null!=r&&r.spinPerColumn[l]){e.next=7;break}return e.abrupt("continue",11);case 7:return e.next=9,S(20*(l+1));case 9:i.dispatch({columnId:l,useTween:!0,reverse:s}),i.dispatch({columnId:l,useTween:!0,reverse:s,isGodReel:!0});case 11:l++,e.next=4;break;case 14:e.next=27;break;case 16:return o=Math.floor(a.playfield.reels.length/2),(c=[]).push(new Promise(n(t().mark((function e(n){var l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0;case 1:if(!(l<o)){e.next=16;break}if(u=a.playfield.reels.length-1-l,null!=r&&r.spinPerColumn&&(null==r||!r.spinPerColumn[l])){e.next=8;break}return e.next=6,S(50*(l+1));case 6:i.dispatch({columnId:l,useTween:!0,reverse:s}),i.dispatch({columnId:l,useTween:!0,reverse:s,isGodReel:!0});case 8:if(null!=r&&r.spinPerColumn&&(null==r||!r.spinPerColumn[u])){e.next=13;break}return e.next=11,S(50*(l+1));case 11:i.dispatch({columnId:u,useTween:!0,reverse:s}),i.dispatch({columnId:u,useTween:!0,reverse:s,isGodReel:!0});case 13:l++,e.next=1;break;case 16:n();case 17:case"end":return e.stop()}}),e)}))))),e.next=21,Promise.all(c);case 21:if(a.playfield.reels.length%2==0){e.next=27;break}if(null!=r&&r.spinPerColumn&&(null==r||!r.spinPerColumn[o])){e.next=27;break}return e.next=25,S(50*(o+1));case 25:i.dispatch({columnId:o,useTween:!0,reverse:s}),i.dispatch({columnId:o,useTween:!0,reverse:s,isGodReel:!0});case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,n){var t=e.gameplay.getCurrentPillarCounts(),s=null!=n&&n.isRespin?{currentSymbols:e.playfield.totalResults,includedColumns:null==n?void 0:n.canSpinPerColumn,hasGodInReels:null==n?void 0:n.hasGodInReels,pillarCountPerGod:t}:{specials:e.gameplay.activatedSpecialsList,cheat:e.hud.isEasyTumbleCheat,pillarCountPerGod:t},a=I(s);console.log("drawEndResults - "+(null!=n&&n.isRespin?"isRespin":"isNormal")+" | symbols",structuredClone(a));var r=function(e,n,t){var s,a=null!=(s=null==t?void 0:t.hasGodInReels)?s:G({columnCount:n.playfield.godReels.length,excludeColumnIndices:[3],isEndResult:!0,cheat:n.hud.isMysteryColumnCheat,isRespin:null==t?void 0:t.isRespin,useGodReels:null==t?void 0:t.useGodReels});console.log("generateCoins | hasGodInReels",a);var r=n.gameplay.roundType===N.FreeSpin?n.gameplay.activatedGodsList:Object.values(W).map((function(e){return e})),l=M({reelsData:w,jackpotTypesPerColumn:k.jackpotTypesPerColumn,activeGods:r,freeSpins:n.gameplay.roundType===N.FreeSpin,isRespin:null==t?void 0:t.isRespin});console.log("generateCoins | coinsResult",structuredClone(l));var o=A(l,{jackpotGodTypePerColumn:k.godTypePerColumn.map((function(e){return L[e]})),activeGods:r,hasGodInReels:a,reelsData:w,freeSpins:n.gameplay.roundType===N.FreeSpin,cheat:n.hud.isGodCoinCheat});console.log("generateCoins | coinsResultWithGods",structuredClone(o));var i=F(e,{hasGodInReels:a});return console.log("generateCoins | symbolsWithGods",structuredClone(i)),console.log("generateCoins | options.isRespin",null==t?void 0:t.isRespin,null==t?void 0:t.canSpinPerColumn),n.playfield.setSymbols(i,o,null!=t&&t.isRespin?null==t?void 0:t.canSpinPerColumn:void 0),{symbols:i,hasGodInReels:a,coinsResult:l}}(a,e,n),l=r.symbols,o=r.hasGodInReels,i=r.coinsResult,u=function(e,n){var t=E({godValuePerColumn:k.godTypePerColumn.map((function(e){return j[e]})),reelsData:P,hasGodInReels:null==n?void 0:n.hasGodInReels,isEndResult:!0});return console.log("setGodReels | godSymbols",t),e.playfield.setGodSymbols(t,null!=n&&n.isRespin?null==n?void 0:n.canSpinPerColumn:void 0),t}(e,{hasGodInReels:o,isRespin:null==n?void 0:n.isRespin,canSpinPerColumn:null==n?void 0:n.canSpinPerColumn});return null!=n&&n.isRespin&&null!=n&&n.useGodReels&&c.dispatch({symbols:l,coinsData:i,comesFromMediator:!0}),{symbols:u,coinsResult:i}}function ee(e,n){return ne.apply(this,arguments)}function ne(){return(ne=n(t().mark((function e(s,a){var r,l,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a&&a.useRollToCenter){e.next=14;break}r=0;case 2:if(!(r<s.playfield.reels.length)){e.next=12;break}if(null!=a&&a.spinPerColumn[r]){e.next=5;break}return e.abrupt("continue",9);case 5:return e.next=7,S(10*(r+1));case 7:d.dispatch({columnId:r}),d.dispatch({columnId:r,isGodReel:!0});case 9:r++,e.next=2;break;case 12:e.next=25;break;case 14:return l=Math.floor(s.playfield.reels.length/2),(o=[]).push(new Promise(n(t().mark((function e(n){var r,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<l)){e.next=16;break}if(o=s.playfield.reels.length-1-r,null!=a&&a.spinPerColumn&&(null==a||!a.spinPerColumn[r])){e.next=8;break}return e.next=6,S(25*(r+1));case 6:d.dispatch({columnId:r,useTween:!0}),d.dispatch({columnId:r,useTween:!0,isGodReel:!0});case 8:if(null!=a&&a.spinPerColumn&&(null==a||!a.spinPerColumn[o])){e.next=13;break}return e.next=11,S(25*(r+1));case 11:d.dispatch({columnId:o,useTween:!0}),d.dispatch({columnId:o,useTween:!0,isGodReel:!0});case 13:r++,e.next=1;break;case 16:n();case 17:case"end":return e.stop()}}),e)}))))),e.next=19,Promise.all(o);case 19:if(s.playfield.reels.length%2==0){e.next=25;break}if(null!=a&&a.spinPerColumn&&(null==a||!a.spinPerColumn[l])){e.next=25;break}return e.next=23,S(25*(l+1));case 23:d.dispatch({columnId:l,useTween:!0}),d.dispatch({columnId:l,useTween:!0,isGodReel:!0});case 25:if(s.playfield.allReelsStopped){e.next=30;break}return e.next=28,S(10);case 28:e.next=25;break;case 30:return e.next=32,S(250);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return se.apply(this,arguments)}function se(){return(se=n(t().mark((function e(n){var s,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.gameplay.hasAnySpecialActivated&&!n.gameplay.specialsFeatureActivated?(f.dispatch({activatedSpecialCount:n.gameplay.activatedSpecialCount}),S(500).then((function(){n.playfield.setActiveSpecialSymbols(n.gameplay.activatedSpecialsList)})),n.gameplay.specialsFeatureActivated=!0):null==(a=n.playfield.waitingStopPromise)||a.resolve(),e.next=3,null==(s=n.playfield.waitingStopPromise)?void 0:s.promise;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,n,t){var s=0;(function(e,n){var t=new Map,s=K(e,(function(e){return e})).filter((function(e){return e.value===J[U.Wild]})).length;return n.forEach((function(n){var s=n.colId;n.removedIndices.forEach((function(n){var a,r=e[s][n];r.value!==J.wild&&r.value!==J.multiplier&&t.set(r.value,(null!=(a=t.get(r.value))?a:0)+1)}))})),t.forEach((function(e,n){t.set(n,e+s)})),Array.from(t.entries()).map((function(e){return{value:e[0],count:e[1]}}))})(e,n).forEach((function(e){var n=t.playfield.getSymbolWinnings(e.value,e.count,t.hud.stake);s+=n}));var a=t.playfield.getMultiplierTotal();return{won:s,multiplier:a}}function re(e,n,t){return le.apply(this,arguments)}function le(){return(le=n(t().mark((function e(n,s,a){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.some((function(e){return e.some((function(e){return e.value>0}))}))){e.next=5;break}for(r=0;r<a.playfield.godReels.length;r++)m.dispatch({colId:r});return e.next=5,S(250);case 5:if(!s.some((function(e){return e.some((function(e){return e.coinType===O.God}))}))){e.next=10;break}return e.next=8,q(a.playfield.featureCoinDropPositions,a.gameplay.roundType);case 8:return e.next=10,S(400);case 10:if(!s.some((function(e){return e.some((function(e){return e.coinType===O.Jackpot}))}))){e.next=15;break}return e.next=13,_(a.playfield.jackpotCoinDropPositions,a.gameplay.roundType);case 13:return e.next=15,S(400);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=n(t().mark((function e(n){var s,a,r,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.gameplay.roundType===N.Normal){e.next=2;break}return e.abrupt("return");case 2:if(s=n.gameplay.hasAnySpecialActivated?[]:n.playfield.godCoinDrawn,console.log("handleRandomSpecials | godsDrawn",s),a=D({godCoinDrawn:s,activatedSpecialFreeSpins:n.gameplay.activatedSpecialFreeSpins,activatedSpecialCount:n.gameplay.activatedSpecialCount,roundType:n.gameplay.roundType,cheat:n.hud.isRandomCheat}),console.log("handleRandomSpecials | activatedSpecialTypes",a),r=Object.values(a).some((function(e){return e>0})),console.log("handlehandleRandomSpecialsSpecials | hasAnySpecialActivated",r),!r){e.next=13;break}return l=n.playfield.updateReelsResultWithGodFeature(a),n.playfield.setSymbols(l),e.next=13,S(1e3);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,n,t,s){return pe.apply(this,arguments)}function pe(){return(pe=n(t().mark((function e(s,a,l,o){var i,u,p,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!=o&&o.isRespin?l.playfield.tumbleTotalCount:0,u=0,p=!(null==o||!o.isRespinPop);case 3:return p||(i++,c=ae(l.playfield.totalResults,s,l),y.dispatch({won:c.won,multiplier:c.multiplier}),u+=c.won*c.multiplier,l.hud.won=u),p=!1,S(800).then((function(){s.length>0&&l.gameplay.roundType===N.Normal&&h.dispatch(1)})),e.next=8,Promise.all(s.map(n(t().mark((function e(n){var s,o,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.dispatch({colId:n.colId,rows:n.removedIndices}),e.next=3,S(800);case 3:return l.gameplay.roundType===N.Normal&&(l.playfield.tumbleTotalCount=i),v.dispatch({colId:n.colId,indices:n.remainingTumblePos.map((function(e){return e.index})),positions:n.remainingTumblePos.map((function(e){return e.shift}))}),s=l.playfield.reels[n.colId].context,o=w.transform[n.colId].h,u=a?-n.removedIndices.length*o:(n.og.length+1)*o,n.removedIndices.forEach((function(e,t){var l=s.reelModel.symbols[e];s.service.setNewSymbolCallback(l,n.newValues[t],void 0,!0),l.scale=r.ONE,l.position=new r(0,u,0),u+=a?-o:o})),e.next=11,S(100);case 11:return v.dispatch({colId:n.colId,indices:n.newTumblePos.map((function(e){return e.index})),positions:n.newTumblePos.map((function(e){return e.shift}))}),e.next=14,S(800);case 14:return e.next=16,s.service.setReel(n.result,{comesFromMediator:!0},!0);case 16:l.playfield.setResultOfReel(n.result,n.colId);case 17:case"end":return e.stop()}}),e)})))));case 8:s=ce(l.playfield.totalResults,a,l);case 9:if(s.length>0){e.next=3;break}case 10:l.hud.setWinnings(u),l.playfield.reset();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,n,t,a){var r=[],l=de(e,k.winlines.minimumCount),o=l.filter((function(e){return e<J[U.Wild]}));if(0===l.length||0===o.length){if(null==a||!a.isRespinPop)return r;l=de(e,1,{isRespinPop:!0})}return e.forEach((function(e,o){var i={colId:o,removedIndices:[],newValues:[],result:[],og:[],remainingTumblePos:[],newTumblePos:[]};e.forEach((function(n,t){0!==t&&t!==e.length-1&&l.includes(n.value)&&i.removedIndices.push(t)})),null!=a&&a.isRespinPop&&(i.removedIndices=Y(i.removedIndices).slice(0,a.removeCount));for(var u=w.transform[o].h,p=0,c=function(e,n,t,a){void 0===a&&(a=120);for(var r,l=new Array(e).fill(!1),o=s(n);!(r=o()).done;){l[r.value]=!0}var i=[];if(t)for(var u=0,p=e-1;p>=0;p--)l[p]?u++:u>0&&i.push({index:p,shift:u*a});else for(var c=0,d=0;d<e;d++)l[d]?c++:c>0&&i.push({index:d,shift:-c*a});return i}(e.length,i.removedIndices,n,u);p<c.length;p++){var d=c[p],f=d.index,m=d.shift,y=t.playfield.reels[o].reelModel.symbols[f];i.remainingTumblePos.push({index:f,shift:y.y+m})}var h=t.playfield.reels[o].reelModel;if(i.newTumblePos=function(e,n,t){if(0===n.length)return[];var s=[].concat(n).sort((function(e,n){return e-n})),a=[];if(t)for(var r=0;r<s.length;r++)a.push({index:s[r],shift:e.symbols[r].y});else for(var l=e.symbols.length-1,o=0;o<s.length;o++){var i=s[s.length-1-o];a.push({index:i,shift:e.symbols[l-o].y})}return a}(h,i.removedIndices,n),i.removedIndices.length>0){i.newValues=i.removedIndices.map((function(){return B.betterRandom({cheat:t.hud.isEasyTumbleCheat})}));var v=[];e.forEach((function(e,n){-1===i.removedIndices.indexOf(n)&&v.push(e.value)})),i.result=n?[].concat(i.newValues,v):[].concat(v,i.newValues),i.og=e.map((function(e){return e.value})),r.push(i)}})),r}function de(e,n,t){var s={},a=[],r=K(e,(function(e){return e})).filter((function(e){return e.value===J[U.Wild]})).length;if(e.forEach((function(e){e.forEach((function(l,o){var i;if(0!==o&&o!==e.length-1){s[l.value]=(null!=(i=s[l.value])?i:0)+1;var u=null!=t&&t.isRespinPop?1:n;(s[l.value]>=u||s[l.value]+r>=u||l.value===J[U.Wild]||l.value===J[U.Multiplier])&&(a.includes(l.value)||a.push(l.value))}}))})),null!=t&&t.isRespinPop){var l=Object.keys(s).map((function(e){return parseInt(e)})).sort((function(e,n){return e-n}))[0];return a=[l]}for(var o=Object.keys(s).map((function(e){return parseInt(e)})),i=0;i<o.length;i++){var u=o[i];if(u!==J[U.Wild]&&u!==J[U.Multiplier])for(var p=0;p<r;p++)s[u]+=1;s[u]>=n&&(a.includes(u)||a.push(u))}return a}function fe(e,n){return me.apply(this,arguments)}function me(){return(me=n(t().mark((function e(n,s){var a,r,l,o,i,u,p,c,d,f,m,y;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=1===Math.floor(5*Math.random()),n.gameplay.respinEnabled=!!n.hud.isRespinCheat||a,n.gameplay.respinEnabled){e.next=4;break}return e.abrupt("return");case 4:if(r=Object.values(W),l=[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2],o=Math.floor(Math.random()*l.length),i=l[o]<r.length?[r[l[o]]]:r,R.dispatch({godTypes:i}),u=n.playfield.totalResults,p=[],!n.hud.isRespinPopEnabled){e.next=16;break}c=Math.floor(Math.random()*(k.respin.removeCount.max-k.respin.removeCount.min))+k.respin.removeCount.min,p=ce(u,s,n,{isRespinPop:!0,removeCount:c}),e.next=38;break;case 16:if(d=n.hud.isRespinGodsEnabled,f=ye(i,d),m=function(e,t){$(n,{isRespin:!0,canSpinPerColumn:f,useGodReels:d,hasGodInReels:t})},d){e.next=29;break}return e.next=22,X(s,n,{useRollToCenter:n.hud.isRollToCenterEnabled,spinPerColumn:f});case 22:return m(),e.next=25,S(w.rollTime.respin);case 25:return e.next=27,ee(n,{useRollToCenter:n.hud.isRollToCenterEnabled,spinPerColumn:f});case 27:e.next=37;break;case 29:return y=f.map((function(e,n){if(e)return n})).filter((function(e){return void 0!==e})),b.dispatch({columnIds:y}),e.next=33,Promise.all([].concat(n.gameplay.respinResolvePromise.map((function(e){return e})),[S(w.rollTime.respin)]));case 33:return n.gameplay.respinResolvePromise=[],m(u,f),e.next=37,S(w.rollTime.respin);case 37:p=ce(n.playfield.totalResults,s,n);case 38:return e.next=40,ue(p,s,n,{isRespin:!0,isRespinPop:n.hud.isRespinPopEnabled});case 40:n.gameplay.respinEnabled=!1;case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,n,t){var s,a;void 0===n&&(n=!1),void 0===t&&(t=!1);for(var r=Array(w.playFieldDimensions.columns).fill(!1),l=((s={})[W.Athena]=0,s[W.Ares]=0,s),o=((a={})[W.Athena]=Math.floor(3*Math.random())+1,a[W.Ares]=Math.floor(3*Math.random())+1,a),i=0;i<k.godTypePerColumn.length;i++)e.includes(k.godTypePerColumn[i])&&(!n||n&&o[k.godTypePerColumn[i]]>l[k.godTypePerColumn[i]])&&(r[i]=!0,l[k.godTypePerColumn[i]]++);t&&e.length>1&&(r[Math.floor(w.playFieldDimensions.columns/2)]=!0);return r}function he(e,n){return ve.apply(this,arguments)}function ve(){return(ve=n(t().mark((function e(a,r){var l,i,u,p,c,d,f,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.gameplay.bonusStarted=!0,e.next=3,S(800);case 3:return a.hud.won=0,l=a.playfield.setMultiplierFromTumbleCount(r),a.bonus.setAllMainMultipliers(l),a.bonus.setStartBonusSpins(3),o.dispatch({roundType:N.Bonus}),e.next=10,S(1e3);case 10:i=a.bonus.bonusSpins,u=[];case 12:p=t().mark((function e(){var s,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=d.value,r=new Promise(n(t().mark((function e(n){var r,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.bonus.getBonusSpinsLeftOfSide(s.sideType),l=a.bonus.getBonusSpinsSideIsFull(s.sideType),!(r>0&&!l||s.sideType===H.Center)){e.next=13;break}return a.bonus.subtractBonusSpinsLeftOfSide(s.sideType),a.bonus.previousResultCount[s.sideType]=a.bonus.bonusResult[s.sideType].length,C.dispatch({sideType:s.sideType}),e.next=8,S(2e3);case 8:return x.dispatch({sideType:s.sideType}),e.next=11,S(1e3);case 11:a.bonus.previousResultCount[s.sideType]<a.bonus.bonusResult[s.sideType].length&&a.bonus.setBonusSpinsLeftOfSide(s.sideType,3);case 13:n();case 14:case"end":return e.stop()}}),e)})))),u.push(r);case 3:case"end":return e.stop()}}),e)})),c=s(i);case 14:if((d=c()).done){e.next=18;break}return e.delegateYield(p(),"t0",16);case 16:e.next=14;break;case 18:return e.next=20,Promise.all(u);case 20:return e.next=22,S(1e3);case 22:a.hud.won=0;case 23:if(a.bonus.getTotalBonusSpinLeft()>0&&!a.bonus.getAllSidesFull()){e.next=12;break}case 24:return e.next=26,S(1e3);case 26:f=a.bonus.getTotalMainMultiplier(),y.dispatch({won:a.bonus.getTotalCashAmount(),multiplier:f}),m=a.bonus.getTotalCashAmount()*f,a.hud.setWinnings(m),T.dispatch(),a.bonus.reset(),o.dispatch({roundType:a.gameplay.previousRoundType}),a.gameplay.bonusStarted=!1;case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e("playfieldUpdate",(function(e,n){return Q.apply(this,arguments)})),a._RF.push({},"512316B0etHfbb/hkqCM9IE","playfieldUpdate",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/randomizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./specialSymbols.ts","./array.ts"],(function(e){var t,r,i,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){i=e.SpecialSymbolTypes},function(e){n=e.shuffle}],execute:function(){e({createWeightedArray:u,createWeightedTable:function(e){for(var r,i=[],o=t(e);!(r=o()).done;)for(var c=r.value,s=c.value,a=0;a<c.weight;a++)i.push(s);return n(i)}}),r._RF.push({},"43013uUXbVIAbMwkpPqNbOx","randomizer",void 0);var o={1:13,2:12,3:11,4:8,5:7,6:6,7:5,8:5,9:4},c={1:13,2:12,3:11,4:8,5:7},s=[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],a=[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11];function u(e){for(var t=[],r=0,i=Object.entries(e);r<i.length;r++)for(var o=i[r],c=o[0],s=o[1],a=Number.isNaN(Number(c))?c:Number(c),u=0;u<s;u++)t.push(a);return n(t)}e("Randomizer",function(){function e(){this.logicList=void 0,this.cheatList=void 0,this.logicList=u(o),this.cheatList=u(c)}return e.prototype.betterRandom=function(e){var t,r,n=structuredClone(e.cheat?this.cheatList:this.logicList);null!=(t=e.specials)&&t.includes(i.Wild)&&(n=n.concat(s)),null!=(r=e.specials)&&r.includes(i.Multiplier)&&(n=n.concat(a));var o=Math.floor(Math.random()*n.length);return e.gods?0:n[o]},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/reelAnimations.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelModel.ts"],(function(t){var e,n,a,r,o,i,u,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime,r=t.extends},function(t){o=t.cclegacy,i=t._decorator,u=t.Component,s=t.math},function(t){c=t.ReelModel}],execute:function(){var l;o._RF.push({},"abc707f8npEFYtEhEw+lQ1d","reelAnimations",void 0);var d=i.ccclass,p=(i.property,{easeOutQuad:function(t){return t*(2-t)},easeInQuad:function(t){return t*t},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)}}),y=[{t:0,data:{y:0},easing:p.easeOutCirc},{t:200,data:{y:14},easing:p.easeOutCirc},{t:500,data:{y:0},easing:p.easeOutExpo}],f=[{t:0,data:{y:0},easing:p.easeOutQuad},{t:400,data:{y:-20},easing:p.easeOutQuad},{t:550,data:{y:0},easing:p.easeInQuad}];t("ReelAnimations",d("ReelAnimations")(l=function(t){function o(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).context=void 0,e.model=null,e}e(o,t);var i=o.prototype;return i.start=function(){this.model=this.node.getComponent(c)},i.init=function(t){this.context=t},i.tweenInOutReel=function(){var t=n(a().mark((function t(e){var n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.isIntro?f:y,n=a.map((function(t){return r({},t,{data:r({},t.data),easing:t.easing})})),o=new s.Vec3,this.node.getPosition(o),n[0].data.y=o.y,n[1].data.y=o.y+(e.reverse?n[1].data.y:-n[1].data.y),n[2].data.y=o.y,t.next=8,this.playTweenAsync({keyFrames:n,loopFunction:e.loopFunction});case 8:null==e.completeCallback||e.completeCallback(n[2].data);case 9:case"end":return t.stop()}var a}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.playTweenAsync=function(){var t=n(a().mark((function t(e){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.keyFrames,r=e.loopFunction,t.abrupt("return",new Promise((function(t){var e=performance.now(),a=n[n.length-1].t;requestAnimationFrame((function o(i){var u=i-e,s=function(t){for(var e=0;e<n.length-1;e++){var a=n[e],r=n[e+1];if(t>=a.t&&t<=r.t){var o=(t-a.t)/(r.t-a.t),i=r.easing(o);return a.data.y+(r.data.y-a.data.y)*i}}return n[n.length-1].data.y}(u);r({y:s}),u<a?requestAnimationFrame(o):t()}))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o}(u))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/reelArgs.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"63d70JmV0lE9qAi93iBnjnh","reelArgs",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/reelComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolNode.ts","./reelStatus.ts","./coinData.ts","./jackpotTypes.ts","./roundTypes.ts","./reelsData.ts","./gameplayCalculations.ts"],(function(e){var o,n,t,r,l,s,i,a,c,u,d,p,m,v,y,f,h,b,R;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,i=e.CCFloat,a=e.tween,c=e.Vec3,u=e.Component},function(e){d=e.SymbolNode},function(e){p=e.ReelStatus},function(e){m=e.CoinTypes},function(e){v=e.JackpotTypes,y=e.jackpotTypeToTriggerType,f=e.JackpotTriggerTypes},function(e){h=e.RoundTypes},function(e){b=e.reelsData},function(e){R=e.randomizer}],execute:function(){var C,g,x,w,I;l._RF.push({},"091dafsqBFNmr5IsfHuH9Ye","reelComponent",void 0);var T=s.ccclass,S=s.property;e("ReelComponent",(C=T("ReelComponent"),g=S(i),C((I=o((w=function(e){function o(){for(var o,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(o=e.call.apply(e,[this].concat(l))||this).context=void 0,t(o,"columnId",I,r(o)),o}n(o,e);var l=o.prototype;return l.init=function(e){this.context=e;var o=e.reelModel;o.reelComponent=this,this.columnId=o.columnId,this.name=o.isBonusReel?"bonusReel_"+o.columnId:"reel_"+o.columnId;var n=o.config.reelsData.transform[o.columnId];this.node.x=n.x+(o.columnId-o.centerOffsetRatio.x)*n.w,this.node.y=n.y-o.centerOffsetRatio.y*n.h;for(var t=[],r=0;r<o.config.reelsData.playFieldDimensions.rows[this.columnId].total;r++){var l=new d;l.init(o.columnId+"_"+r,o.columnId,o.isBonusReel),this.node.addChild(l),l.y=r*n.h,t.push(l)}o.symbols=t},l.spinReelHandler=function(e,o){var n=this;return this.context.reelAnims.tweenInOutReel({isIntro:!0,reverse:o,fastPlay:e,loopFunction:function(e){var o;null!=(o=n.context)&&o.reelComponent&&(n.context.reelComponent.node.y=e.y)},completeCallback:function(e){var o;null!=(o=n.context)&&o.reelComponent&&(n.context.reelComponent.node.y=e.y)}})},l.stopReelHandler=function(e,o){var n=this;return this.context.reelAnims.tweenInOutReel({isIntro:!1,reverse:o,fastPlay:e,loopFunction:function(e){var o;null!=(o=n.context)&&o.reelComponent&&(n.context.reelComponent.node.y=e.y)},completeCallback:function(e){var o;null!=(o=n.context)&&o.reelComponent&&(n.context.reelComponent.node.y=e.y)}})},l.popSymbolHandler=function(e){var o=this,n=this.context.reelModel.symbols;e.forEach((function(e){var t=n[e];a(t).to(.1,{scale:new c(1.25,1.25,1)},{easing:"quadOut"}).to(.15,{scale:new c(0,0,0)},{easing:"quadIn"}).call((function(){o.context.service.clearSymbolCallback(t)})).start()}))},l.tumbleSymbolHandler=function(e){var o=this.context.reelModel.symbols[e.index];a(o).to(.5,{y:e.pos},{easing:"bounceOut"}).start()},l.updateReelHandler=function(e,o,n){var t=this.context.reelModel;if(t.status===p.Rolling)for(var r=t.symbols.length,l=(o.isRespin?t.config.reelsData.rollSpeed.respin:t.config.reelsData.rollSpeed.normal).y*e,s=0;s<r;s++){var i=t.symbols[s];i.y+=o.reverse?l:-l;var a=o.reverse?this.reverseSymbolAboveThreshold(i.y):this.symbolAboveThreshold(i.y);if(a.isAbove)if(i.y=a.resetYPos,this.reorganizeSymbols(t.symbols),t.showEndResult){var c,u,d,m;t.currentRow<0&&(t.currentRow=t.config.reelsData.playFieldDimensions.rows[t.columnId].visible-1);var v=t.result[t.currentRow],y=o.isBonusReel?void 0:null!=(c=null==(u=t.resultCoins)?void 0:u[t.currentRow])?c:void 0;this.context.service.setNewSymbolCallback(i,null!=(d=null==(m=v.meta)?void 0:m.oldSymbolValue)?d:v.value,y,!0).then((function(){t.currentRow>=0&&(t.currentRow--,t.currentRow<0&&(t.status=p.Stopping,null==n||n(t.config.columnId,t.hasTension),t.reelStoppedPromise.resolve()))}))}else{var f=o.isBonusReel?void 0:this.drawRandomCoin(10,o.roundType);this.context.service.setNewSymbolCallback(i,R.betterRandom({gods:o.isBonusReel,specials:o.specials}),f)}}},l.symbolAboveThreshold=function(e){var o=this.context.reelModel,n=b.transform[o.columnId].h;return e<-n+o.endDeviationY?{isAbove:!0,resetYPos:o.endPositionY-n+o.endDeviationY}:{isAbove:e<-n,resetYPos:o.endPositionY-n}},l.reverseSymbolAboveThreshold=function(e){var o=this.context.reelModel;return e>=o.endPositionY-o.endDeviationY?{isAbove:!0,resetYPos:e-o.endPositionY-o.endDeviationY}:{isAbove:e>=o.endPositionY,resetYPos:e-o.endPositionY}},l.reorganizeSymbols=function(e){e.unshift(e.pop())},l.drawRandomCoin=function(e,o){if(!(Math.floor(100*Math.random())>e)){var n=o===h.FreeSpin?Object.values(v):Object.values(v).filter((function(e){return y[e]===f.CashGrab})),t=n[Math.floor(Math.random()*n.length)];return{coinType:m.Jackpot,valueType:t}}},o}(u)).prototype,"columnId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=w))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/reelConfig.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c595cHm3sJB+Kl/qREoodJl","reelConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/reelContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelAnimations.ts","./reelModel.ts","./reelService.ts","./reelComponent.ts"],(function(e){var n,t,o,i,l,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.Node},function(e){i=e.ReelAnimations},function(e){l=e.ReelModel},function(e){r=e.ReelService},function(e){s=e.ReelComponent}],execute:function(){t._RF.push({},"a6cdepSDvFI/5o4eGoZCWZc","reelContext",void 0);e("ReelContext",function(e){function t(){var n;return(n=e.call(this)||this).reelModel=n.addComponent(l),n.reelComponent=n.addComponent(s),n.reelAnims=n.addComponent(i),n.service=n.addComponent(r),n}return n(t,e),t.prototype.init=function(e){this.name=e.isGodReel?"bonusReel_"+e.columnId:"reel_"+e.columnId,this.reelModel.init(e),this.reelComponent.init(this),this.reelAnims.init(this),this.service.init(this)},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/reelModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelStatus.ts","./resolvablePromise.ts","./coinData.ts","./godFeatureTypes.ts"],(function(e){var t,o,n,i,s,r,l,u,c;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,i=e._decorator,s=e.Component},function(e){r=e.ReelStatus},function(e){l=e.ResolvablePromise},function(e){u=e.CoinTypes},function(e){c=e.GodFeatureTypes}],execute:function(){var a;n._RF.push({},"5f53az2J49GWJhefuz3ToJ1","reelModel",void 0);var f=i.ccclass;i.property,e("ReelModel",f("ReelModel")(a=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).config=void 0,t.result=void 0,t.resultCoins=void 0,t.status=r.Stopped,t.reelStoppedPromise=new l,t.symbols=void 0,t.reelComponent=void 0,t.currentRow=void 0,t.hasTension=void 0,t.showEndResult=void 0,t.isRespin=void 0,t.activeSpecialSymbols=[],t.endDeviationY=20,t}return t(n,e),n.prototype.init=function(e){this.config=e,this.currentRow=-1,this.hasTension=!1,this.showEndResult=!1,this.isRespin=!1},o(n,[{key:"isBonusReel",get:function(){return this.config.isGodReel}},{key:"bonusValue",get:function(){return this.config.godType}},{key:"visibleSymbols",get:function(){return this.symbols.slice(1,-1)}},{key:"visibleResult",get:function(){return this.result.slice(1,-1)}},{key:"columnId",get:function(){return this.config.columnId}},{key:"hasWildCoins",get:function(){return this.resultCoins.some((function(e){return e.coinType===u.God&&e.valueType===c.Ares}))}},{key:"hasMultiplierCoins",get:function(){return this.resultCoins.some((function(e){return e.coinType===u.God&&e.valueType===c.Athena}))}},{key:"centerOffsetRatio",get:function(){return{x:Math.floor(this.config.reelsData.playFieldDimensions.columns/2),y:Math.floor(this.config.reelsData.playFieldDimensions.rows[this.columnId].visible/2)}}},{key:"endPositionY",get:function(){return this.config.reelsData.playFieldDimensions.rows[this.columnId].total*this.config.reelsData.transform[this.columnId].h}}]),n}(s))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/reelsData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bonusSideType.ts"],(function(e){var t,l,i;return{setters:[function(e){t=e.extends},function(e){l=e.cclegacy},function(e){i=e.BonusSideType}],execute:function(){var s;l._RF.push({},"99c57bNQaVBSIObGdSt3mGy","reelsData",void 0);var o=e("reelsData",{transform:[{x:20,y:-156,w:150,h:130},{x:10,y:-90,w:150,h:130},{x:-5,y:-156,w:150,h:130},{x:0,y:-90,w:150,h:130},{x:5,y:-156,w:150,h:130},{x:-10,y:-90,w:150,h:130},{x:-20,y:-156,w:150,h:130}],rollTime:{normal:1e3,respin:2e3,fast:250},rollSpeed:{normal:{x:0,y:2e3},respin:{x:0,y:500}},tension:{speed:1e3,delay:{normal:1700,fast:1500}},playFieldDimensions:{columns:7,rows:[{total:5,visible:3},{total:6,visible:4},{total:7,visible:5},{total:8,visible:6},{total:7,visible:5},{total:6,visible:4},{total:5,visible:3}]},columnIndicesPerSide:(s={},s[i.Left]=[0,1,2],s[i.Center]=[3],s[i.Right]=[4,5,6],s),delayBetweenReels:{start:0,stop:0}});e("bonusReelsData",t({},o,{transform:[{x:20,y:-566,w:150,h:130},{x:10,y:-635,w:150,h:130},{x:2,y:-836,w:150,h:130},{x:0,y:-90,w:150,h:130},{x:-2,y:-836,w:150,h:130},{x:-10,y:-635,w:150,h:130},{x:-20,y:-566,w:150,h:130}],playFieldDimensions:{columns:7,rows:[{total:11,visible:3},{total:14,visible:4},{total:17,visible:5},{total:8,visible:6},{total:17,visible:5},{total:14,visible:4},{total:11,visible:3}]}}));l._RF.pop()}}}));

System.register("chunks:///_virtual/reelService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelStatus.ts","./wait.ts","./eventSignals.ts","./resolvablePromise.ts","./roundTypes.ts"],(function(e){var t,n,s,l,r,o,i,a,d,u,c,p,h,m,f,y,b,R;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.assertThisInitialized,l=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e._decorator,a=e.Component},function(e){d=e.ReelStatus},function(e){u=e.wait},function(e){c=e.setRoundTypeSignal,p=e.spinReelSignal,h=e.stopReelSignal,m=e.showReelResultSignal,f=e.popSymbolsSignal,y=e.tumbleSymbolsSignal},function(e){b=e.ResolvablePromise},function(e){R=e.RoundTypes}],execute:function(){var v;o._RF.push({},"65f33Ty5qxLOLLMd3tzIRn7","reelService",void 0);var S=i.ccclass;e("ReelService",S("ReelService")(v=function(e){function o(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).context=void 0,t.shouldUpdate=!1,t.reverse=!1,t.isBonusReel=!1,t.bonusValue=void 0,t.roundType=R.Normal,t.setNewSymbolCallback=void 0,t.clearSymbolCallback=void 0,t.reelStopCallback=void 0,t.setRoundTypeBind=t.setRoundTypeHandler.bind(s(t)),t.spinReelHandlerBind=t.spinReelHandler.bind(s(t)),t.stopReelHandlerBind=t.stopReelHandler.bind(s(t)),t.showReelResultHandlerBind=t.showReelResultHandler.bind(s(t)),t.popSymbolsHandlerBind=t.popSymbolsHandler.bind(s(t)),t.tumbleSymbolsHandlerBind=t.tumbleSymbolsHandler.bind(s(t)),t}t(o,e);var i=o.prototype;return i.init=function(e){this.context=e,c.addListener(this.setRoundTypeBind),p.addListener(this.spinReelHandlerBind),h.addListener(this.stopReelHandlerBind),m.addListener(this.showReelResultHandlerBind),f.addListener(this.popSymbolsHandlerBind),y.addListener(this.tumbleSymbolsHandlerBind)},i.onDestroy=function(){c.removeListener(this.setRoundTypeBind),p.removeListener(this.spinReelHandlerBind),h.removeListener(this.stopReelHandlerBind),m.removeListener(this.showReelResultHandlerBind),f.removeListener(this.popSymbolsHandlerBind),y.removeListener(this.tumbleSymbolsHandlerBind)},i.getReelContext=function(){return this.context},i.resetReel=function(){this.reelModel.currentRow=-1,this.reelModel.hasTension=!1,this.reelModel.showEndResult=!1,this.reelModel.status=d.Stopped,this.reelModel.isRespin=!1,this.reelModel.result=[],this.reelModel.resultCoins=[]},i.setRoundTypeHandler=function(e){this.roundType=e.roundType},i.spinReelHandler=function(){var e=l(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&!t.fastPlay&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:if(this.reelModel.reelStoppedPromise=new b,this.reelModel.status=d.Started,!t.useTween){e.next=7;break}return e.next=7,this.context.reelComponent.spinReelHandler(t.fastPlay,t.reverse);case 7:this.reelModel.status=d.Rolling;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.showReelResultHandler=function(){var e=l(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:return n=this.getTensionDelay(t),e.next=5,u(n);case 5:this.reelModel.showEndResult=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.popSymbolsHandler=function(e){this.reelModel.columnId!==e.colId||this.reelModel.isBonusReel||this.context.reelComponent.popSymbolHandler(e.rows)},i.tumbleSymbolsHandler=function(){var e=l(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reelModel.columnId===t.colId&&!this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:for(n=0;n<t.indices.length;n++)this.context.reelComponent.tumbleSymbolHandler({index:t.indices[n],pos:t.positions[n]});return e.next=5,u(500);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.getTensionDelay=function(e){return this.reelModel.hasTension&&e.tension?(e.fastPlay?this.reelModel.config.reelsData.tension.delay.fast:this.reelModel.config.reelsData.tension.delay.normal)*(e.fastPlay?1:e.tension.id):0},i.stopReelHandler=function(){var e=l(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:if(this.reelModel.status=d.Stopping,!t.useTween){e.next=6;break}return e.next=6,this.context.reelComponent.stopReelHandler(t.fastPlay,t.reverse);case 6:this.reelModel.status=d.Stopped;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.update=function(e){this.shouldUpdate&&this.updateReel(e)},i.updateReel=function(e){this.context.reelComponent.updateReelHandler(e,{reverse:this.reverse,isBonusReel:this.reelModel.isBonusReel,specials:this.reelModel.activeSpecialSymbols,roundType:this.roundType,isRespin:this.reelModel.isRespin},this.reelStopCallback)},i.setReel=function(){var e=l(r().mark((function e(t,n,s){var l,o,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.reelModel.config.reelsData.transform[this.reelModel.columnId].h,o=this.reelModel.symbols.map((function(e,r){var o;return e.y=r*l,i.setNewSymbolCallback(e,t[r],null==n||null==(o=n.coinData)?void 0:o[r],s).then((function(){e.symbolView&&(e.symbolModel.symbolPosition={colId:i.reelModel.columnId,rowId:r})}))})),e.next=4,Promise.all(o);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}(),i.getVisibleSymbolValues=function(e){return this.visibleSymbols.filter((function(t){return t.symbolModel.value===e}))},n(o,[{key:"reelModel",get:function(){return this.context.reelModel}},{key:"visibleSymbols",get:function(){return this.reelModel.symbols.slice(1,-1)}},{key:"invisibleSymbols",get:function(){return[this.reelModel.symbols[0],this.reelModel.symbols[this.reelModel.symbols.length-1]]}}]),o}(a))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/reelStatus.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d8a63e9t79MqKUOquhZ4vN0","reelStatus",void 0);t("ReelStatus",function(t){return t.Started="starting",t.Rolling="rolling",t.Stopping="stopping",t.Stopped="stopped",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/resize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,r=e.view,o=e.Component}],execute:function(){var s;i._RF.push({},"c312bUGSkRG6KI13uztm5Wr","resize",void 0);var c=t.ccclass;e("resize",c("resize")(s=function(e){function i(){return e.apply(this,arguments)||this}n(i,e);var t=i.prototype;return t.start=function(){window.addEventListener("resize",this.onResize.bind(this)),this.onResize()},t.onResize=function(){var e=window.innerHeight,n=Math.round(e/540*960);n>window.innerWidth&&(n=window.innerWidth,e=Math.round(n/960*540)),r.setCanvasSize(n,e)},i}(o))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/resolvablePromise.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var s,t;return{setters:[function(e){s=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"66c37mAehhAkquC36PnXFlv","resolvablePromise",void 0);e("ResolvablePromise",function(){function e(){var e=this;this.promise=void 0,this._reject=void 0,this._resolve=void 0,this._isResolved=!1,this.promise=new Promise((function(s,t){e._reject=t,e._resolve=s})),this.promise.then((function(){e._isResolved=!0}))}return s(e,[{key:"reject",get:function(){return this._reject}},{key:"resolve",get:function(){return this._resolve}},{key:"isResolved",get:function(){return this._isResolved}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/responsive.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,n,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Widget,o=t.view,h=t.Component}],execute:function(){var r;e._RF.push({},"e8718VxEyNEj5+k+C2ZJX79","responsive",void 0);var g=s.ccclass;t("responsive",g("responsive")(r=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).widget=void 0,i}i(e,t);var s=e.prototype;return s.start=function(){this.widget=this.node.getComponent(n),this.setResponsivePosition()},s.setResponsivePosition=function(){var t=o.getCanvasSize(),i=o.getDesignResolutionSize(),e=t.width/t.height,s=i.width/i.height;if(!(Math.abs(e-s)<.01))if(e>s){var n=t.height/i.height,h=i.width*n,r=(t.width-h)/2/n;this.widget.isAlignLeft?this.widget.left-=r:this.widget.isAlignRight&&(this.widget.right-=r)}else if(e<s){var g=t.width/i.width,a=i.height*g,c=(t.height-a)/2/g;this.widget.isAlignTop?this.widget.top-=c:this.widget.isAlignBottom&&(this.widget.bottom-=c)}},s.update=function(t){},e}(h))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/roundTypes.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"de090H+QX1ONrwYzm92iH96","roundTypes",void 0);e("RoundTypes",function(e){return e.Normal="normal",e.FreeSpin="freeSpin",e.Bonus="bonus",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/signal.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"fe63cqpRstHh5tpe3Iywr5J","signal",void 0);e("Signal",function(){function e(e){this.listenerMap=new Map,this.name=e}var n=e.prototype;return n.dispatch=function(e){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent(this.name,{detail:e}))},n.addListener=function(e){if("undefined"!=typeof window){var n=function(n){return e(n.detail)};this.listenerMap.set(e,n),window.addEventListener(this.name,n)}},n.removeListener=function(e){if("undefined"!=typeof window){var n=this.listenerMap.get(e);n&&(window.removeEventListener(this.name,n),this.listenerMap.delete(e))}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SpAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,a,s,o,l,p,u,m,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,r=t.inheritsLoose,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,o=t._decorator,l=t.CCInteger,p=t.SpriteFrame,u=t.Vec2,m=t.UITransform,h=t.Sprite}],execute:function(){var c,y,f,d,b,A,_,g,z,w,v,F,S,x,N,O,P,E,I,k,L,D,C,M,R,T,j,Q,Z,B,H;s._RF.push({},"95384Qa21tObZet5aQ4LeZw","SpAnimator",void 0);var U=o.ccclass,V=o.property,X=o.executeInEditMode,Y=o.menu,q=o.disallowMultiple,G=o.executionOrder,J=t("anm",(c=U("anm"),y=V({type:l,displayOrder:0,displayName:"Start Frame"}),f=V({type:l,displayOrder:0,displayName:"End Frame"}),d=V({type:l,min:1,displayOrder:1,displayName:"Num Tiles X"}),b=V({type:l,min:1,displayOrder:1,displayName:"Num Tiles Y"}),A=V({min:.001,displayName:"Frame time"}),_=V({type:p}),g=V({displayName:"Loop Play"}),c((v=e((w=function(){i(this,"start",v,this),i(this,"end",F,this),i(this,"x",S,this),i(this,"y",x,this),i(this,"frame",N,this),i(this,"sp",O,this),i(this,"loop",P,this)}).prototype,"start",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=e(w.prototype,"end",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),S=e(w.prototype,"x",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=e(w.prototype,"y",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=e(w.prototype,"frame",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),O=e(w.prototype,"sp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"loop",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=w))||z));t("SpAnimator",(E=U("Sprite Sheet Animator"),I=Y("2D/Sprite Sheet Animator"),k=q(!0),L=G(109),D=V({type:J}),C=V({type:l,serializable:!0,override:!0}),M=V({serializable:!0,visible:!1}),R=V({serializable:!0,visible:!1}),E(T=I(T=k(T=L(T=X((Q=e((j=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"anms",Q,n(e)),i(e,"_currentAnm",Z,n(e)),i(e,"playOnLoad",B,n(e)),i(e,"_editorPlaying",H,n(e)),e.anmFrame=.05,e.startFrame=0,e.endFrame=10,e.frame=0,e._offset=0,e._size=new u,e}r(e,t);var s=e.prototype;return s.onEnable=function(){t.prototype.onEnable.call(this),this.trim=!0,this.setAnmSize(0),this._offset=0,(this.playOnLoad||this.playInEditor)&&this.playNewAnm()},s.play=function(){this.schedule(this.playAnm,this.anmFrame)},s.stop=function(){this.unschedule(this.playAnm)},s.playAnm=function(){if(this.frame>this.endFrame){if(!this.anms[this._currentAnm].loop)return void this.stop();this.frame=this.startFrame}this.updateRect(this.frame),this.frame++},s.playNewAnm=function(){this.stop(),this.setAnmSize(this._currentAnm)},s.setAnmSize=function(t){var e=this.anms[t];return e?e.sp?e.end<e.start?(this.stop(),void console.error("animation_"+t+" end frame should be greater than start frame")):(this.startFrame=this.frame=e.start,this.endFrame=e.end,this.anmFrame=e.frame,this.spriteFrame!=e.sp&&(this.spriteFrame=e.sp),e.sp.packable=!1,this._size.x=e.sp.texture.width/e.x,this._size.y=e.sp.texture.height/e.y,this.node.getComponent(m).setContentSize(this._size.x,this._size.y),this.playAnm(),void this.play()):(this.stop(),void console.error("animation_"+t+" has not spriteframe")):(this.stop(),void console.error("animation_"+t+" not exist"))},s.updateRect=function(t){var e=this.anms[this._currentAnm];if(e&&e.sp){var i=e.x,r=e.sp.rect,n=this._size.x,a=this._size.y,s=r.clone();s.x=r.x+this._offset+t%i*n,s.y=r.y+Math.floor(t/i)*a,s.width=n,s.height=a;var o=e.sp.clone();o.packable=!1,o.rect=s,this.spriteFrame=o}},a(e,[{key:"defaultAnm",get:function(){return this._currentAnm},set:function(t){this._currentAnm=t,this.setAnmSize(t),this._editorPlaying&&this.playNewAnm()}},{key:"playInEditor",get:function(){return this._editorPlaying},set:function(t){this._editorPlaying=t,this._editorPlaying?this.playNewAnm():this.stop()}},{key:"Anmimation",get:function(){return this._currentAnm},set:function(t){this._currentAnm=t,this.playNewAnm()}},{key:"duration",get:function(){var t=this.anms[this._currentAnm];return t.frame*(t.end-t.start)}}]),e}(h)).prototype,"anms",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(j.prototype,"defaultAnm",[C],Object.getOwnPropertyDescriptor(j.prototype,"defaultAnm"),j.prototype),Z=e(j.prototype,"_currentAnm",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=e(j.prototype,"playOnLoad",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(j.prototype,"playInEditor",[V],Object.getOwnPropertyDescriptor(j.prototype,"playInEditor"),j.prototype),H=e(j.prototype,"_editorPlaying",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=j))||T)||T)||T)||T)||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/specialSymbols.ts",["cc","./godFeatureTypes.ts"],(function(e){var l,i;return{setters:[function(e){l=e.cclegacy},function(e){i=e.GodFeatureTypes}],execute:function(){var p,t,o;l._RF.push({},"ce9f7KuGcRE95PKLrzkW9RR","specialSymbols",void 0);var r=e("SpecialSymbolTypes",function(e){return e.Wild="wild",e.Multiplier="multiplier",e}({}));e("godTypeToSpecialSymbolType",((p={})[i.Athena]=r.Multiplier,p[i.Ares]=r.Wild,p)),e("specialSymbolTypeToGodType",((t={})[r.Multiplier]=i.Athena,t[r.Wild]=i.Ares,t)),e("specialSymbolTypeToId",((o={})[r.Wild]=10,o[r.Multiplier]=11,o)),e("specialSymbolIdToType",{10:r.Wild,11:r.Multiplier});l._RF.pop()}}}));

System.register("chunks:///_virtual/symbolAnimationData.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"df8e7penc1JhYzPVWR4yVv0","symbolAnimationData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/symbolModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./godFeatureTypes.ts","./array.ts","./commonAnimations.ts","./specialSymbols.ts"],(function(e){var i,t,l,r,o,n,s,a,u,c,p,d,h,m,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){n=e.cclegacy,s=e._decorator,a=e.CCInteger,u=e.CCBoolean,c=e.Label,p=e.Component},function(e){d=e.godFeatureTypeToId},function(e){h=e.shuffle},function(e){m=e.scaleFadeAnimation},function(e){b=e.specialSymbolTypeToId}],execute:function(){var y,f,g,v,M,w,C,S,_,L,V,P,T;n._RF.push({},"85896j+8HZJA5h+wQF73U+s","symbolModel",void 0);var I=s.ccclass,F=s.property;e("SymbolModel",(y=I("SymbolModel"),f=F(a),g=F(u),v=F(u),M=F(u),w=F(u),y((_=i((S=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return i=e.call.apply(e,[this].concat(o))||this,l(i,"_value",_,r(i)),l(i,"_isGodSymbol",L,r(i)),l(i,"hasTriggered",V,r(i)),l(i,"isCoinCompleted",P,r(i)),l(i,"canPlayParticles",T,r(i)),i.symbolContainer=void 0,i.symbolPosition=void 0,i.multiplierLbl=void 0,i.drawMultiplierValueWeights={1.5:200,2:100,2.5:20,5:5},i.drawMultiplierValues=[],i}t(i,e);var n=i.prototype;return n.onLoad=function(){this.generateValuesLists()},n.generateValuesLists=function(){for(var e=Object.keys(this.drawMultiplierValueWeights).map((function(e){return Number(e)})),i=0;i<e.length;i++)for(var t=e[i],l=0;l<this.drawMultiplierValueWeights[t];l++)this.drawMultiplierValues.push(t);this.drawMultiplierValues=h(this.drawMultiplierValues)},n.getRandomMultiplier=function(){return this.drawMultiplierValues[Math.floor(Math.random()*this.drawMultiplierValues.length)]},n.setSymbol=function(e){var i;this._value=e.symbolValue,this._isGodSymbol=Object.values(d).includes(e.symbolValue),this.symbolPosition={colId:e.columnId,rowId:-1},this.multiplierLbl=null!=(i=this.getComponentInChildren(c))?i:void 0,this._value===b.multiplier&&(this.multiplier=this.getRandomMultiplier())},n.playMultiplierAnimation=function(e){void 0!==this.multiplierLbl&&m(this.multiplierLbl.node,e)},n.onReturnToPool=function(){this.reset()},n.onAddToPlayField=function(){this.reset()},n.reset=function(){this.hasTriggered=!1,this.isCoinCompleted=!1,this.canPlayParticles=!1},o(i,[{key:"value",get:function(){return this._value}},{key:"isGodSymbol",get:function(){return this._isGodSymbol}},{key:"multiplier",get:function(){var e,i=(null==(e=this.multiplierLbl)||null==(e=e.string)?void 0:e.replace("X",""))||"1";return parseFloat(i)||1},set:function(e){this.multiplierLbl&&(this.multiplierLbl.string="X"+e.toFixed(2))}},{key:"symbolId",get:function(){return this.value.toString()+"_"+this.symbolId.toString()+"_"+this.isGodSymbol.toString()}}]),i}(p)).prototype,"_value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(S.prototype,"_isGodSymbol",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(S.prototype,"hasTriggered",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=i(S.prototype,"isCoinCompleted",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=i(S.prototype,"canPlayParticles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=S))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/symbolNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolModel.ts","./eventSignals.ts","./coinComponent.ts","./roundTypes.ts"],(function(i){var n,o,e,t,s,l,d,u,a,m,r,c;return{setters:[function(i){n=i.inheritsLoose,o=i.assertThisInitialized},function(i){e=i.cclegacy,t=i._decorator,s=i.instantiate,l=i.AnimationComponent,d=i.Node},function(i){u=i.SymbolModel},function(i){a=i.animateGodSymbolSignal,m=i.freeSpinsMultiplyWinlinesSignal},function(i){r=i.CoinComponent},function(i){c=i.RoundTypes}],execute:function(){var y;e._RF.push({},"f0a13DJ1NNETaPzaKYEPeiU","symbolNode",void 0);var b=t.ccclass;i("SymbolNode",b("SymbolNode")(y=function(i){function e(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(n=i.call.apply(i,[this].concat(t))||this).symbolModel=n.addComponent(u),n.symbolView=void 0,n.coinObject=void 0,n.columnId=void 0,n.symbolId=void 0,n.isInBonusReel=void 0,n.animateGodSymbolHandlerBind=n.animateGodSymbolHandler.bind(o(n)),n.freeSpinsMultiplyWinlinesBind=n.freeSpinsMultiplyWinlinesHandler.bind(o(n)),n}n(e,i);var t=e.prototype;return t.init=function(i,n,o){this.symbolId=i,this.columnId=n,this.name=o?"bonusSymbolContainer_"+this.symbolId:"symbolContainer_"+this.symbolId,this.isInBonusReel=null!=o&&o,this.symbolModel.symbolContainer=this},t.subscribeEvents=function(){a.addListener(this.animateGodSymbolHandlerBind),m.addListener(this.freeSpinsMultiplyWinlinesBind)},t.unsubscribeEvents=function(){a.removeListener(this.animateGodSymbolHandlerBind),m.removeListener(this.freeSpinsMultiplyWinlinesBind)},t.addSymbol=function(i,n,o,e){this.addChild(i),this.symbolView=i,this.symbolModel.setSymbol({symbolValue:n,columnId:this.columnId}),o&&this.addCoin(o,{roundType:null==e?void 0:e.roundType,jackpotValue:null==e?void 0:e.jackpotValue}),this.subscribeEvents()},t.addCoin=function(i,n){var o,e=s(i);(this.addChild(e),this.coinObject=e.getComponent(r),this.coinObject&&(null==n?void 0:n.roundType)===c.FreeSpin)&&(this.coinObject.jackpotValue=.01*(null!=(o=null==n?void 0:n.jackpotValue)?o:0))},t.removeCoin=function(i){if(this.coinObject){var n;if(i)null==(n=this.coinObject)||n.destroyCoin();this.coinObject=void 0}},t.removeSymbol=function(i){var n;void 0!==i&&(this.symbolModel.setSymbol({symbolValue:0,columnId:this.columnId}),this.removeChild(i),i.destroy(),i.uuid===(null==(n=this.symbolView)?void 0:n.uuid)&&this.unsubscribeEvents(),this.resetGodSymbols());this.symbolView=void 0,this.removeCoin(!0)},t.animateGodSymbolHandler=function(i){if(this.isInBonusReel&&i.colId===this.columnId&&this.symbolModel.isGodSymbol){var n,o=null==(n=this.symbolView)?void 0:n.getComponent(l);o&&o.play()}},t.resetGodSymbols=function(){if(this.isInBonusReel&&this.symbolModel.isGodSymbol){var i,n=null==(i=this.symbolView)?void 0:i.getComponent(l);if(n){n.stop();var o=n.defaultClip;if(o)n.getState(o.name).time=0}}},t.freeSpinsMultiplyWinlinesHandler=function(){this.isInBonusReel&&this.symbolModel.playMultiplierAnimation(this.symbolView)},e}(d))||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/symbolPosition.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ef8bbYpq/tIEpTEe8Cb0fxK","symbolPosition",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/symbols.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"54b0c4i7zVGbrdkEtNPFAeW","symbols",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/toggleUpdater.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,l,g,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,g=e.Toggle,a=e.Component}],execute:function(){var s,c,d,u,p,h;i._RF.push({},"f9a2dVgpd1MvZs+tqjy/MOL","toggleUpdater",void 0);var f=l.ccclass,v=l.property,y=l.requireComponent;e("ToggleUpdater",(s=f("ToggleUpdater"),c=y(g),d=v([g]),s(u=c((h=t((p=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"disableToggles",h,r(t)),t.currentToggle=void 0,t.toggleChangedBind=t.toggleChangedHandler.bind(r(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){var e;this.currentToggle=this.getComponent(g),null==(e=this.currentToggle)||null==(e=e.node)||e.on("toggle",this.toggleChangedBind)},i.onDestroy=function(){var e;null==(e=this.currentToggle)||null==(e=e.node)||e.off("toggle",this.toggleChangedBind)},i.toggleChangedHandler=function(e){this.disableToggles.forEach((function(t){e.isChecked&&t.isChecked&&(t.isChecked=!1)}))},t}(a)).prototype,"disableToggles",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=p))||u)||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/tumbleAlpha.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventSignals.ts"],(function(t){var e,n,i,r,o,s,a,l,u,p,c,h,d,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.CCFloat,l=t.CCInteger,u=t.Sprite,p=t.Color,c=t.tween,h=t.Component},function(t){d=t.startRoundSignal,b=t.increaseTumbleCountSignal,f=t.setRoundTypeSignal}],execute:function(){var m,g,v,y,C,R,T,w,A;o._RF.push({},"faa01fWVExEILfOpb3FMzy3","tumbleAlpha",void 0);var B=s.ccclass,L=s.property;t("tumbleAlpha",(m=B("tumbleAlpha"),g=L(a),v=L(a),y=L(l),m((T=e((R=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).bonusModel=null,i(e,"startAlpha",T,r(e)),i(e,"tweenDuration",w,r(e)),i(e,"moveSteps",A,r(e)),e.sprite=void 0,e.progress=0,e.startRoundBind=e.startRoundHandler.bind(r(e)),e.increaseTumbleCountBind=e.increaseTumbleCountHandler.bind(r(e)),e.setRoundTypeBind=e.setRoundTypeHandler.bind(r(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){d.addListener(this.startRoundBind),b.addListener(this.increaseTumbleCountBind),f.addListener(this.setRoundTypeBind)},o.onDestroy=function(){d.removeListener(this.startRoundBind),b.removeListener(this.increaseTumbleCountBind),f.removeListener(this.setRoundTypeBind)},o.start=function(){this.sprite=this.node.getComponent(u),this.sprite.color=new p(this.sprite.color.r,this.sprite.color.g,this.sprite.color.b,this.startAlpha)},o.reset=function(){this.progress=0,this.increaseTumbleCountHandler(0)},o.startRoundHandler=function(){this.reset()},o.increaseTumbleCountHandler=function(t){var e=this;if(this.sprite&&this.progress!==this.moveSteps){this.progress+=t;var n=(1-this.startAlpha)*(this.progress/this.moveSteps),i=Math.min(255,Math.max(0,255*(this.startAlpha+n))),r=this.sprite.color,o={alpha:this.sprite.color.a};c(o).to(this.tweenDuration,{alpha:i},{easing:"cubicOut",onUpdate:function(t){e.sprite.color=new p(r.r,r.g,r.b,t.alpha)},onComplete:function(t){e.sprite.color=new p(r.r,r.g,r.b,t.alpha)}}).start()}},o.setRoundTypeHandler=function(){var t;null!=(t=this.bonusModel)&&t.isBonusAvailable||this.reset()},e}(h)).prototype,"startAlpha",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=e(R.prototype,"tweenDuration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),A=e(R.prototype,"moveSteps",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),C=R))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/tumbleSymbolData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"dcd19006fRDZqcAD/YvAV5p","tumbleSymbolData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uniqueId.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t("getUniqueId",(function(){var t=Date.now().toString(36),n=Math.random().toString(36).substring(2,8);return t+"_"+n})),n._RF.push({},"e1dfd+5JWlJEbnro0ohvQhr","uniqueId",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/view.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1b1b3g80hdOtJ4gHPbUyHqh","view",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/wait.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("wait",(function(t){return new Promise((function(e){return setTimeout(e,t)}))})),e._RF.push({},"c74c4UV86JKNK8Wbyt4wlDE","wait",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/winData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"74217YGISpFm5dNClbVHKZl","winData",void 0),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});