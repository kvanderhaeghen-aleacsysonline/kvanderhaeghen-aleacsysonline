System.register("chunks:///_virtual/array.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r({flatMap:function(r,t){var a;return(a=Array.prototype).concat.apply(a,r.map(t))},shuffle:function(r){var t,a=r.length;for(;0!=a;){t=Math.floor(Math.random()*a),a--;var n=[r[t],r[a]];r[a]=n[0],r[t]=n[1]}return r}}),t._RF.push({},"d1a7033C2tJcL1WLgrADQ5P","array",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/arrayUtils.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("flatten",(function(t){return t.reduce((function(t,e){return t.concat(e)}),[])})),e._RF.push({},"2eb41OkBtFEN6gDz7fhG8ge","arrayUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/bonusItemModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bonusTypes.ts","./gameClasses.ts","./coinComponent.ts"],(function(e){var t,i,n,o,r,l,u,a,s,c,p,f,y,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,u=e._decorator,a=e.Enum,s=e.Label,c=e.instantiate,p=e.Component},function(e){f=e.BonusItemTypes,y=e.BonusModifierTypes},function(e){m=e.JackpotCoins},function(e){b=e.CoinComponent}],execute:function(){var d,h,v,C,T,g,k,L,M,F,V;l._RF.push({},"fe478HbBWxHc6X8xFFVtLeh","bonusItemModel",void 0);var j=u.ccclass,x=u.property;e("BonusItemModel",(d=j("BonusItemModel"),h=x({type:a(f)}),v=x({type:a(y),visible:function(){return this.itemType===f.Modifier}}),C=x({type:[m],visible:function(){return this.itemType===f.Jackpot}}),T=x({type:s,visible:function(){return this.itemType===f.Cash||this.modifierType===y.Multiplier||this.modifierType===y.CoinCollector}}),d((L=t((k=function(e){function t(){for(var t,i,r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return i=e.call.apply(e,[this].concat(l))||this,n(i,"itemType",L,o(i)),n(i,"modifierType",M,o(i)),n(i,"jackpotCoins",F,o(i)),n(i,"valueLabel",V,o(i)),i.coinComponent=void 0,i.initFromType=((t={})[f.None]=function(){},t[f.Cash]=function(e){i.cashValue=e.cashValue},t[f.Modifier]=function(e){e.modifierType===y.Multiplier&&(i.multiplierValue=e.multiplierValue)},t[f.Jackpot]=function(e){var t=i.jackpotCoins.find((function(t){return t.type===e.jackpotType})),n=c(t.prefab);n.setParent(i.node),i.coinComponent=n.getComponent(b)},t),i}i(t,e);var l=t.prototype;return l.init=function(e){this.initFromType[this.itemType](e)},l.reset=function(){var e;null==(e=this.coinComponent)||e.destroyCoin(),this.coinComponent=void 0},r(t,[{key:"cashValue",get:function(){var e,t;return 100*(null!=(e=Number(null==(t=this.valueLabel)?void 0:t.string.replace("€","")))?e:0)},set:function(e){this.valueLabel.string="€"+e.toFixed(2)}},{key:"multiplierValue",get:function(){var e,t;return 100*(null!=(e=Number(null==(t=this.valueLabel)?void 0:t.string.replace("X","")))?e:0)},set:function(e){this.valueLabel.string="X"+e.toFixed(2)}},{key:"coinCollectorValue",set:function(e){this.valueLabel.string="€"+e.toFixed(2)}},{key:"jackpotType",get:function(){var e;return null==(e=this.coinComponent)?void 0:e.jackpotType}}]),t}(p)).prototype,"itemType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.None}}),M=t(k.prototype,"modifierType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),F=t(k.prototype,"jackpotCoins",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(k.prototype,"valueLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=k))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/bonusModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameClasses.ts","./array.ts","./bonusTypes.ts","./jackpotTypes.ts"],(function(e){var t,r,i,s,a,o,n,u,l,h,c,p,d,f,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,n=e._decorator,u=e.CCFloat,l=e.CCBoolean,h=e.Component},function(e){c=e.BonusItem},function(e){p=e.shuffle},function(e){d=e.BonusItemTypes,f=e.BonusModifierTypes},function(e){w=e.JackpotTypes}],execute:function(){var g,b,m,y,k,M,v,V,C,W,I,J,z,j,L,P,T;o._RF.push({},"b82a4iZloJKLqOR7Jpki0/Y","bonusModel",void 0);var B=n.ccclass,Y=n.property;e("BonusModel",(g=B("BonusModel"),b=Y([c]),m=Y(u),y=Y(u),k=Y(u),M=Y(u),v=Y(u),V=Y(l),g((I=t((W=function(e){function t(){for(var t,r,a,o,n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return o=e.call.apply(e,[this].concat(u))||this,i(o,"bonusItems",I,s(o)),i(o,"startPosY",J,s(o)),i(o,"endPosY",z,s(o)),i(o,"stopPosY",j,s(o)),i(o,"rollSpeed",L,s(o)),i(o,"rollTensionSpeed",P,s(o)),i(o,"reverse",T,s(o)),o.drawItemWeights=((t={})[d.None]=200,t[d.Cash]=30,t[d.Jackpot]=8,t[d.Modifier]=8,t),o.drawModifierWeights=((r={})[f.CoinCollector]=10,r[f.Multiplier]=10,r),o.drawJackpotWeights=((a={})[w.Unreal]=30,a[w.Divine]=30,a[w.Heroic]=15,a[w.Warlord]=15,a[w.Athena]=5,a[w.Ares]=5,a[w.Godlike]=1,a),o.drawItems=[],o.drawModifiers=[],o.drawJackpots=[],o.drawCashValueWeights={.5:200,1:100,1.5:40,2:20,2.5:10,3:5,5:3,10:2,20:1},o.drawMultiplierValueWeights={1.5:200,2:100,2.5:50,3:25,4:20,6:10,8:5,10:3,15:2,20:1},o.drawCashValues=[],o.drawMultiplierValues=[],o}r(t,e);var o=t.prototype;return o.onLoad=function(){this.generateItemsLists(),this.generateValuesLists()},o.generateItemsLists=function(){for(var e=Object.keys(this.drawItemWeights),t=0;t<e.length;t++)for(var r=e[t],i=0;i<this.drawItemWeights[r];i++)this.drawItems.push(r);this.drawItems=p(this.drawItems);for(var s=Object.keys(this.drawModifierWeights),a=0;a<s.length;a++)for(var o=s[a],n=0;n<this.drawModifierWeights[o];n++)this.drawModifiers.push(o);this.drawModifiers=p(this.drawModifiers);for(var u=Object.keys(this.drawJackpotWeights),l=0;l<u.length;l++)for(var h=u[l],c=0;c<this.drawJackpotWeights[h];c++)this.drawJackpots.push(h);this.drawJackpots=p(this.drawJackpots)},o.generateValuesLists=function(){for(var e=Object.keys(this.drawCashValueWeights).map((function(e){return Number(e)})),t=0;t<e.length;t++)for(var r=e[t],i=0;i<this.drawCashValueWeights[r];i++)this.drawCashValues.push(r);this.drawCashValues=p(this.drawCashValues);for(var s=Object.keys(this.drawMultiplierValueWeights).map((function(e){return Number(e)})),a=0;a<s.length;a++)for(var o=s[a],n=0;n<this.drawMultiplierValueWeights[o];n++)this.drawMultiplierValues.push(o);this.drawMultiplierValues=p(this.drawMultiplierValues)},a(t,[{key:"items",get:function(){return this.drawItems}},{key:"modifiers",get:function(){return this.drawModifiers}},{key:"jackpots",get:function(){return this.drawJackpots}},{key:"cashValues",get:function(){return this.drawCashValues}},{key:"multiplierValues",get:function(){return this.drawMultiplierValues}}]),t}(h)).prototype,"bonusItems",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(W.prototype,"startPosY",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(W.prototype,"endPosY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),j=t(W.prototype,"stopPosY",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=t(W.prototype,"rollSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=t(W.prototype,"rollTensionSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=t(W.prototype,"reverse",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=W))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/bonusRollComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelStatus.ts","./bonusTypes.ts","./jackpotTypes.ts","./bonusItemModel.ts","./events.ts","./gameplayModel.ts","./roundTypes.ts","./bonusModel.ts","./hudModel.ts"],(function(e){var t,o,n,s,i,l,r,u,a,d,c,h,p,f,m,M,b,v,y,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,r=e.instantiate,u=e.Component},function(e){a=e.ReelStatus},function(e){d=e.BonusItemTypes,c=e.BonusModifierTypes},function(e){h=e.JackpotTypes},function(e){p=e.BonusItemModel},function(e){f=e.bonusStartRollSignal,m=e.bonusStopRollSignal,M=e.bonusResetSignal},function(e){b=e.GameplayModel},function(e){v=e.RoundTypes},function(e){y=e.BonusModel},function(e){I=e.HudModel}],execute:function(){var R,g,T,S,C,k,w,B,L;i._RF.push({},"d0dfeuRJ4ZFaZPbXsp2u13T","bonusRollComponent",void 0);var P=l.ccclass,Y=l.property;e("BonusRollComponent",(R=P("BonusRollComponent"),g=Y(b),T=Y(I),S=Y(y),R((w=t((k=function(e){function t(){for(var t,o,i,l,r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return l=e.call.apply(e,[this].concat(u))||this,n(l,"gameplayModel",w,s(l)),n(l,"hudModel",B,s(l)),n(l,"bonusModel",L,s(l)),l.status=a.Stopped,l.itemsList=((t={})[d.None]=null,t[d.Cash]=null,t[d.Modifier]=null,t[d.Jackpot]=null,t[c.Multiplier]=null,t[c.CoinCollector]=null,t),l.activeItem=void 0,l.showEndResult=!1,l.currentSpeed=0,l.bonusStartRollBind=l.bonusStartRollHandler.bind(s(l)),l.bonusStopRollBind=l.bonusStopRollHandler.bind(s(l)),l.bonusResetBind=l.bonusResetHandler.bind(s(l)),l.createInstanceFromType=((o={})[d.None]=function(){return l.createInstance(d.None)},o[d.Cash]=function(){return l.createInstance(d.Cash)},o[d.Modifier]=function(e){return l.createInstance(d.Modifier,e)},o[d.Jackpot]=function(){return l.createInstance(d.Jackpot)},o),l.setInstanceFromType=((i={})[d.None]=function(){var e;return l.setInstance(null==(e=l.itemsList)?void 0:e[d.None],{})},i[d.Cash]=function(){var e,t=Math.floor(Math.random()*l.bonusModel.cashValues.length),o=l.bonusModel.cashValues[t]*l.hudModel.stake;return l.setInstance(null==(e=l.itemsList)?void 0:e[d.Cash],{cashValue:o})},i[d.Modifier]=function(){var e,t=l.drawModifier(),o=void 0;if(t===c.Multiplier){var n=Math.floor(Math.random()*l.bonusModel.multiplierValues.length);o=l.bonusModel.multiplierValues[n]}return l.setInstance(null==(e=l.itemsList)?void 0:e[t],{modifierType:t,multiplierValue:o})},i[d.Jackpot]=function(){var e,t=l.drawJackpot();return l.setInstance(null==(e=l.itemsList)?void 0:e[d.Jackpot],{jackpotType:t})},i),l}o(t,e);var i=t.prototype;return i.getHasTension=function(e){return e.itemType===d.Jackpot?e.jackpotType===h.Godlike:e.itemType===d.Modifier&&e.modifierType===c.CoinCollector},i.onLoad=function(){f.addListener(this.bonusStartRollBind),m.addListener(this.bonusStopRollBind),M.addListener(this.bonusResetBind)},i.onDestroy=function(){f.removeListener(this.bonusStartRollBind),m.removeListener(this.bonusStopRollBind),M.removeListener(this.bonusResetBind)},i.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(b),this.bonusModel=this.node.scene.getComponentInChildren(y),this.hudModel=this.node.scene.getComponentInChildren(I),this.createItems()},i.createItems=function(){for(var e=[d.None,d.Cash,c.Multiplier,c.CoinCollector,d.Jackpot],t=[c.Multiplier,c.CoinCollector],o=0;o<e.length;o++){var n=e[o];if(t.includes(n)){var s=n;this.itemsList[s]=this.createInstanceFromType[d.Modifier](s)}else this.itemsList[n]=this.createInstanceFromType[n]()}},i.bonusStartRollHandler=function(){var e,t;(null==(e=this.gameplayModel)?void 0:e.roundType)===v.Bonus&&[d.None,void 0].includes(null==(t=this.activeItem)?void 0:t.itemType)&&(this.status=a.Rolling,this.activeItem=this.drawItem(d.None),this.showEndResult=!1)},i.bonusStopRollHandler=function(){var e;(null==(e=this.gameplayModel)?void 0:e.roundType)===v.Bonus&&(console.error("Bonus stop roll handler"),this.showEndResult=!0)},i.bonusResetHandler=function(){this.status=a.Stopped,this.showEndResult=!1,this.activeItem=void 0},i.drawItem=function(e){var t=this.bonusModel.items.filter((function(t){return t!==e})),o=t[Math.floor(Math.random()*t.length)],n=this.setInstanceFromType[o]();return this.setSpeed(n),n},i.setSpeed=function(e){this.currentSpeed=this.getHasTension(e)?this.bonusModel.rollTensionSpeed:this.bonusModel.rollSpeed},i.drawModifier=function(){var e=Math.floor(Math.random()*this.bonusModel.modifiers.length);return this.bonusModel.modifiers[e]},i.drawJackpot=function(){var e=Math.floor(Math.random()*this.bonusModel.jackpots.length);return this.bonusModel.jackpots[e]},i.createInstance=function(e,t){var o=this.bonusModel.bonusItems.find((function(o){return o.itemType===e&&o.modifierType===t})),n=r(o.prefab);return n.setParent(this.node),n.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY,n.active=!1,n},i.setInstance=function(e,t){if(e){e.active=!0,e.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY;var o=e.getComponent(p);return o.init({modifierType:t.modifierType,cashValue:t.cashValue,jackpotType:t.jackpotType,multiplierValue:t.multiplierValue}),o}console.warn("Instance is undefined",t)},i.resetItem=function(){this.activeItem&&(this.activeItem.reset(),this.activeItem.node.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY,this.activeItem.node.active=!1)},i.update=function(e){if(this.status===a.Rolling||this.status===a.Stopping){var t=this.currentSpeed*e,o=this.activeItem.node;o.y+=this.bonusModel.reverse?t:-t;var n=this.bonusModel.reverse?o.y>=this.bonusModel.startPosY:o.y<=this.bonusModel.endPosY;return this.showEndResult&&this.status===a.Stopping&&o.y>=this.bonusModel.stopPosY?(o.y=this.bonusModel.stopPosY,void(this.status=a.Stopped)):n?(o.y=this.bonusModel.reverse?this.bonusModel.endPosY:this.bonusModel.startPosY,this.resetItem(),this.activeItem=this.drawItem(this.showEndResult?void 0:d.None),void(this.status=this.showEndResult?a.Stopping:a.Rolling)):void 0}},t}(u)).prototype,"gameplayModel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"hudModel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"bonusModel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/bonusTypes.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"ea6b19tYbpF+J9PO7abyWyY","bonusTypes",void 0);e("BonusItemTypes",function(e){return e.None="none",e.Cash="cash",e.Modifier="modifier",e.Jackpot="jackpot",e}({})),e("BonusModifierTypes",function(e){return e.Multiplier="multiplier",e.CoinCollector="coinCollector",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/coinComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./coinData.ts","./jackpotTypes.ts","./curveTween.ts","./events.ts","./godFeatureTypes.ts"],(function(e){var t,i,n,o,r,c,s,a,p,u,y,l,h,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Enum,a=e.Vec2,p=e.Component},function(e){u=e.CoinTypes},function(e){y=e.JackpotTypes},function(e){l=e.moveInCurve},function(e){h=e.moveCoinCompleteSignal},function(e){T=e.GodFeatureTypes}],execute:function(){var f,d,v,C,g,m,b,D,w;r._RF.push({},"505c1C3h3NB/ZASWd+MFuVk","coinComponent",void 0);var k=c.ccclass,P=c.property;e("CoinComponent",(f=k("CoinComponent"),d=P({type:s(u)}),v=P({type:s(y),visible:function(){return this.coinType===u.Jackpot}}),C=P({type:s(T),visible:function(){return this.coinType===u.God}}),f((b=t((m=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"coinType",b,o(t)),n(t,"jackpotType",D,o(t)),n(t,"featureType",w,o(t)),t.coinTargetPosition=new a(0,0),t.coinTargetScale=new a(1,1),t.coinDuration=.5,t.coinCurveWidth=200,t.coinCurveHeight=100,t.isDestroyed=!1,t}i(t,e);var r=t.prototype;return r.moveCoinToPosition=function(e){var t=this;this.node.setParent(e.parent,!0),this.coinTargetPosition=new a(e.position.x,e.position.y),this.coinTargetScale=new a(.5*e.scale.x,.5*e.scale.y),l(this.node,this.coinTargetPosition,this.coinTargetScale,this.coinDuration,"cubicIn",this.coinCurveWidth,this.coinCurveHeight,(function(){h.dispatch({coinData:{coinType:t.coinType,valueType:t.coinType===u.God?t.featureType:t.jackpotType}}),t.destroyCoin()}))},r.destroyCoin=function(){this.isDestroyed||(this.isDestroyed=!0,this.node.destroy(),this.destroy())},t}(p)).prototype,"coinType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.God}}),D=t(m.prototype,"jackpotType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=t(m.prototype,"featureType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/coinData.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"54c99b5fodFlqIy0xvwsM0D","coinData",void 0);t("CoinTypes",function(t){return t.God="god",t.Jackpot="jackpot",t}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/curveTween.ts",["cc"],(function(e){var n,s,t;return{setters:[function(e){n=e.cclegacy,s=e.Vec2,t=e.tween}],execute:function(){function o(e,n,t,o){var r=1-o,i=o*o,c=r*r;return new s(c*e.x+2*r*o*n.x+i*t.x,c*e.y+2*r*o*n.y+i*t.y)}e({getQuadraticBezierPoint:o,moveInCurve:function(e,n,r,i,c,u,a,p){var y=new s(e.position.x,e.position.y),x=new s(e.scale.x,e.scale.y),g=new s((y.x+n.x)/2+u,(y.y+n.y)/2+a),v={progress:0};t(v).to(i,{progress:1},{easing:c,onUpdate:function(){var s=o(y,g,n,v.progress);e.setPosition(s.x,s.y,0),e.setScale(x.x+(r.x-x.x)*v.progress,x.y+(r.y-x.y)*v.progress)},onComplete:p}).start()},moveInCurveWithCubicOutIn:function(e,n,r,i,c,u,a){var p=new s(e.position.x,e.position.y),y=new s(e.scale.x,e.scale.y),x=new s((p.x+n.x)/2+c,(p.y+n.y)/2+u),g={progress:0},v=function(){var s=o(p,x,n,g.progress);e.setPosition(s.x,s.y,0),e.setScale(y.x+(r.x-y.x)*g.progress,y.y+(r.y-y.y)*g.progress)};t(g).to(i/2,{progress:.5},{easing:"cubicOut",onUpdate:v}).to(i/2,{progress:1},{easing:"cubicIn",onUpdate:v}).call((function(){null==a||a()})).start()}}),n._RF.push({},"235005okqFGz63fYfQpGut+","curveTween",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/dropdownMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./signal.ts"],(function(n){var t,e,i,o,r,a,u,l,s,c,p,f,h,d,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.createForOfIteratorHelperLoose},function(n){a=n.cclegacy,u=n._decorator,l=n.Button,s=n.Node,c=n.Label,p=n.Prefab,f=n.Component,h=n.instantiate,d=n.UITransform},function(n){g=n.Signal}],execute:function(){var m,b,v,B,C,y,O,M,S,L,w;a._RF.push({},"9633cCijdBCn4kulYNKKq5y","dropdownMenu",void 0);var P=u.ccclass,_=u.property;u.menu,u.executeInEditMode,n("default",(m=P("DropdownMenu"),b=_(l),v=_(s),B=_(c),C=_(p),m((M=t((O=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"mainButton",M,o(t)),i(t,"menuContainer",S,o(t)),i(t,"mainButtonLabel",L,o(t)),i(t,"optionButtonPrefab",w,o(t)),t._isOpen=!1,t.optionButtons=[],t.onOptionSelectedSignal=new g("onOptionSelectedSignal"),t}e(t,n);var a=t.prototype;return a.onLoad=function(){this.menuContainer.active=this._isOpen,this.mainButton.node.on("click",this.toggleMenu,this)},a.populateMenu=function(n,t){var e=this;void 0===t&&(t="Default"),this.clearMenu();for(var i,o=n.length>0?n:[t],r=function(){var n=o[a];if(!e.optionButtonPrefab)return console.error("Option Button Prefab is not assigned in DropdownMenu."),{v:void 0};var t=h(e.optionButtonPrefab),i=t.getComponent(d);t.setPosition(0,a*i.contentSize.height,0),e.menuContainer.addChild(t);var r=t.getComponent(l),u=t.getComponentInChildren(c);u&&(u.string=n),r&&(e.optionButtons.push(r),r.node.on("click",(function(){e.onOptionSelected(n)}),e))},a=0;a<o.length;a++)if(i=r())return i.v;o.length>0&&this.mainButtonLabel&&(this.mainButtonLabel.string=o[0],this.onOptionSelectedSignal.dispatch(o[0]))},a.clearMenu=function(){this.menuContainer.removeAllChildren();for(var n,t=r(this.optionButtons);!(n=t()).done;){n.value.node.targetOff(this)}this.optionButtons=[]},a.toggleMenu=function(){this._isOpen=!this._isOpen,this.menuContainer.active=this._isOpen},a.onOptionSelected=function(n){this.mainButtonLabel&&(this.mainButtonLabel.string=n),this.onOptionSelectedSignal.dispatch(n),this.toggleMenu()},a.onDestroy=function(){var n;null==(n=this.mainButton)||null==(n=n.node)||n.off("click",this.toggleMenu,this)},t}(f)).prototype,"mainButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(O.prototype,"menuContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(O.prototype,"mainButtonLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(O.prototype,"optionButtonPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=O))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/DropdownMenuCreator.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"577e88ZoNJBhqHp/LlIx+ZV","DropdownMenuCreator",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/events.ts",["cc","./signal.ts"],(function(e){var n,l;return{setters:[function(e){n=e.cclegacy},function(e){l=e.Signal}],execute:function(){n._RF.push({},"43d8eZb3YxHcJAbExBM7+/y","events",void 0);e("playfieldLoadedSignal",new l("PlayfieldLoadedSignal")),e("startRoundSignal",new l("StartRoundSignal")),e("spinReelSignal",new l("SpinReelSignal")),e("stopReelSignal",new l("StopReelSignal")),e("showReelResultSignal",new l("ShowReelResultSignal")),e("setReelSignal",new l("SetReelSignal")),e("setReelsSignal",new l("SetReelsSignal")),e("setReelsUpdateSignal",new l("SetReelsUpdateSignal")),e("changeReelSpinDirectionSignal",new l("ChangeReelSpinDirectionSignal")),e("popSymbolsSingal",new l("PopSymbolsSignal")),e("tumbleSymbolsSignal",new l("TumbleSymbolsSignal")),e("godFeatureSignal",new l("GodFeatureSignal")),e("animateGodSymbolSignal",new l("AnimateGodSymbolSignal")),e("moveCoinSignal",new l("MoveCoinSignal")),e("moveCoinCompleteSignal",new l("MoveCoinCompleteSignal")),e("setRoundTypeSignal",new l("SetRoundTypeSignal")),e("bonusStartRollSignal",new l("BonusStartRollSignal")),e("bonusStopRollSignal",new l("BonusStopRollSignal")),e("bonusResetSignal",new l("BonusResetSignal")),e("bonusActivateModifierSignal",new l("BonusActivateModifierSignal"));n._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./randomizer.ts","./events.ts","./playfieldComponent.ts","./reelsData.ts"],(function(e){var n,o,l,t,i,a,r,s,d,p,f,c,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.Component},function(e){s=e.PlayfieldModel},function(e){d=e.generateRandomSymbols},function(e){p=e.playfieldLoadedSignal,f=e.setReelsSignal},function(e){c=e.PlayfieldComponent},function(e){u=e.bonusReelsData}],execute:function(){var y,m,h,b,g,v,S;i._RF.push({},"aed12wnk8BJH6gaIRGaeo9o","game",void 0);var C=a.ccclass,L=a.property;e("GameComponent",(y=C("GameComponent"),m=L(c),h=L(s),y((v=n((g=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,l(n,"playfieldComponent",v,t(n)),l(n,"playfieldModel",S,t(n)),n.playfieldLoadedHandlerBind=n.playfieldLoadedHandler.bind(t(n)),n}o(n,e);var i=n.prototype;return i.onLoad=function(){p.addListener(this.playfieldLoadedHandlerBind)},i.onDestroy=function(){p.removeListener(this.playfieldLoadedHandlerBind)},i.playfieldLoadedHandler=function(){this.playfieldComponent=this.node.scene.getComponentInChildren(c),this.playfieldModel=this.playfieldComponent.playfieldModel,this.setStartSymbols(),this.setStartGodSymbols()},i.setStartSymbols=function(){var e=d();this.playfieldModel.reels.forEach((function(n,o){n.reelModel.result=e[o]})),f.dispatch({symbols:e})},i.setStartGodSymbols=function(){for(var e=[],n=u.playFieldDimensions.columns,o=u.playFieldDimensions.rows,l=0;l<n;l++){for(var t=o[l],i=[],a=0;a<t.total;a++)i.push({value:0});e.push(i.reverse())}this.playfieldModel.godReels.forEach((function(n,o){n.reelModel.result=e[o]})),f.dispatch({symbols:e,isGodReels:!0})},n}(r)).prototype,"playfieldComponent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(g.prototype,"playfieldModel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/gameClasses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./godFeatureTypes.ts","./jackpotTypes.ts","./bonusTypes.ts","./roundTypes.ts"],(function(e){var t,i,n,r,o,u,l,a,p,s,c,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e._decorator,o=e.Enum,u=e.Prefab,l=e.Node},function(e){a=e.GodFeatureTypes},function(e){p=e.JackpotTypes},function(e){s=e.BonusItemTypes,c=e.BonusModifierTypes},function(e){y=e.RoundTypes}],execute:function(){var f,b,h,d,m,g,T,z,w,v,N,k,C,F,J,R,B,P,G,I,_,x,D,M,j,E,O,S,V,q,H,L,X,Z,A,K,Q,U,W,Y,$,ee,te,ie,ne;n._RF.push({},"2922ffGmExIrqZRXxOSJO5s","gameClasses",void 0);var re=r.ccclass,oe=r.property;e("GodCoins",(f=re("GodCoins"),b=oe({type:o(a)}),h=oe(u),f((g=t((m=function(){i(this,"type",g,this),i(this,"prefab",T,this)}).prototype,"type",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(m.prototype,"prefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d)),e("JackpotCoins",(z=re("JackpotCoins"),w=oe({type:o(p)}),v=oe(u),z((C=t((k=function(){i(this,"type",C,this),i(this,"prefab",F,this)}).prototype,"type",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"prefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=k))||N)),e("FeatureNode",(J=re("FeatureNode"),R=oe({type:o(a)}),B=oe(l),J((I=t((G=function(){i(this,"type",I,this),i(this,"node",_,this)}).prototype,"type",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(G.prototype,"node",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=G))||P)),e("JackpotNode",(x=re("JackpotNode"),D=oe({type:o(p)}),M=oe(l),x((O=t((E=function(){i(this,"type",O,this),i(this,"node",S,this)}).prototype,"type",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(E.prototype,"node",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=E))||j)),e("BonusItem",(V=re("BonusItem"),q=oe({type:o(s)}),H=oe({type:o(c),visible:function(){return this.itemType===s.Modifier}}),L=oe({type:u}),V((A=t((Z=function(){i(this,"itemType",A,this),i(this,"modifierType",K,this),i(this,"prefab",Q,this)}).prototype,"itemType",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.None}}),K=t(Z.prototype,"modifierType",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Q=t(Z.prototype,"prefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Z))||X)),e("ValueTypeNumber",re("ValueTypeNumber")(U=function(){this.value=void 0,this.type=void 0})||U),e("RoundPlayfield",(W=re("RoundPlayfield"),Y=oe({type:o(y)}),$=oe(l),W((ie=t((te=function(){i(this,"type",ie,this),i(this,"target",ne,this)}).prototype,"type",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Normal}}),ne=t(te.prototype,"target",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=te))||ee));n._RF.pop()}}}));

System.register("chunks:///_virtual/gameData.ts",["cc","./godFeatureTypes.ts"],(function(e){var n,i;return{setters:[function(e){n=e.cclegacy},function(e){i=e.GodFeatureTypes}],execute:function(){var t;n._RF.push({},"27a31UMRTRDlZbohVoiUp35","gameData",void 0);e("gameData",{specialSymbolValues:{wild:6,athena:7,ares:8},bonus:{tumbleCount:6},godTypePerColumn:[i.Athena,i.Athena,i.Athena,void 0,i.Ares,i.Ares,i.Ares],coinburst:{thresholds:{normal:{multiplier:5},big:{multiplier:20},super:{multiplier:50},mega:{multiplier:100}}},symbolCount:{normal:6,special:2,total:8},tension:{count:{bonus:2,wild:4}},gods:{maxBonusValue:40,transforms:(t={},t[i.Ares]={pot:{begin:136,end:289},coins:{hidden:86,begin:113,end:148}},t[i.Athena]={pot:{begin:150,end:286},coins:{hidden:60,begin:79,end:109}},t)},timings:{pre:{fast:100,winline:600,loop:600},winlines:{normal:{lineSpeed:3e3,perSymbol:75,perWinline:1e3},fast:{lineSpeed:5e3,perSymbol:40,perWinline:600},sound:{perWinline:400}}}});n._RF.pop()}}}));

System.register("chunks:///_virtual/gameInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./godFeatureTypes.ts","./gameplayModel.ts","./events.ts","./roundTypes.ts"],(function(e){var n,o,t,a,l,i,r,d,p,u,s,y,c,g,f,m,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,r=e.input,d=e.Input,p=e.KeyCode,u=e.Component},function(e){s=e.PlayfieldModel},function(e){y=e.GodFeatureTypes},function(e){c=e.GameplayModel},function(e){g=e.setRoundTypeSignal,f=e.bonusStartRollSignal,m=e.bonusStopRollSignal},function(e){M=e.RoundTypes}],execute:function(){var h,C,T,_,b,k,v;l._RF.push({},"34a09f3Bx9LKoQ9+ObUDAgE","gameInput",void 0);var E=i.ccclass,I=i.property;e("GameInput",(h=E("GameInput"),C=I(s),T=I(c),h((k=n((b=function(e){function n(){for(var n,o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return n=e.call.apply(e,[this].concat(l))||this,t(n,"playfieldModel",k,a(n)),t(n,"gameplayModel",v,a(n)),n}o(n,e);var l=n.prototype;return l.onLoad=function(){var e=this;r.on(d.EventType.KEY_UP,(function(n){if(n.keyCode===p.SPACE&&e.gameplayModel.startRound(e.playfieldModel),n.keyCode===p.KEY_R&&e.gameplayModel.changeReelSpinDirection(),n.keyCode===p.NUM_1&&(e.gameplayModel.increaseBackgroundIndex(),e.gameplayModel.updateTextures()),n.keyCode===p.NUM_2&&(e.gameplayModel.increaseGridIndex(),e.gameplayModel.updateTextures()),n.keyCode===p.KEY_B&&e.gameplayModel.bonusFeatureTrigger(y.Ares),n.keyCode===p.KEY_N&&e.gameplayModel.bonusFeatureTrigger(y.Athena),n.keyCode===p.KEY_J){var o=e.gameplayModel.roundType===M.Bonus?M.Normal:M.Bonus;g.dispatch({roundType:o})}n.keyCode===p.KEY_K&&f.dispatch(),n.keyCode===p.KEY_L&&m.dispatch()}))},l.start=function(){this.playfieldModel=this.node.scene.getComponentInChildren(s),this.gameplayModel=this.node.scene.getComponentInChildren(c)},n}(u)).prototype,"playfieldModel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(b.prototype,"gameplayModel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=b))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/gameMechanics.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"757934qbdRKz6VcZN4Xkxh+","gameMechanics",void 0);e("gameMechanics",{stakes:[25,50,75,100,200,500,1e3]});c._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayCalculations.ts",["cc","./coinData.ts","./gameData.ts","./godFeatureTypes.ts"],(function(e){var o,a,l,t,n;return{setters:[function(e){o=e.cclegacy},function(e){a=e.CoinTypes},function(e){l=e.gameData},function(e){t=e.godFeatureTypeToId,n=e.idToGodFeatureType}],execute:function(){e({addGodCoinsToCoinsResult:function(e,o){for(var r=o.reelsData.playFieldDimensions.columns,i=0;i<r;i++){for(var p,d=s({columnId:i,godValue:null!=(p=t[l.godTypePerColumn[i]])?p:0,reelsData:o.reelsData}),c=u({jackpotTypePerColumn:o.jackpotTGodTypePerColumn,reelsData:o.reelsData}),v=[],f=0;f<o.reelsData.playFieldDimensions.rows[i].total;f++){var h,m=d[f].value,y=e[i][f];if(m>0&&o.hasGodInReels[i])v.push({coinType:a.God,valueType:n[m]});else if(void 0!==(null==y?void 0:y.coinType)&&(null==(h=c[i][f])?void 0:h.coinType)!==a.Jackpot||!o.hasGodInReels[i])v.push(y);else{var T=c[i][f];v.push({coinType:T.coinType,valueType:T.valueType})}}e[i]=v}return e},drawGodsInReels:function(e,o,a){for(var l=[],t=a?10:12,n=0;n<e;n++)if(o.includes(n))l.push(!1);else{var r=Math.floor(100*Math.random());l.push(t>r)}return l},generateGodReelResult:r,generateGodReelsResult:function(e){for(var o=[],a=0;a<e.reelsData.playFieldDimensions.columns;a++){var l,t,n;o.push(r({columnId:a,godValue:null!=(l=e.godValuePerColumn[a])?l:0,reelsData:e.reelsData,hasGodColumn:!!e.hasGodInReels&&(null!=(t=null==(n=e.hasGodInReels)?void 0:n[a])&&t),isEndResult:e.isEndResult}))}return o},generateGodResult:s,generateJackpotCoinsResult:u,updateGodReelsResult:function(e,o){for(var a=0;a<e.length;a++)if(o.hasGodInReels[a]){for(var l=e[a],t=Math.floor(Math.random()*l.length),n=l[t],r=[],s=0;s<l.length;s++)r.push(n);e[a]=r}return e}}),o._RF.push({},"bb4f1E83lhGIYtA/FVPrOqi","gameplayCalculations",void 0);function r(e){var o=e.reelsData.playFieldDimensions.rows[e.columnId];if(e.isEndResult){for(var a=[],l=.5*(o.total-o.visible),t=0;t<o.total;t++)a.push({value:t===l&&e.hasGodColumn?e.godValue:0});return a.reverse()}var n=2*o.visible,r=Math.floor(Math.random()*n);return Array.from({length:o.total}).map((function(o,a){return{value:a===r?e.godValue:0}}))}function s(e){for(var o=e.reelsData.playFieldDimensions.rows[e.columnId],a=[],l=Math.floor((o.total-o.visible)/2),t=l+o.visible,n=Array.from({length:o.total}).map((function(e,o){var a=Math.floor(100*Math.random());return o>=l&&o<t&&20>a?1:0})),r=0;r<o.total;r++)a.push({value:n[r]>0?e.godValue:0});return a}function u(e){for(var o=[],l=e.reelsData.playFieldDimensions.columns,t=function(){for(var l=e.reelsData.playFieldDimensions.rows[n],t=Math.floor((l.total-l.visible)/2),r=t+l.visible,s=Array.from({length:l.total}).map((function(e,o){var a=Math.floor(100*Math.random());return o>=t&&o<r&&12>a?1:0})),u=[],i=0;i<l.total;i++){var p=s[i]>0;if(e.jackpotTypePerColumn||e.jackpotTypes){var d,c,v,f,h=Math.floor(Math.random()*(null!=(d=null!=(c=null==(v=e.jackpotTypes)?void 0:v.length)?c:null==(f=e.jackpotTypePerColumn)?void 0:f.length)?d:0)),m=e.jackpotTypePerColumn?e.jackpotTypePerColumn[n]:e.jackpotTypes[h];u.push({coinType:p?a.Jackpot:void 0,valueType:p?m:void 0})}else console.error("No jackpot types or jackpot type per column")}o.push(u)},n=0;n<l;n++)t();return o}o._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(a){var t,e,n,r;return{setters:[function(a){t=a.inheritsLoose},function(a){e=a.cclegacy,n=a._decorator,r=a.Component}],execute:function(){var c;e._RF.push({},"bbf4eui7iNI0IqN92qkjJbs","gameplayData",void 0);var o=n.ccclass;a("GameplayData",o("GameplayData")(c=function(a){function e(){return a.apply(this,arguments)||this}return t(e,a),e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./events.ts","./playfieldUpdate.ts","./godFeatureTypes.ts","./gameData.ts","./hudComponent.ts","./hudModel.ts","./coinData.ts","./roundTypes.ts","./gameClasses.ts"],(function(e){var n,t,r,i,o,a,u,s,l,d,c,p,h,f,g,b,m,y,v,C,T,k,R,S,M,w,x;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,l=e.CCBoolean,d=e.Sprite,c=e.SpriteFrame,p=e.CCFloat,h=e.randomRangeInt,f=e.Component},function(e){g=e.moveCoinCompleteSignal,b=e.setRoundTypeSignal,m=e.changeReelSpinDirectionSignal,y=e.godFeatureSignal,v=e.bonusResetSignal},function(e){C=e.playfieldUpdate},function(e){T=e.GodFeatureTypes},function(e){k=e.gameData},function(e){R=e.HudComponent},function(e){S=e.HudModel},function(e){M=e.CoinTypes},function(e){w=e.RoundTypes},function(e){x=e.RoundPlayfield}],execute:function(){var B,z,F,I,D,H,L,G,A,V,P,_,N,U,j,E,J,K,O,Z,q,Q,W,X,Y;u._RF.push({},"3a7c15rI05KTZ1Npv1COlVJ","gameplayModel",void 0);var $=s.ccclass,ee=s.property;e("GameplayModel",(B=$("GameplayModel"),z=ee(R),F=ee(S),I=ee([x]),D=ee(l),H=ee(l),L=ee(d),G=ee([c]),A=ee(d),V=ee([c]),P=ee([p]),_=ee(p),B((j=n((U=function(e){function n(){for(var n,t,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return t=e.call.apply(e,[this].concat(a))||this,r(t,"hudComponent",j,i(t)),r(t,"hudModel",E,i(t)),r(t,"playfields",J,i(t)),r(t,"canStartRound",K,i(t)),r(t,"reverse",O,i(t)),r(t,"background",Z,i(t)),r(t,"backgrounds",q,i(t)),t.backgroundIndex=0,r(t,"grid",Q,i(t)),r(t,"grids",W,i(t)),t.gridIndex=0,r(t,"stakes",X,i(t)),r(t,"startBalance",Y,i(t)),t.roundType=w.Normal,t.normalizedBonusFeatureValues=((n={})[T.Ares]=0,n[T.Athena]=0,n),t.showingCoins=!1,t.onMoveCoinCompleteBind=t.onMoveCoinCompleteHandler.bind(i(t)),t.onSetRoundTypeBind=t.onSetRoundTypeHandler.bind(i(t)),t}t(n,e);var u=n.prototype;return u.onLoad=function(){g.addListener(this.onMoveCoinCompleteBind),b.addListener(this.onSetRoundTypeBind)},u.onDestroy=function(){g.removeListener(this.onMoveCoinCompleteBind),b.removeListener(this.onSetRoundTypeBind)},u.start=function(){this.hudComponent=this.node.scene.getComponentInChildren(R),this.hudModel=this.hudComponent.getComponent(S),this.hudModel.balance=this.startBalance,this.hudComponent.stakeMenu.populateMenu(this.stakes.map((function(e){return"€"+(.01*e).toFixed(2)}))),b.dispatch({roundType:w.Normal})},u.startRound=function(){var e=o(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hudModel.hasSufficientBalance){e.next=3;break}return window.alert("Balance too low! Please, change stake."),e.abrupt("return");case 3:if(this.canStartRound){e.next=6;break}return console.warn("Cannot start round"),e.abrupt("return");case 6:return this.canStartRound=!1,console.log("start round"),e.next=10,C(n,this.reverse);case 10:console.log("end round"),this.canStartRound=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.increaseBackgroundIndex=function(){this.backgroundIndex++,this.backgroundIndex%=this.backgrounds.length},u.increaseGridIndex=function(){this.gridIndex++,this.gridIndex%=this.grids.length},u.changeReelSpinDirection=function(){this.reverse=!this.reverse,m.dispatch({reverse:this.reverse})},u.updateTextures=function(){this.grid.spriteFrame=this.grids[this.gridIndex],this.background.spriteFrame=this.backgrounds[this.backgroundIndex]},u.bonusFeatureTrigger=function(e){var n=h(3,7);this.normalizedBonusFeatureValues[e]=Math.min(this.normalizedBonusFeatureValues[e]+n/k.gods.maxBonusValue,1),y.dispatch({feature:e,addAmount:n})},u.onMoveCoinCompleteHandler=function(e){e.coinData.coinType===M.God&&(y.dispatch({feature:e.coinData.valueType,addAmount:1}),this.bonusFeatureTrigger(e.coinData.valueType))},u.onSetRoundTypeHandler=function(e){var n=this;this.roundType=e.roundType,this.playfields.forEach((function(e){e.type===n.roundType?e.target.active=!0:e.target.active=!1})),v.dispatch()},n}(f)).prototype,"hudComponent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(U.prototype,"hudModel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(U.prototype,"playfields",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=n(U.prototype,"canStartRound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=n(U.prototype,"reverse",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=n(U.prototype,"background",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(U.prototype,"backgrounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(U.prototype,"grid",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(U.prototype,"grids",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(U.prototype,"stakes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=n(U.prototype,"startBalance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),N=U))||N));u._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./events.ts","./godFeatureTypes.ts","./gameData.ts","./godFeatureModel.ts"],(function(e){var t,o,n,i,r,a,s,u,d,l,p,c,g,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,u=e.Enum,d=e.tween,l=e.Vec3,p=e.Component},function(e){c=e.godFeatureSignal},function(e){g=e.GodFeatureTypes},function(e){f=e.gameData},function(e){h=e.GodFeatureModel}],execute:function(){var m,F,y,b,v,N,M,w,T,x,C;r._RF.push({},"8c755u0wCNA1qRD7awVP9ec","godFeatureComponent",void 0);var D=a.ccclass,P=a.property;e("GodFeatureComponent",(m=D("GodFeatureComponent"),F=P(h),y=P(s),b=P(s),v=P({type:u(g),visible:!0}),m((w=t((M=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"godFeatureModel",w,i(t)),n(t,"coinsNode",T,i(t)),n(t,"potNode",x,i(t)),n(t,"featureType",C,i(t)),t.godFeatureHandlerBind=t.godFeatureHandler.bind(i(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){c.addListener(this.godFeatureHandlerBind),this.godFeatureModel=this.node.addComponent(h),this.godFeatureModel.featureType=this.featureType,this.godFeatureModel.maxAmount=f.gods.maxBonusValue},r.onDestroy=function(){c.removeListener(this.godFeatureHandlerBind)},r.start=function(){this.reset()},r.godFeatureHandler=function(e){if(e.feature===this.featureType){var t=f.gods.transforms[this.featureType],o=e.addAmount/this.godFeatureModel.maxAmount;this.godFeatureModel.amountPercentage+=o;var n=.6;if(this.godFeatureModel.amountPercentage<=n){var i=t.pot.begin+(t.pot.end-t.pot.begin)*(this.godFeatureModel.amountPercentage/n);d(this.potNode).to(.25,{position:new l(this.potNode.position.x,i,0)},{easing:"quintOut"}).start()}else{var r=t.coins.begin+(t.coins.end-t.coins.begin)*((this.godFeatureModel.amountPercentage-n)/.4);d(this.coinsNode).to(.25,{position:new l(this.coinsNode.position.x,r,0)},{easing:"quintOut"}).start()}}},r.reset=function(){var e=f.gods.transforms[this.featureType];this.coinsNode.position.set(this.coinsNode.position.x,e.coins.hidden),this.potNode.position.set(this.potNode.position.x,e.pot.begin)},t}(p)).prototype,"godFeatureModel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"coinsNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"potNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"featureType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),N=M))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,r=e.Component}],execute:function(){o._RF.push({},"1c715wqnMhH5YhVG37XfDp9","godFeatureModel",void 0);e("GodFeatureModel",function(e){function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).featureType=void 0,t.amountPercentage=0,t.maxAmount=1,t}return t(o,e),n(o,[{key:"amount",get:function(){return this.amountPercentage*this.maxAmount}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureTypes.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;t._RF.push({},"070caJ+dBRAh7/IQ/gSPxUi","godFeatureTypes",void 0);var a=e("GodFeatureTypes",function(e){return e.Athena="athena",e.Ares="ares",e}({}));e("godFeatureTypeToId",((r={})[a.Athena]=7,r[a.Ares]=8,r)),e("idToGodFeatureType",{7:a.Athena,8:a.Ares});t._RF.pop()}}}));

System.register("chunks:///_virtual/gridMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,n,i,l,t,r,T;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,l=o.Mask,t=o.GraphicsComponent,r=o.Color,T=o.Component}],execute:function(){var s;n._RF.push({},"cd5a6fWYEFFCKNc+PNzLyMR","gridMask",void 0);var a=i.ccclass,c=i.menu,u=i.executeInEditMode;o("GridMask",a("GridMask")(s=c("UI/GridMask")(s=u(s=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var i=n.prototype;return i.start=function(){this.drawGraphicsMask()},i.drawGraphicsMask=function(){var o=this.getComponent(l).getComponent(t);o.clear(),o.lineWidth=2,o.strokeColor=r.WHITE,o.fillColor=r.WHITE,o.moveTo(-596,165),o.lineTo(-429,168),o.lineTo(-429,227),o.lineTo(-269,227),o.lineTo(-269,280),o.lineTo(-94,280),o.lineTo(-94,345),o.lineTo(-34,345),o.lineTo(10,305),o.lineTo(50,345),o.lineTo(99,345),o.lineTo(99,280),o.lineTo(273,280),o.lineTo(273,227),o.lineTo(435,227),o.lineTo(435,166),o.lineTo(600,166),o.lineTo(600,-201),o.lineTo(434,-201),o.lineTo(434,-262),o.lineTo(271,-262),o.lineTo(271,-317),o.lineTo(99,-317),o.lineTo(99,-379),o.lineTo(-94,-379),o.lineTo(-94,-317),o.lineTo(-269,-317),o.lineTo(-269,-262),o.lineTo(-429,-262),o.lineTo(-429,-201),o.lineTo(-596,-201),o.close(),o.fill(),o.stroke()},n}(T))||s)||s)||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/hudComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./hudModel.ts","./dropdownMenu.ts","./events.ts"],(function(e){var n,t,o,i,a,l,u,r,d,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,u=e.Label,r=e.Component},function(e){d=e.HudModel},function(e){c=e.default},function(e){s=e.startRoundSignal}],execute:function(){var h,p,f,b,S,M,y,k,m,v,g;a._RF.push({},"ab21ehty6tHerJyn3+FwlhT","hudComponent",void 0);var w=l.ccclass,L=l.property;e("HudComponent",(h=w("HudComponent"),p=L(d),f=L(c),b=L(u),S=L(u),h((k=n((y=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,o(n,"hudModel",k,i(n)),o(n,"stakeMenu",m,i(n)),o(n,"balanceValue",v,i(n)),o(n,"wonValue",g,i(n)),n.onRoundStartBind=n.onRoundStart.bind(i(n)),n.onStakeSelectedBind=n.onStakeSelected.bind(i(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.hudModel=this.addComponent(d),this.hudModel.balanceLabel=this.balanceValue,this.hudModel.wonLabel=this.wonValue,s.addListener(this.onRoundStartBind),this.stakeMenu.onOptionSelectedSignal.addListener(this.onStakeSelectedBind)},a.onDestroy=function(){var e;s.removeListener(this.onRoundStartBind),null==(e=this.stakeMenu)||null==(e=e.onOptionSelectedSignal)||e.removeListener(this.onStakeSelectedBind)},a.onRoundStart=function(){this.hudModel.hasSufficientBalance&&this.deductStake()},a.onStakeSelected=function(e){var n=e.replace("€",""),t=100*Number(n);this.hudModel.stake=t},a.deductStake=function(){var e=this.hudModel.balance,n=this.hudModel.stake;this.hudModel.balance=e-n},n}(r)).prototype,"hudModel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(y.prototype,"stakeMenu",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(y.prototype,"balanceValue",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(y.prototype,"wonValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=y))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/hudModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r,i,l,o,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){l=e.cclegacy,o=e._decorator,u=e.Label,c=e.CCFloat,s=e.Component}],execute:function(){var b,p,f,h,g,w,d,y,L;l._RF.push({},"39f45a2r3xBgr7YeTwI9mwG","hudModel",void 0);var m=o.ccclass,v=o.property;m("HudModel");e("HudModel",(b=v(u),p=v(u),f=v(c),h=v(c),w=t((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,a(t,"balanceLabel",w,r(t)),a(t,"wonLabel",d,r(t)),a(t,"wonValue",y,r(t)),a(t,"stake",L,r(t)),t}return n(t,e),i(t,[{key:"balance",get:function(){return 100*Number(this.balanceLabel.string.replace("€",""))},set:function(e){var t=.01*e;this.balanceLabel&&(this.balanceLabel.string="€"+t.toFixed(2))}},{key:"won",get:function(){return 100*Number(this.wonLabel.string.replace("€",""))},set:function(e){this.wonValue=e;var t=.01*e;this.wonLabel&&(this.wonLabel.string="€"+t.toFixed(2))}},{key:"hasSufficientBalance",get:function(){return this.balance-this.stake>=0}}]),t}(s)).prototype,"balanceLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(g.prototype,"wonLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(g.prototype,"wonValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(g.prototype,"stake",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g));l._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./events.ts","./jackpotTypes.ts","./jackpotModel.ts","./coinData.ts","./hudModel.ts"],(function(t){var o,e,a,n,i,l,p,c,r,u,s,k,d,h,j,M,f,b,m,y,C,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,p=t.Node,c=t.Enum,r=t.RichText,u=t.Toggle,s=t.CCFloat,k=t.instantiate,d=t.tween,h=t.Vec3,j=t.Sprite,M=t.Color,f=t.Component},function(t){b=t.moveCoinCompleteSignal},function(t){m=t.JackpotTypes},function(t){y=t.JackpotModel},function(t){C=t.CoinTypes},function(t){g=t.HudModel}],execute:function(){var V,v,T,w,J,z,L,B,x,D,S,H,_,F,R,E,I,P,A,N,U;i._RF.push({},"22ef1MM2EJJMrakJ6H1k64H","jackpotComponent",void 0);var q=l.ccclass,G=l.property;t("JackpotComponent",(V=q("JackpotComponent"),v=G(y),T=G(g),w=G(p),J=G({type:c(m)}),z=G(r),L=G([u]),B=G(s),x=G(s),D=G(s),V((_=o((H=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return o=t.call.apply(t,[this].concat(i))||this,a(o,"jackpotModel",_,n(o)),a(o,"hudModel",F,n(o)),a(o,"jackpotCoin",R,n(o)),a(o,"jackpotType",E,n(o)),a(o,"jackpotValueLabel",I,n(o)),a(o,"jackpotBonusToggles",P,n(o)),a(o,"jackpotStartValue",A,n(o)),a(o,"jackpotMaxValue",N,n(o)),a(o,"contributionMultiplier",U,n(o)),o.moveCoinCompleteBind=o.onMoveCoinCompleteHandler.bind(n(o)),o}e(o,t);var i=o.prototype;return i.onLoad=function(){b.addListener(this.moveCoinCompleteBind),this.jackpotModel=this.addComponent(y),this.jackpotModel.jackpotType=this.jackpotType,this.jackpotModel.jackpotMinValue=this.jackpotStartValue,this.jackpotModel.jackpotMaxValue=this.jackpotMaxValue,this.jackpotModel.contributionMultiplier=this.contributionMultiplier,this.jackpotModel.jackpotLabel=this.jackpotValueLabel,this.jackpotModel.jackpotValue=this.jackpotStartValue,this.jackpotModel.jackpotBonusToggles=this.jackpotBonusToggles},i.start=function(){this.hudModel=this.node.scene.getComponentInChildren(g)},i.onDestroy=function(){b.removeListener(this.moveCoinCompleteBind)},i.updateJackpot=function(t){this.jackpotModel.jackpotValue+=t*this.contributionMultiplier,this.jackpotModel.jackpotValue=Math.min(this.jackpotModel.jackpotValue,this.jackpotModel.jackpotMaxValue)},i.payoutJackpot=function(){this.hudModel.balance+=this.jackpotModel.jackpotValue,this.jackpotModel.reset()},i.onMoveCoinCompleteHandler=function(t){t.coinData.coinType===C.Jackpot&&t.coinData.valueType===this.jackpotType&&(this.animateJackpotCoin(),this.updateJackpot(this.hudModel.stake))},i.animateJackpotCoin=function(){var t=k(this.jackpotCoin);t.parent=this.node,d(t).to(.3,{scale:new h(3,3,1)},{onComplete:function(){t.destroy()}}).start();var o=t.getComponent(j),e=o.color,a={alpha:o.color.a};d(a).to(.25,{alpha:0},{easing:"linear",onUpdate:function(){o.color=new M(e.r,e.g,e.b,a.alpha)}}).start()},o}(f)).prototype,"jackpotModel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(H.prototype,"hudModel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=o(H.prototype,"jackpotCoin",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=o(H.prototype,"jackpotType",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I=o(H.prototype,"jackpotValueLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(H.prototype,"jackpotBonusToggles",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(H.prototype,"jackpotStartValue",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),N=o(H.prototype,"jackpotMaxValue",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e5}}),U=o(H.prototype,"contributionMultiplier",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),S=H))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,c;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){n=t.cclegacy,c=t.Component}],execute:function(){n._RF.push({},"de2acGns+9HKrULlGiSH+TJ","jackpotModel",void 0);t("JackpotModel",function(t){function n(){for(var e,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).jackpotLabel=void 0,e.jackpotType=void 0,e.jackpotMinValue=1e4,e.jackpotMaxValue=1e5,e.contributionMultiplier=1,e.jackpotBonusToggles=[],e}e(n,t);var c=n.prototype;return c.reset=function(){this.jackpotValue=this.jackpotMinValue},c.resetBonusJackpotToggles=function(){this.jackpotBonusToggles.forEach((function(t){t.isChecked=!1,t.node.active=!1}))},c.enableNextToggle=function(){for(var t=0;t<this.jackpotBonusToggles.length;t++){if(!this.jackpotBonusToggles[t].isChecked){this.jackpotBonusToggles[t].isChecked=!0;break}}},o(n,[{key:"totalBonusJackpotCount",get:function(){return this.jackpotBonusToggles.length}},{key:"activeBonusJackpotCount",get:function(){return this.jackpotBonusToggles.filter((function(t){return t.isChecked})).length}},{key:"hasAllTogglesChecked",get:function(){return this.jackpotBonusToggles.every((function(t){return t.isChecked}))}},{key:"activateBonusJackpotToggles",set:function(t){this.jackpotBonusToggles.forEach((function(e){e.node.active=t}))}},{key:"jackpotValue",get:function(){return 100*Number(this.jackpotLabel.string.replace("€",""))},set:function(t){var e=.01*t;this.jackpotLabel.string="€"+e.toFixed(2)}}]),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotTypes.ts",["cc","./godFeatureTypes.ts"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy},function(e){t=e.GodFeatureTypes}],execute:function(){var o;r._RF.push({},"5b5cbRhZZtKYKp5ZSo334le","jackpotTypes",void 0);var a=e("JackpotTypes",function(e){return e.Unreal="unreal",e.Divine="divine",e.Heroic="heroic",e.Warlord="warlord",e.Athena="athena",e.Ares="ares",e.Godlike="godlike",e}({}));e("jackpotIdToJackpotType",{0:a.Unreal,1:a.Divine,2:a.Heroic,3:a.Warlord,4:a.Athena,5:a.Ares,6:a.Godlike}),e("godToJackpotType",((o={})[t.Athena]=a.Athena,o[t.Ares]=a.Ares,o));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./DropdownMenuCreator.ts","./bonusItemModel.ts","./bonusModel.ts","./bonusRollComponent.ts","./coinComponent.ts","./coinData.ts","./godFeatureComponent.ts","./godFeatureModel.ts","./jackpotComponent.ts","./jackpotModel.ts","./game.ts","./gameInput.ts","./gameplayCalculations.ts","./gameplayData.ts","./gameplayModel.ts","./playfieldComponent.ts","./playfieldModel.ts","./playfieldUpdate.ts","./randomizer.ts","./reelAnimations.ts","./reelArgs.ts","./reelComponent.ts","./reelConfig.ts","./reelContext.ts","./reelModel.ts","./reelService.ts","./reelStatus.ts","./resize.ts","./responsive.ts","./symbolModel.ts","./symbolNode.ts","./symbolPosition.ts","./bonusTypes.ts","./gameClasses.ts","./gameData.ts","./gameMechanics.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./reelsData.ts","./roundTypes.ts","./specialSymbols.ts","./symbolAnimationData.ts","./symbols.ts","./tumbleSymbolData.ts","./winData.ts","./dropdownMenu.ts","./hudComponent.ts","./hudModel.ts","./playButton.ts","./array.ts","./arrayUtils.ts","./curveTween.ts","./events.ts","./gridMask.ts","./promise.ts","./resolvablePromise.ts","./signal.ts","./uniqueId.ts","./view.ts","./wait.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/playButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./gameplayModel.ts"],(function(e){var t,n,o,l,i,a,r,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.Component},function(e){p=e.PlayfieldModel},function(e){c=e.GameplayModel}],execute:function(){var u,s,d,y,f,h,g;i._RF.push({},"76c9aK+Be9CGYM5bigFfscp","playButton",void 0);var m=a.ccclass,M=a.property;e("PlayButtonComponent",(u=m("PlayButtonComponent"),s=M(p),d=M(c),u((h=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"playfieldModel",h,l(t)),o(t,"gameplayModel",g,l(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(c),this.playfieldModel=this.node.scene.getComponentInChildren(p)},i.onClick=function(){this.gameplayModel.startRound(this.playfieldModel)},t}(r)).prototype,"playfieldModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(f.prototype,"gameplayModel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./events.ts","./coinData.ts","./gameData.ts","./gameClasses.ts"],(function(e){var l,o,t,n,i,r,a,s,d,u,m,y,p,b,c,f,h,C,v,g,R,S,M;return{setters:[function(e){l=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,a=e._decorator,s=e.Prefab,d=e.Node,u=e.Label,m=e.instantiate,y=e.Component},function(e){p=e.PlayfieldModel},function(e){b=e.setReelSignal,c=e.setReelsSignal,f=e.startRoundSignal,h=e.playfieldLoadedSignal},function(e){C=e.CoinTypes},function(e){v=e.gameData},function(e){g=e.FeatureNode,R=e.JackpotNode,S=e.GodCoins,M=e.JackpotCoins}],execute:function(){var w,P,k,D,H,L,z,B,G,I,N,j,V,F,T,_,q,J,x,A,E,O,W,K,Q;r._RF.push({},"a5316/tumhGBr0qgDLqj8SV","playfieldComponent",void 0);var U=a.ccclass,X=a.property;e("PlayfieldComponent",(w=U("PlayfieldComponent"),P=X(p),k=X([s]),D=X(d),H=X([s]),L=X(s),z=X(d),B=X({type:[g]}),G=X({type:[R]}),I=X({type:[S]}),N=X({type:[M]}),j=X(u),w((T=l((F=function(e){function l(){for(var l,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return l=e.call.apply(e,[this].concat(i))||this,t(l,"playfieldModel",T,n(l)),t(l,"symbolPrefab",_,n(l)),t(l,"symbolColumns",q,n(l)),t(l,"godSymbolPerColumn",J,n(l)),t(l,"emptySymbolPerColumn",x,n(l)),t(l,"godColumns",A,n(l)),t(l,"featureCoinDrops",E,n(l)),t(l,"jackpotCoinDrops",O,n(l)),t(l,"godCoins",W,n(l)),t(l,"jackpotCoins",K,n(l)),t(l,"tumbleCountLbl",Q,n(l)),l.setReelHandlerBind=l.setReelHandler.bind(n(l)),l.setReelsHandlerBind=l.setReelsHandler.bind(n(l)),l.startRoundHandlerBind=l.startRoundHandler.bind(n(l)),l}o(l,e);var r=l.prototype;return r.onLoad=function(){this.playfieldModel=this.node.addComponent(p),this.playfieldModel.tumbleCountLbl=this.tumbleCountLbl;var e=this.godSymbolPerColumn.map((function(e){var l,o;return Number(null!=(l=null==(o=e.name.match(/symbol(\d+)_/))?void 0:o[1])?l:0)}));this.playfieldModel.createReels(this.symbolColumns,this.godColumns,e.map((function(e){return v.godTypePerColumn[e]})));for(var l=0;l<this.playfieldModel.reels.length;l++)this.playfieldModel.reels[l].setNewSymbolCallback=this.setNewSymbol.bind(this),this.playfieldModel.reels[l].clearSymbolCallback=this.clearSymbol.bind(this);for(var o=0;o<this.playfieldModel.godReels.length;o++)this.playfieldModel.godReels[o].setNewSymbolCallback=this.setNewGodSymbol.bind(this),this.playfieldModel.godReels[o].clearSymbolCallback=this.clearSymbol.bind(this);b.addListener(this.setReelHandlerBind),c.addListener(this.setReelsHandlerBind),f.addListener(this.startRoundHandlerBind);for(var t,n=i(this.featureCoinDrops);!(t=n()).done;){var r=t.value;this.playfieldModel.featureCoinDropPositions[r.type]=r.node}for(var a,s=i(this.jackpotCoinDrops);!(a=s()).done;){var d=a.value;this.playfieldModel.jackpotCoinDropPositions[d.type]=d.node}h.dispatch()},r.onDestroy=function(){b.removeListener(this.setReelHandlerBind),c.removeListener(this.setReelsHandlerBind),f.removeListener(this.startRoundHandlerBind);for(var e=0;e<this.playfieldModel.reels.length;e++)this.playfieldModel.reels[e].setNewSymbolCallback=void 0,this.playfieldModel.reels[e].clearSymbolCallback=void 0;for(var l=0;l<this.playfieldModel.godReels.length;l++)this.playfieldModel.godReels[l].setNewSymbolCallback=void 0,this.playfieldModel.godReels[l].clearSymbolCallback=void 0},r.setNewSymbol=function(e,l,o,t){var n,i;if(e.symbolView){var r=e.symbolView;e.removeSymbol(r)}var a=l-1,s=o?o.coinType===C.God?null==(n=this.godCoins.find((function(e){return e.type===o.valueType})))?void 0:n.prefab:null==(i=this.jackpotCoins.find((function(e){return e.type===o.valueType})))?void 0:i.prefab:void 0,d=m(this.symbolPrefab[a]);return e.addSymbol(d,l,s),Promise.resolve()},r.setNewGodSymbol=function(e,l,o,t){var n=this.playfieldModel.currentRowInGodReelResults[e.columnId];if(e.symbolView){var i=e.symbolView;e.removeSymbol(i)}var r=l;t||(r=this.playfieldModel.rollingGodReelResults[e.columnId].length>n?this.playfieldModel.rollingGodReelResults[e.columnId][n].value:0);var a=0===r?this.emptySymbolPerColumn:this.godSymbolPerColumn[e.columnId],s=m(a);return e.addSymbol(s,r),this.playfieldModel.currentRowInGodReelResults[e.columnId]++,Promise.resolve()},r.clearSymbol=function(e){e.children.forEach((function(l){e.removeSymbol(l)}))},r.setReelHandler=function(e){for(var l=[],o=0;o<e.symbolsColumn.length;o++){var t,n=e.symbolsColumn[o];null!=n&&null!=(t=n.meta)&&t.oldSymbolValue?l.push(n.meta.oldSymbolValue):l.push(e.symbolsColumn[o].value)}e.isGodReel?this.playfieldModel.godReels[e.columnId].setReel(l,e,!0):this.playfieldModel.reels[e.columnId].setReel(l,e,!0)},r.setReelsHandler=function(e){for(var l=0;l<e.symbols.length;l++){var o,t=e.symbols[l];b.dispatch({symbolsColumn:t,columnId:l,coinData:null==e||null==(o=e.coinsData)?void 0:o[l],isGodReel:e.isGodReels,comesFromMediator:e.comesFromMediator})}},r.startRoundHandler=function(){this.playfieldModel.createBonusSymbolsWhenRolling()},l}(y)).prototype,"playfieldModel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=l(F.prototype,"symbolPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=l(F.prototype,"symbolColumns",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=l(F.prototype,"godSymbolPerColumn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=l(F.prototype,"emptySymbolPerColumn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=l(F.prototype,"godColumns",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=l(F.prototype,"featureCoinDrops",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=l(F.prototype,"jackpotCoinDrops",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=l(F.prototype,"godCoins",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=l(F.prototype,"jackpotCoins",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=l(F.prototype,"tumbleCountLbl",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=F))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelService.ts","./reelStatus.ts","./reelsData.ts","./gameData.ts","./array.ts","./reelContext.ts","./events.ts","./gameplayCalculations.ts","./jackpotTypes.ts","./godFeatureTypes.ts"],(function(e){var t,l,n,s,o,r,i,u,a,c,d,h,f,y,b,g,m,p,R,v,S,M,k,w,D,C,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,r=e.createClass,i=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,d=e.Component},function(e){h=e.ReelService},function(e){f=e.ReelStatus},function(e){y=e.reelsData,b=e.bonusReelsData},function(e){g=e.gameData},function(e){m=e.flatMap},function(e){p=e.ReelContext},function(e){R=e.setReelsUpdateSignal,v=e.changeReelSpinDirectionSignal,S=e.stopReelSignal,M=e.setReelSignal},function(e){k=e.drawGodsInReels,w=e.generateGodReelResult},function(e){D=e.JackpotTypes},function(e){C=e.GodFeatureTypes,I=e.godFeatureTypeToId}],execute:function(){var V,B,G,F,H,T,A;a._RF.push({},"f6832m6lmBBCaY2XURVq4Vs","playfieldModel",void 0);var U=c.ccclass,L=c.property;e("PlayfieldModel",(V=U("PlayfieldModel"),B=L([h]),G=L([h]),V((T=t((H=function(e){function t(){for(var t,l,o,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return o=e.call.apply(e,[this].concat(i))||this,n(o,"reels",T,s(o)),n(o,"godReels",A,s(o)),o.tumbleCountLbl=null,o.featureCoinDropPositions=((t={})[C.Athena]=void 0,t[C.Ares]=void 0,t),o.jackpotCoinDropPositions=((l={})[D.Unreal]=void 0,l[D.Divine]=void 0,l[D.Heroic]=void 0,l[D.Warlord]=void 0,l[D.Athena]=void 0,l[D.Ares]=void 0,l[D.Godlike]=void 0,l),o.showGodInRollingReel=[],o.rollingGodReelResults=[],o.currentRowInGodReelResults=[],o.setReelsUpdateHandlerBind=o.setReelsUpdateHandler.bind(s(o)),o.changeReelSpinDirectionHandlerBind=o.changeReelSpinDirectionHandler.bind(s(o)),o}l(t,e);var a=t.prototype;return a.onLoad=function(){R.addListener(this.setReelsUpdateHandlerBind),v.addListener(this.changeReelSpinDirectionHandlerBind)},a.onDestroy=function(){R.removeListener(this.setReelsUpdateHandlerBind),v.removeListener(this.changeReelSpinDirectionHandlerBind)},a.setReelsUpdateHandler=function(e){var t=this;this.reels.forEach((function(l){l.shouldUpdate=e.enable,l.reelStopCallback=t.setReelResult.bind(t)})),this.godReels.forEach((function(l){l.shouldUpdate=e.enable,l.reelStopCallback=t.setGodReelResult.bind(t)}))},a.changeReelSpinDirectionHandler=function(e){this.reels.forEach((function(t){t.reverse=e.reverse})),this.godReels.forEach((function(t){t.reverse=e.reverse,t.isBonusReel=t.reelModel.isBonusReel,t.bonusValue=t.reelModel.bonusValue}))},a.isReversedReels=function(){return this.reels.every((function(e){return e.reverse}))},a.setReelResult=function(){var e=i(u().mark((function e(t,l){var n,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.dispatch({columnId:t,useTween:!0,reverse:this.reels[t].reverse}),n=this.reels[t].reelModel.result,s=this.reels[t].reelModel.resultCoins,M.dispatch({symbolsColumn:n,columnId:t,coinData:s,comesFromMediator:!0}),this.allReelsStopped&&this.reels.forEach((function(e){return e.shouldUpdate=!1}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,l){return e.apply(this,arguments)}}(),a.setGodReelResult=function(){var e=i(u().mark((function e(t,l){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.dispatch({columnId:t,useTween:!0,reverse:this.godReels[t].reverse,isGodReel:!0}),n=this.godReels[t].reelModel.result,M.dispatch({symbolsColumn:n,columnId:t,comesFromMediator:!0,isGodReel:!0}),this.allBonusReelsStopped&&this.godReels.forEach((function(e){return e.shouldUpdate=!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,l){return e.apply(this,arguments)}}(),a.hasWildInColumn=function(e){return this.reels[e].getVisibleSymbols(g.specialSymbolValues.wild).length>0},a.getIsWildSymbolInWin=function(e,t){return e.value===g.specialSymbolValues.wild&&t.filter((function(t){return e.symbolPosition.colId<=t.symbols.length-1})).length>0},a.createReels=function(e,t,l){for(var n=0;n<y.playFieldDimensions.columns;n++){this.reels.push(this.createReel({reelsData:y,columnId:n,columns:e}));var s=l[n];this.godReels.push(this.createReel({reelsData:b,columnId:n,columns:t,isGodReel:!0,godType:s}))}},a.createReel=function(e){var t=new p;return t.init(e),e.columns.addChild(t),t.service},a.reset=function(){this.reels.forEach((function(e){e.resetReel()})),this.godReels.forEach((function(e){e.resetReel()}))},a.setSymbols=function(e,t){for(var l=0;l<e.length;l++){var n=e[l];n.length>=y.playFieldDimensions.rows[l].visible&&(this.reels[l].reelModel.result=n,this.reels[l].reelModel.resultCoins=t[l])}},a.setGodSymbols=function(e){for(var t=0;t<e.length;t++){var l=e[t];l.length>=b.playFieldDimensions.rows[t].visible&&(this.godReels[t].reelModel.result=l)}},a.setResultOfReel=function(e,t){if(!(e.length<y.playFieldDimensions.rows[t].total))for(var l=0;l<e.length;l++)this.reels[t].reelModel.result[l]={value:e[l]}},a.setBonusResultOfReel=function(e,t){if(!(e.length<b.playFieldDimensions.rows[t].total))for(var l=0;l<e.length;l++)this.godReels[t].reelModel.result[l]={value:e[l]}},a.getSymbolIdsFromWinline=function(e){for(var t=0,l=[];t<e.length;){var n=e[t],s=this.getSymbolViewByPosition(t,n,!0);t++,s&&l.push(s.symbolModel.symbolId)}return l},a.getSymbolViewByPosition=function(e,t,l){if(void 0===l&&(l=!1),!(e>=this.reels.length||e<0)){var n=l?this.reels[e].reelModel.visibleSymbols:this.reels[e].reelModel.symbols;if(!(t>=n.length||t<0)){var s=n.find((function(e){return e.symbolModel.value===g.specialSymbolValues.wild}));return null!=s?s:n[t]}}},a.getSymbolViewBySymbolId=function(e){for(var t,l=this,n=[],s=function(){var e=t.value;l.reels.forEach((function(t){var l=t.reelModel.visibleSymbols.find((function(t){return t.symbolModel.symbolId===e}));l&&n.push(l)}))},r=o(e);!(t=r()).done;)s();return n},a.getSymbolContainerBySymbolId=function(e){for(var t,l=this,n=[],s=function(){var e=t.value;l.reels.forEach((function(t){var l=t.reelModel.visibleSymbols.find((function(t){return t.symbolModel.symbolId===e}));l&&n.push(l)}))},r=o(e);!(t=r()).done;)s();return n},a.resetRollingBonusReel=function(){this.currentRowInGodReelResults=Array(this.godReels.length).fill(0),this.rollingGodReelResults=[],this.showGodInRollingReel=[]},a.createBonusSymbolsWhenRolling=function(){this.resetRollingBonusReel();for(var e=k(this.godReels.length,[3]),t=0;t<e.length;t++){var l,n=e[t];this.showGodInRollingReel.push(n);var s=n&&null!=(l=I[g.godTypePerColumn[t]])?l:0,o=w({columnId:t,godValue:s,reelsData:b,hasGodColumn:n});this.rollingGodReelResults.push(o)}},r(t,[{key:"tumbleCount",get:function(){return Number(this.tumbleCountLbl.string)},set:function(e){this.tumbleCountLbl.string=e.toString()}},{key:"visibleResults",get:function(){return this.reels.map((function(e){return e.reelModel.visibleResult}))}},{key:"totalResults",get:function(){return this.reels.map((function(e){return e.reelModel.result}))}},{key:"visibleSymbolContainers",get:function(){return this.reels.map((function(e){return e.reelModel.visibleSymbols}))}},{key:"totalSybolContainers",get:function(){return this.reels.map((function(e){return e.reelModel.symbols}))}},{key:"tensionCount",get:function(){return this.reels.filter((function(e){return e.reelModel.hasTension})).length}},{key:"reelsRolling",get:function(){return this.reels.some((function(e){return e.reelModel.status===f.Rolling||e.reelModel.status===f.Started}))}},{key:"allReelsStopped",get:function(){return this.reels.every((function(e){return e.reelModel.status===f.Stopped}))}},{key:"allBonusReelsStopped",get:function(){return this.godReels.every((function(e){return e.reelModel.status===f.Stopped}))}},{key:"reelsStarted",get:function(){return this.reels.some((function(e){return e.reelModel.status===f.Started||e.reelModel.status===f.Rolling}))}},{key:"hasVisibleWildSymbols",get:function(){return this.visibleWildSymbols.length>0}},{key:"visibleWildSymbols",get:function(){return m(this.reels,(function(e){return e.getVisibleSymbols(g.specialSymbolValues.wild)}))}},{key:"hasWonGlobal",get:function(){for(var e=!0,t=0;t<this.reels.length;t++){if(this.reels[t].getVisibleSymbols(g.specialSymbolValues.wild).length<=0){e=!1;break}}return e}},{key:"hasVisibleAthenaSymbols",get:function(){return this.visibleAthenaSymbols.length>0}},{key:"visibleAthenaSymbols",get:function(){return m(this.reels,(function(e){return e.getVisibleSymbols(g.specialSymbolValues.athena)}))}},{key:"hasVisibleAresSymbols",get:function(){return this.visibleAresSymbols.length>0}},{key:"visibleAresSymbols",get:function(){return m(this.reels,(function(e){return e.getVisibleSymbols(g.specialSymbolValues.ares)}))}},{key:"visibleSymbols",get:function(){return m(this.reels,(function(e){return e.visibleSymbols}))}},{key:"invisibleSymbols",get:function(){return m(this.reels,(function(e){return e.invisibleSymbols}))}}]),t}(d)).prototype,"reels",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(H.prototype,"godReels",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=H))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./randomizer.ts","./events.ts","./wait.ts","./reelsData.ts","./gameData.ts","./gameplayCalculations.ts","./coinData.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./roundTypes.ts"],(function(e){var n,t,o,s,r,a,u,c,l,i,d,p,f,m,h,g,b,y,v,x,R,T,k,I,w,S,C,G,P,D,E,j,V;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,r=e.Vec3},function(e){a=e.generateRandomSymbols,u=e.betterRandom},function(e){c=e.bonusResetSignal,l=e.setRoundTypeSignal,i=e.bonusStopRollSignal,d=e.bonusStartRollSignal,p=e.tumbleSymbolsSignal,f=e.popSymbolsSingal,m=e.animateGodSymbolSignal,h=e.showReelResultSignal,g=e.spinReelSignal,b=e.startRoundSignal,y=e.setReelsUpdateSignal,v=e.moveCoinSignal},function(e){x=e.wait},function(e){R=e.reelsData,T=e.bonusReelsData},function(e){k=e.gameData},function(e){I=e.drawGodsInReels,w=e.generateJackpotCoinsResult,S=e.addGodCoinsToCoinsResult,C=e.updateGodReelsResult,G=e.generateGodReelsResult},function(e){P=e.CoinTypes},function(e){D=e.godFeatureTypeToId},function(e){E=e.JackpotTypes,j=e.godToJackpotType},function(e){V=e.RoundTypes}],execute:function(){function F(){return(F=n(t().mark((function e(o,s){var u,v,F,O,U,B,N,W,_,z,A,L;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.tumbleCount=0,b.dispatch(),y.dispatch({enable:!0}),u=0;case 4:if(!(u<o.reels.length)){e.next=12;break}return e.next=7,x(10*(u+1));case 7:g.dispatch({columnId:u,useTween:!0,reverse:s}),g.dispatch({columnId:u,useTween:!0,reverse:s,isGodReel:!0});case 9:u++,e.next=4;break;case 12:return e.next=14,x(R.rollTime.normal);case 14:v=a(),console.log("symbols",structuredClone(v)),F=I(o.godReels.length,[3],!0),console.log("hasGodInReels",F),O=w({jackpotTypes:[E.Unreal,E.Divine,E.Heroic,E.Warlord],reelsData:R}),console.log("coinsResult",structuredClone(O)),U=S(O,{jackpotTGodTypePerColumn:k.godTypePerColumn.map((function(e){return j[e]})),hasGodInReels:F,reelsData:R}),console.log("coinsResultWithGods",structuredClone(U)),B=C(v,{hasGodInReels:F}),console.log("symbolsWithGods",structuredClone(B)),o.setSymbols(B,U),N=G({godValuePerColumn:k.godTypePerColumn.map((function(e){return D[e]})),reelsData:T,hasGodInReels:F,isEndResult:!0}),console.log("godSymbols",N),o.setGodSymbols(N),W=0;case 29:if(!(W<o.reels.length)){e.next=37;break}return e.next=32,x(10*(W+1));case 32:h.dispatch({columnId:W}),h.dispatch({columnId:W,isGodReel:!0});case 34:W++,e.next=29;break;case 37:if(o.allReelsStopped){e.next=42;break}return e.next=40,x(10);case 40:e.next=37;break;case 42:return e.next=44,x(250);case 44:if(!N.some((function(e){return e.some((function(e){return e.value>0}))}))){e.next=49;break}for(_=0;_<o.godReels.length;_++)m.dispatch({colId:_});return e.next=49,x(250);case 49:if(!O.some((function(e){return e.some((function(e){return e.coinType===P.God}))}))){e.next=54;break}return e.next=52,M(o);case 52:return e.next=54,x(400);case 54:if(!O.some((function(e){return e.some((function(e){return e.coinType===P.Jackpot}))}))){e.next=59;break}return e.next=57,J(o);case 57:return e.next=59,x(400);case 59:z=H(o.totalResults,o,s),A=0;case 61:return A++,e.next=64,Promise.all(z.map(n(t().mark((function e(n,a){var u,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.dispatch({colId:n.colId,rows:n.removedIndices}),e.next=3,x(800);case 3:return o.tumbleCount=A,p.dispatch({colId:n.colId,indices:n.remainingTumblePos.map((function(e){return e.index})),positions:n.remainingTumblePos.map((function(e){return e.shift}))}),u=o.reels[n.colId].context,c=s?120*-n.removedIndices.length:120*(n.og.length+1),n.removedIndices.forEach((function(e,t){var o=u.reelModel.symbols[e];u.service.setNewSymbolCallback(o,n.newValues[t],void 0,!0),o.scale=r.ONE,o.position=new r(0,c,0),c+=s?-120:120})),e.next=10,x(100);case 10:return p.dispatch({colId:n.colId,indices:n.newTumblePos.map((function(e){return e.index})),positions:n.newTumblePos.map((function(e){return e.shift}))}),e.next=13,x(800);case 13:return e.next=15,u.service.setReel(n.result,{comesFromMediator:!0},!0);case 15:o.setResultOfReel(n.result,n.colId);case 16:case"end":return e.stop()}}),e)})))));case 64:z=H(o.totalResults,o,s);case 65:if(z.length>0){e.next=61;break}case 66:if(o.reset(),!(o.tumbleCount>=k.bonus.tumbleCount)){e.next=90;break}return e.next=70,x(1200);case 70:return o.tumbleCount=3,l.dispatch({roundType:V.Bonus}),e.next=74,x(600);case 74:L=0;case 75:if(!(L<3)){e.next=86;break}return o.tumbleCount--,d.dispatch(),e.next=80,x(2e3);case 80:return i.dispatch(),e.next=83,x(2e3);case 83:L++,e.next=75;break;case 86:return e.next=88,x(1e3);case 88:c.dispatch(),l.dispatch({roundType:V.Normal});case 90:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return O.apply(this,arguments)}function O(){return(O=n(t().mark((function e(n){var o,s,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.featureCoinDropPositions,s=Object.keys(o).map((function(e){return e})),r=0;case 3:if(!(r<s.length)){e.next=10;break}return v.dispatch({coinData:{coinType:P.God,valueType:s[r]},target:o[s[r]]}),e.next=7,x(100);case 7:r++,e.next=3;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return U.apply(this,arguments)}function U(){return(U=n(t().mark((function e(n){var o,s,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.jackpotCoinDropPositions,s=Object.keys(o).map((function(e){return e})),r=0;case 3:if(!(r<s.length)){e.next=10;break}return v.dispatch({coinData:{coinType:P.Jackpot,valueType:s[r]},target:o[s[r]]}),e.next=7,x(100);case 7:r++,e.next=3;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,n,t){var s=[],r=Array(8).fill(0),a=new Set;return e.forEach((function(e){e.forEach((function(n,t){0!==t&&t!==e.length-1&&(r[n.value-1]++,r[n.value-1]>=8&&a.add(n.value))}))})),0===a.size||e.forEach((function(e,r){var c={colId:r,removedIndices:[],newValues:[],result:[],og:[],remainingTumblePos:[],newTumblePos:[]};e.forEach((function(n,t){0!==t&&t!==e.length-1&&a.has(n.value)&&c.removedIndices.push(t)}));for(var l=0,i=function(e,n,t,s){void 0===s&&(s=120);for(var r,a=new Array(e).fill(!1),u=o(n);!(r=u()).done;){a[r.value]=!0}var c=[];if(t)for(var l=0,i=e-1;i>=0;i--)a[i]?l++:l>0&&c.push({index:i,shift:l*s});else for(var d=0,p=0;p<e;p++)a[p]?d++:d>0&&c.push({index:p,shift:-d*s});return c}(e.length,c.removedIndices,t,120);l<i.length;l++){var d=i[l],p=d.index,f=d.shift,m=n.reels[r].reelModel.symbols[p];c.remainingTumblePos.push({index:p,shift:m.y+f})}var h=n.reels[r].reelModel;if(c.newTumblePos=function(e,n,t){if(0===n.length)return[];var o=[].concat(n).sort((function(e,n){return e-n})),s=[];if(t)for(var r=0;r<o.length;r++)s.push({index:o[r],shift:e.symbols[r].y});else for(var a=e.symbols.length-1,u=0;u<o.length;u++){var c=o[o.length-1-u];s.push({index:c,shift:e.symbols[a-u].y})}return s}(h,c.removedIndices,t),c.removedIndices.length>0){c.newValues=c.removedIndices.map((function(){return u()}));var g=[];e.forEach((function(e,n){-1===c.removedIndices.indexOf(n)&&g.push(e.value)})),c.result=t?[].concat(c.newValues,g):[].concat(g,c.newValues),c.og=e.map((function(e){return e.value})),s.push(c)}})),s}e("playfieldUpdate",(function(e,n){return F.apply(this,arguments)})),s._RF.push({},"512316B0etHfbb/hkqCM9IE","playfieldUpdate",void 0),s._RF.pop()}}}));

System.register("chunks:///_virtual/promise.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b70281IqwNGDp6pTtWQJb4r","promise",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/randomizer.ts",["cc","./reelsData.ts"],(function(e){var n,r,o;return{setters:[function(e){n=e.cclegacy},function(e){r=e.bonusReelsData,o=e.reelsData}],execute:function(){e({betterRandom:t,generateRandomSymbols:function(e){void 0===e&&(e=!1);for(var n=[],s=e?r.playFieldDimensions.rows:o.playFieldDimensions.rows,a=e?r.playFieldDimensions.columns:o.playFieldDimensions.columns,i=0;i<a;i++){for(var l=[],u=s[i].total,c=0;c<u;c++)l.push({value:t(e)});n.push(l.reverse())}return n}}),n._RF.push({},"43013uUXbVIAbMwkpPqNbOx","randomizer",void 0);var s=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6];function t(e){void 0===e&&(e=!1);var n=Math.floor(Math.random()*s.length);return e?0:s[n]}n._RF.pop()}}}));

System.register("chunks:///_virtual/reelAnimations.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelModel.ts"],(function(t){var e,n,a,r,i,o,u,s,c,l,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime,u=t.extends},function(t){s=t.cclegacy,c=t._decorator,l=t.Component,p=t.math},function(t){d=t.ReelModel}],execute:function(){var y,f,m,h,v;s._RF.push({},"abc707f8npEFYtEhEw+lQ1d","reelAnimations",void 0);var g=c.ccclass,w=c.property,F={easeOutQuad:function(t){return t*(2-t)},easeInQuad:function(t){return t*t},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)}},x=[{t:0,data:{y:0},easing:F.easeOutCirc},{t:200,data:{y:7},easing:F.easeOutCirc},{t:500,data:{y:0},easing:F.easeOutExpo}],A=[{t:0,data:{y:0},easing:F.easeOutQuad},{t:400,data:{y:-10},easing:F.easeOutQuad},{t:550,data:{y:0},easing:F.easeInQuad}];t("ReelAnimations",(y=g("ReelAnimations"),f=w(d),y((v=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).context=void 0,a(e,"model",v,r(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.model=this.node.getComponent(d)},s.init=function(t){this.context=t},s.tweenInOutReel=function(){var t=i(o().mark((function t(e){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.isIntro?A:x,n=r.map((function(t){return u({},t,{data:u({},t.data),easing:t.easing})})),a=new p.Vec3,this.node.getPosition(a),n[0].data.y=a.y,n[1].data.y=a.y+(e.reverse?n[1].data.y:-n[1].data.y),n[2].data.y=a.y,t.next=8,this.playTweenAsync({keyFrames:n,loopFunction:e.loopFunction});case 8:null==e.completeCallback||e.completeCallback(n[2].data);case 9:case"end":return t.stop()}var r}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.playTweenAsync=function(){var t=i(o().mark((function t(e){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.keyFrames,a=e.loopFunction,t.abrupt("return",new Promise((function(t){var e=performance.now(),r=n[n.length-1].t;requestAnimationFrame((function i(o){var u=o-e,s=function(t){for(var e=0;e<n.length-1;e++){var a=n[e],r=n[e+1];if(t>=a.t&&t<=r.t){var i=(t-a.t)/(r.t-a.t),o=r.easing(i);return a.data.y+(r.data.y-a.data.y)*o}}return n[n.length-1].data.y}(u);a({y:s}),u<r?requestAnimationFrame(i):t()}))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}(l)).prototype,"model",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/reelArgs.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"63d70JmV0lE9qAi93iBnjnh","reelArgs",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/reelComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolNode.ts","./reelStatus.ts","./randomizer.ts","./coinData.ts","./godFeatureTypes.ts","./jackpotTypes.ts"],(function(e){var o,n,t,s,r,l,i,a,c,u,d,m,v,h,f,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,i=e.CCFloat,a=e.tween,c=e.Vec3,u=e.Component},function(e){d=e.SymbolNode},function(e){m=e.ReelStatus},function(e){v=e.betterRandom},function(e){h=e.CoinTypes},function(e){f=e.GodFeatureTypes},function(e){y=e.JackpotTypes}],execute:function(){var p,b,R,w,g;r._RF.push({},"091dafsqBFNmr5IsfHuH9Ye","reelComponent",void 0);var C=l.ccclass,x=l.property;e("ReelComponent",(p=C("ReelComponent"),b=x(i),p((g=o((w=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(o=e.call.apply(e,[this].concat(r))||this).context=void 0,t(o,"columnId",g,s(o)),o}n(o,e);var r=o.prototype;return r.init=function(e){this.context=e;var o=e.reelModel;o.reelComponent=this,this.columnId=o.columnId,this.name=o.isBonusReel?"bonusReel_"+o.columnId:"reel_"+o.columnId;var n=o.config.reelsData.transform[o.columnId];this.node.x=n.x+(o.columnId-o.centerOffsetRatio.x)*n.w,this.node.y=n.y-o.centerOffsetRatio.y*n.h;for(var t=[],s=0;s<o.config.reelsData.playFieldDimensions.rows[this.columnId].total;s++){var r=new d;r.init(o.columnId+"_"+s,o.columnId,o.isBonusReel),this.node.addChild(r),r.y=s*n.h,t.push(r)}o.symbols=t},r.spinReelHandler=function(e,o){var n=this;return this.context.reelAnims.tweenInOutReel({isIntro:!0,reverse:o,fastPlay:e,loopFunction:function(e){n.context.reelComponent.node.y=e.y},completeCallback:function(e){n.context.reelComponent.node.y=e.y}})},r.stopReelHandler=function(e,o){var n=this;return this.context.reelAnims.tweenInOutReel({isIntro:!1,reverse:o,fastPlay:e,loopFunction:function(e){n.context.reelComponent.node.y=e.y},completeCallback:function(e){n.context.reelComponent.node.y=e.y}})},r.popSymbolHandler=function(e){var o=this,n=this.context.reelModel.symbols;e.forEach((function(e){var t=n[e];a(t).to(.1,{scale:new c(1.25,1.25,1)},{easing:"quadOut"}).to(.15,{scale:new c(0,0,0)},{easing:"quadIn"}).call((function(){o.context.service.clearSymbolCallback(t)})).start()}))},r.tumbleSymbolHandler=function(e){var o=this.context.reelModel.symbols[e.index];a(o).to(.5,{y:e.pos},{easing:"bounceOut"}).start()},r.updateReelHandler=function(e,o,n){var t=this.context.reelModel;if(t.status===m.Rolling)for(var s=t.symbols.length,r=t.config.reelsData.rollSpeed.y*e,l=0;l<s;l++){var i=t.symbols[l];i.y+=o.reverse?r:-r;var a=o.reverse?this.reverseSymbolAboveThreshold(i.y):this.symbolAboveThreshold(i.y);if(a.isAbove)if(i.y=a.resetYPos,this.reorganizeSymbols(t.symbols),t.showEndResult){var c,u,d,h;t.currentRow<0&&(t.currentRow=t.config.reelsData.playFieldDimensions.rows[t.columnId].visible-1);var f=t.result[t.currentRow],y=o.isBonusReel?void 0:null!=(c=null==(u=t.resultCoins)?void 0:u[t.currentRow])?c:void 0;this.context.service.setNewSymbolCallback(i,null!=(d=null==(h=f.meta)?void 0:h.oldSymbolValue)?d:f.value,y,!0).then((function(){t.currentRow>=0&&(t.currentRow--,t.currentRow<0&&(t.status=m.Stopping,null==n||n(t.config.columnId,t.hasTension),t.reelStoppedPromise.resolve()))}))}else{var p=o.isBonusReel?void 0:this.drawRandomCoin(10);this.context.service.setNewSymbolCallback(i,v(o.isBonusReel),p)}}},r.symbolAboveThreshold=function(e){var o=this.context.reelModel;return e<-120+o.endDeviationY?{isAbove:!0,resetYPos:o.endPositionY-120+o.endDeviationY}:{isAbove:e<-120,resetYPos:o.endPositionY-120}},r.reverseSymbolAboveThreshold=function(e){var o=this.context.reelModel;return e>=o.endPositionY-o.endDeviationY?{isAbove:!0,resetYPos:e-o.endPositionY-o.endDeviationY}:{isAbove:e>=o.endPositionY,resetYPos:e-o.endPositionY}},r.reorganizeSymbols=function(e){e.unshift(e.pop())},r.drawRandomCoin=function(e){if(!(Math.floor(100*Math.random())>e)){var o=Object.values(h)[Math.floor(Math.random()*Object.values(h).length)],n=Object.values(f)[Math.floor(Math.random()*Object.values(f).length)],t=Object.values(y)[Math.floor(Math.random()*Object.values(y).length)];return{coinType:o,valueType:o===h.God?n:t}}},o}(u)).prototype,"columnId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=w))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/reelConfig.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c595cHm3sJB+Kl/qREoodJl","reelConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/reelContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelAnimations.ts","./reelModel.ts","./reelService.ts","./reelComponent.ts"],(function(e){var n,t,o,i,l,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.Node},function(e){i=e.ReelAnimations},function(e){l=e.ReelModel},function(e){r=e.ReelService},function(e){s=e.ReelComponent}],execute:function(){t._RF.push({},"a6cdepSDvFI/5o4eGoZCWZc","reelContext",void 0);e("ReelContext",function(e){function t(){var n;return(n=e.call(this)||this).reelModel=n.addComponent(l),n.reelComponent=n.addComponent(s),n.reelAnims=n.addComponent(i),n.service=n.addComponent(r),n}return n(t,e),t.prototype.init=function(e){this.name=e.isGodReel?"bonusReel_"+e.columnId:"reel_"+e.columnId,this.reelModel.init(e),this.reelComponent.init(this),this.reelAnims.init(this),this.service.init(this)},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/reelModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolNode.ts","./reelComponent.ts","./reelStatus.ts","./resolvablePromise.ts"],(function(e){var t,n,o,i,l,r,s,u,a,c,f,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,s=e._decorator,u=e.CCFloat,a=e.CCBoolean,c=e.Component},function(e){f=e.SymbolNode},function(e){p=e.ReelComponent},function(e){h=e.ReelStatus},function(e){d=e.ResolvablePromise}],execute:function(){var y,m,b,g,R,v,w,C,D,z,k,M,S;r._RF.push({},"5f53az2J49GWJhefuz3ToJ1","reelModel",void 0);var F=s.ccclass,I=s.property;e("ReelModel",(y=F("ReelModel"),m=I([f]),b=I(u),g=I(a),R=I(a),v=I(p),y((D=t((C=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).config=void 0,t.result=void 0,t.resultCoins=void 0,t.status=h.Stopped,t.reelStoppedPromise=new d,o(t,"symbols",D,i(t)),o(t,"currentRow",z,i(t)),o(t,"hasTension",k,i(t)),o(t,"showEndResult",M,i(t)),o(t,"reelComponent",S,i(t)),t.endDeviationY=20,t}return n(t,e),t.prototype.init=function(e){this.config=e,this.currentRow=-1,this.hasTension=!1,this.showEndResult=!1},l(t,[{key:"isBonusReel",get:function(){return this.config.isGodReel}},{key:"bonusValue",get:function(){return this.config.godType}},{key:"visibleSymbols",get:function(){return this.symbols.slice(1,-1)}},{key:"visibleResult",get:function(){return this.result.slice(1,-1)}},{key:"columnId",get:function(){return this.config.columnId}},{key:"centerOffsetRatio",get:function(){return{x:Math.floor(this.config.reelsData.playFieldDimensions.columns/2),y:Math.floor(this.config.reelsData.playFieldDimensions.rows[this.columnId].visible/2)}}},{key:"endPositionY",get:function(){return this.config.reelsData.playFieldDimensions.rows[this.columnId].total*this.config.reelsData.transform[this.columnId].h}}]),t}(c)).prototype,"symbols",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"currentRow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"hasTension",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"showEndResult",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(C.prototype,"reelComponent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/reelsData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,l;return{setters:[function(e){t=e.extends},function(e){l=e.cclegacy}],execute:function(){l._RF.push({},"99c57bNQaVBSIObGdSt3mGy","reelsData",void 0);var s=e("reelsData",{transform:[{x:20,y:-140,w:180,h:120},{x:10,y:-74,w:180,h:120},{x:-5,y:-140,w:180,h:120},{x:0,y:-74,w:180,h:120},{x:5,y:-140,w:180,h:120},{x:-10,y:-74,w:180,h:120},{x:-20,y:-140,w:180,h:120}],rollTime:{normal:1e3,fast:250},rollSpeed:{x:0,y:2e3},tension:{speed:1e3,delay:{normal:1700,fast:1500}},playFieldDimensions:{columns:7,rows:[{total:5,visible:3},{total:6,visible:4},{total:7,visible:5},{total:8,visible:6},{total:7,visible:5},{total:6,visible:4},{total:5,visible:3}]},delayBetweenReels:{start:0,stop:0}});e("bonusReelsData",t({},s,{transform:[{x:20,y:-500,w:180,h:120},{x:10,y:-554,w:180,h:120},{x:-5,y:-740,w:180,h:120},{x:0,y:-74,w:180,h:120},{x:5,y:-740,w:180,h:120},{x:-10,y:-554,w:180,h:120},{x:-20,y:-500,w:180,h:120}],playFieldDimensions:{columns:7,rows:[{total:11,visible:3},{total:14,visible:4},{total:17,visible:5},{total:8,visible:6},{total:17,visible:5},{total:14,visible:4},{total:11,visible:3}]}}));l._RF.pop()}}}));

System.register("chunks:///_virtual/reelService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelStatus.ts","./wait.ts","./events.ts","./resolvablePromise.ts"],(function(e){var t,n,l,r,s,o,i,a,u,d,c,h,p,m,f,b;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,l=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e._decorator,a=e.Component},function(e){u=e.ReelStatus},function(e){d=e.wait},function(e){c=e.spinReelSignal,h=e.stopReelSignal,p=e.showReelResultSignal,m=e.popSymbolsSingal,f=e.tumbleSymbolsSignal},function(e){b=e.ResolvablePromise}],execute:function(){var y;o._RF.push({},"65f33Ty5qxLOLLMd3tzIRn7","reelService",void 0);var R=i.ccclass;i.property,e("ReelService",R("ReelService")(y=function(e){function o(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).context=void 0,t.shouldUpdate=!1,t.reverse=!1,t.isBonusReel=!1,t.bonusValue=void 0,t.setNewSymbolCallback=void 0,t.clearSymbolCallback=void 0,t.reelStopCallback=void 0,t.spinReelHandlerBind=t.spinReelHandler.bind(l(t)),t.stopReelHandlerBind=t.stopReelHandler.bind(l(t)),t.showReelResultHandlerBind=t.showReelResultHandler.bind(l(t)),t.popSymbolsHandlerBind=t.popSymbolsHandler.bind(l(t)),t.tumbleSymbolsHandlerBind=t.tumbleSymbolsHandler.bind(l(t)),t}t(o,e);var i=o.prototype;return i.init=function(e){this.context=e,c.addListener(this.spinReelHandlerBind),h.addListener(this.stopReelHandlerBind),p.addListener(this.showReelResultHandlerBind),m.addListener(this.popSymbolsHandlerBind),f.addListener(this.tumbleSymbolsHandlerBind)},i.onDestroy=function(){c.removeListener(this.spinReelHandlerBind),h.removeListener(this.stopReelHandlerBind),p.removeListener(this.showReelResultHandlerBind),m.removeListener(this.popSymbolsHandlerBind),f.removeListener(this.tumbleSymbolsHandlerBind)},i.getReelContext=function(){return this.context},i.resetReel=function(){this.reelModel.currentRow=-1,this.reelModel.hasTension=!1,this.reelModel.showEndResult=!1,this.reelModel.status=u.Stopped},i.spinReelHandler=function(){var e=r(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&!t.fastPlay&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:if(this.reelModel.reelStoppedPromise=new b,this.reelModel.status=u.Started,!t.useTween){e.next=7;break}return e.next=7,this.context.reelComponent.spinReelHandler(t.fastPlay,t.reverse);case 7:this.reelModel.status=u.Rolling;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.showReelResultHandler=function(){var e=r(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:return n=this.getTensionDelay(t),e.next=5,d(n);case 5:this.reelModel.showEndResult=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.popSymbolsHandler=function(e){this.reelModel.columnId!==e.colId||this.reelModel.isBonusReel||this.context.reelComponent.popSymbolHandler(e.rows)},i.tumbleSymbolsHandler=function(){var e=r(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reelModel.columnId===t.colId&&!this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:for(n=0;n<t.indices.length;n++)this.context.reelComponent.tumbleSymbolHandler({index:t.indices[n],pos:t.positions[n]});return e.next=5,d(500);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.getTensionDelay=function(e){return this.reelModel.hasTension&&e.tension?(e.fastPlay?this.reelModel.config.reelsData.tension.delay.fast:this.reelModel.config.reelsData.tension.delay.normal)*(e.fastPlay?1:e.tension.id):0},i.stopReelHandler=function(){var e=r(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:if(this.reelModel.status=u.Stopping,!t.useTween){e.next=6;break}return e.next=6,this.context.reelComponent.stopReelHandler(t.fastPlay,t.reverse);case 6:this.reelModel.status=u.Stopped;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.update=function(e){this.shouldUpdate&&this.updateReel(e)},i.updateReel=function(e){this.context.reelComponent.updateReelHandler(e,{reverse:this.reverse,isBonusReel:this.reelModel.isBonusReel},this.reelStopCallback)},i.setReel=function(){var e=r(s().mark((function e(t,n,l){var r,o,i=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.reelModel.config.reelsData.transform[this.reelModel.columnId].h,o=this.reelModel.symbols.map((function(e,s){var o;return e.y=s*r,i.setNewSymbolCallback(e,t[s],null==n||null==(o=n.coinData)?void 0:o[s],l).then((function(){e.symbolView&&(e.symbolModel.symbolPosition={colId:i.reelModel.columnId,rowId:s})}))})),e.next=4,Promise.all(o);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,l){return e.apply(this,arguments)}}(),i.getVisibleSymbols=function(e){return this.visibleSymbols.filter((function(t){return t.symbolModel.value===e}))},n(o,[{key:"reelModel",get:function(){return this.context.reelModel}},{key:"visibleSymbols",get:function(){return this.reelModel.symbols.slice(1,-1)}},{key:"invisibleSymbols",get:function(){return[this.reelModel.symbols[0],this.reelModel.symbols[this.reelModel.symbols.length-1]]}}]),o}(a))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/reelStatus.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d8a63e9t79MqKUOquhZ4vN0","reelStatus",void 0);t("ReelStatus",function(t){return t.Started="starting",t.Rolling="rolling",t.Stopping="stopping",t.Stopped="stopped",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/resize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,r=e.view,o=e.Component}],execute:function(){var s;i._RF.push({},"c312bUGSkRG6KI13uztm5Wr","resize",void 0);var c=t.ccclass;e("resize",c("resize")(s=function(e){function i(){return e.apply(this,arguments)||this}n(i,e);var t=i.prototype;return t.start=function(){window.addEventListener("resize",this.onResize.bind(this)),this.onResize()},t.onResize=function(){var e=window.innerHeight,n=Math.round(e/540*960);n>window.innerWidth&&(n=window.innerWidth,e=Math.round(n/960*540)),r.setCanvasSize(n,e)},i}(o))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/resolvablePromise.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var s,t;return{setters:[function(e){s=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"66c37mAehhAkquC36PnXFlv","resolvablePromise",void 0);e("ResolvablePromise",function(){function e(){var e=this;this.promise=void 0,this._reject=void 0,this._resolve=void 0,this._isResolved=!1,this.promise=new Promise((function(s,t){e._reject=t,e._resolve=s})),this.promise.then((function(){e._isResolved=!0}))}return s(e,[{key:"reject",get:function(){return this._reject}},{key:"resolve",get:function(){return this._resolve}},{key:"isResolved",get:function(){return this._isResolved}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/responsive.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,n,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Widget,o=t.view,h=t.Component}],execute:function(){var r;e._RF.push({},"e8718VxEyNEj5+k+C2ZJX79","responsive",void 0);var g=s.ccclass;t("responsive",g("responsive")(r=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).widget=void 0,i}i(e,t);var s=e.prototype;return s.start=function(){this.widget=this.node.getComponent(n),this.setResponsivePosition()},s.setResponsivePosition=function(){var t=o.getCanvasSize(),i=o.getDesignResolutionSize(),e=t.width/t.height,s=i.width/i.height;if(!(Math.abs(e-s)<.01))if(e>s){var n=t.height/i.height,h=i.width*n,r=(t.width-h)/2/n;this.widget.isAlignLeft?this.widget.left-=r:this.widget.isAlignRight&&(this.widget.right-=r)}else if(e<s){var g=t.width/i.width,a=i.height*g,c=(t.height-a)/2/g;this.widget.isAlignTop?this.widget.top-=c:this.widget.isAlignBottom&&(this.widget.bottom-=c)}},s.update=function(t){},e}(h))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/roundTypes.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"de090H+QX1ONrwYzm92iH96","roundTypes",void 0);n("RoundTypes",function(n){return n[n.Bonus=0]="Bonus",n[n.Normal=1]="Normal",n}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/signal.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"fe63cqpRstHh5tpe3Iywr5J","signal",void 0);e("Signal",function(){function e(e){this.listenerMap=new Map,this.name=e}var n=e.prototype;return n.dispatch=function(e){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent(this.name,{detail:e}))},n.addListener=function(e){if("undefined"!=typeof window){var n=function(n){return e(n.detail)};this.listenerMap.set(e,n),window.addEventListener(this.name,n)}},n.removeListener=function(e){if("undefined"!=typeof window){var n=this.listenerMap.get(e);n&&(window.removeEventListener(this.name,n),this.listenerMap.delete(e))}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/specialSymbols.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var s;c._RF.push({},"ce9f7KuGcRE95PKLrzkW9RR","specialSymbols",void 0);var t=e("SpecialSymbolTypes",function(e){return e.Wild="wild",e.Athena="athena",e.Ares="ares",e}({}));e("specialSymbolTypeToId",((s={})[t.Wild]=6,s[t.Athena]=7,s[t.Ares]=8,s)),e("specialSymbolIdToType",{6:t.Wild,7:t.Athena,8:t.Ares});c._RF.pop()}}}));

System.register("chunks:///_virtual/symbolAnimationData.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"df8e7penc1JhYzPVWR4yVv0","symbolAnimationData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/symbolModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./godFeatureTypes.ts"],(function(e){var t,o,i,r,l,n,a,s,u,c,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){n=e.cclegacy,a=e._decorator,s=e.CCFloat,u=e.CCBoolean,c=e.Component},function(e){y=e.godFeatureTypeToId}],execute:function(){var d,b,p,m,h,f,g,v,_,S,P;n._RF.push({},"85896j+8HZJA5h+wQF73U+s","symbolModel",void 0);var T=a.ccclass,w=a.property;e("SymbolModel",(d=T("SymbolModel"),b=w(s),p=w(u),m=w(u),h=w(u),d((v=t((g=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),n=0;n<o;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,i(t,"_value",v,r(t)),i(t,"_isGodSymbol",_,r(t)),t.symbolContainer=void 0,t.symbolPosition=void 0,i(t,"hasTriggered",S,r(t)),i(t,"canPlayParticles",P,r(t)),t.multiplierData={value:1,enabled:!1},t}o(t,e);var n=t.prototype;return n.setSymbol=function(e){this._value=e.value,this._isGodSymbol=Object.values(y).includes(e.value),this.symbolPosition={colId:e.columnId,rowId:-1}},n.onReturnToPool=function(){this.reset()},n.onAddToPlayField=function(){this.reset()},n.reset=function(){this.hasTriggered=!1,this.canPlayParticles=!1},l(t,[{key:"value",get:function(){return this._value}},{key:"isGodSymbol",get:function(){return this._isGodSymbol}},{key:"symbolId",get:function(){return this.value.toString()+"_"+this.symbolId.toString()+"_"+this.isGodSymbol.toString()}}]),t}(c)).prototype,"_value",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(g.prototype,"_isGodSymbol",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(g.prototype,"hasTriggered",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=t(g.prototype,"canPlayParticles",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=g))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/symbolNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolModel.ts","./events.ts","./coinComponent.ts","./coinData.ts"],(function(o){var i,n,e,t,s,l,d,a,m,c,r,y;return{setters:[function(o){i=o.inheritsLoose,n=o.assertThisInitialized},function(o){e=o.cclegacy,t=o._decorator,s=o.instantiate,l=o.AnimationComponent,d=o.Node},function(o){a=o.SymbolModel},function(o){m=o.animateGodSymbolSignal,c=o.moveCoinSignal},function(o){r=o.CoinComponent},function(o){y=o.CoinTypes}],execute:function(){var b;e._RF.push({},"f0a13DJ1NNETaPzaKYEPeiU","symbolNode",void 0);var u=t.ccclass;o("SymbolNode",u("SymbolNode")(b=function(o){function e(){for(var i,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(i=o.call.apply(o,[this].concat(t))||this).symbolModel=i.addComponent(a),i.symbolView=void 0,i.coinObject=void 0,i.columnId=void 0,i.symbolId=void 0,i.isInBonusReel=void 0,i.moveCoinHandlerBind=i.moveCoinHandler.bind(n(i)),i.animateGodSymbolHandlerBind=i.animateGodSymbolHandler.bind(n(i)),i}i(e,o);var t=e.prototype;return t.init=function(o,i,n){this.symbolId=o,this.columnId=i,this.name=n?"bonusSymbolContainer_"+this.symbolId:"symbolContainer_"+this.symbolId,this.isInBonusReel=null!=n&&n,this.symbolModel.symbolContainer=this},t.addSymbol=function(o,i,n){this.addChild(o),this.symbolView=o,this.symbolModel.setSymbol({value:i,columnId:this.columnId}),n&&this.addCoin(n),m.addListener(this.animateGodSymbolHandlerBind)},t.addCoin=function(o){var i=s(o);this.addChild(i),this.coinObject=i.getComponent(r),c.addListener(this.moveCoinHandlerBind)},t.removeCoin=function(o){if(this.coinObject){var i;if(o)null==(i=this.coinObject)||i.destroyCoin();this.coinObject=void 0,c.removeListener(this.moveCoinHandlerBind)}},t.moveCoinHandler=function(o){this.coinObject&&o.coinData.coinType===this.coinObject.coinType&&(this.coinObject.coinType===y.God&&o.coinData.valueType!==this.coinObject.featureType||this.coinObject.coinType===y.Jackpot&&o.coinData.valueType!==this.coinObject.jackpotType||this.coinObject.moveCoinToPosition(o.target))},t.removeSymbol=function(o){var i;void 0!==o&&(this.symbolModel.setSymbol({value:0,columnId:this.columnId}),this.removeChild(o),o.destroy(),o.uuid===(null==(i=this.symbolView)?void 0:i.uuid)&&m.removeListener(this.animateGodSymbolHandlerBind),this.resetGodSymbols());this.symbolView=void 0,this.removeCoin(!0)},t.animateGodSymbolHandler=function(o){if(this.isInBonusReel&&o.colId===this.columnId&&this.symbolModel.isGodSymbol){var i,n=null==(i=this.symbolView)?void 0:i.getComponent(l);n&&n.play()}},t.resetGodSymbols=function(){if(this.isInBonusReel&&this.symbolModel.isGodSymbol){var o,i=null==(o=this.symbolView)?void 0:o.getComponent(l);if(i){i.stop();var n=i.defaultClip;if(n)i.getState(n.name).time=0}}},e}(d))||b);e._RF.pop()}}}));

System.register("chunks:///_virtual/symbolPosition.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ef8bbYpq/tIEpTEe8Cb0fxK","symbolPosition",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/symbols.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"54b0c4i7zVGbrdkEtNPFAeW","symbols",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/tumbleSymbolData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"dcd19006fRDZqcAD/YvAV5p","tumbleSymbolData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uniqueId.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("genUniqueId",(function(){var n=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return n+"_"+t})),t._RF.push({},"e1dfd+5JWlJEbnro0ohvQhr","uniqueId",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/view.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1b1b3g80hdOtJ4gHPbUyHqh","view",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/wait.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("wait",(function(t){return new Promise((function(e){return setTimeout(e,t)}))})),e._RF.push({},"c74c4UV86JKNK8Wbyt4wlDE","wait",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/winData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"74217YGISpFm5dNClbVHKZl","winData",void 0),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});