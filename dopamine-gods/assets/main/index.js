System.register("chunks:///_virtual/array.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r({flatMap:function(r,t){var a;return(a=Array.prototype).concat.apply(a,r.map(t))},shuffle:function(r){var t,a=r.length;for(;0!=a;){t=Math.floor(Math.random()*a),a--;var n=[r[t],r[a]];r[a]=n[0],r[t]=n[1]}return r}}),t._RF.push({},"d1a7033C2tJcL1WLgrADQ5P","array",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/arrayUtils.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("flatten",(function(t){return t.reduce((function(t,e){return t.concat(e)}),[])})),e._RF.push({},"2eb41OkBtFEN6gDz7fhG8ge","arrayUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/coinComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./coinData.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./wait.ts","./curveTween.ts","./events.ts"],(function(e){var t,n,i,o,r,c,a,s,u,p,y,l,h,f,T,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.Enum,p=e.Vec2,y=e.Component},function(e){l=e.CoinTypes},function(e){h=e.GodFeatureTypes},function(e){f=e.JackpotTypes},function(e){T=e.wait},function(e){d=e.moveInCurve},function(e){v=e.moveCoinCompleteSignal}],execute:function(){var C,g,m,b,w,D,k,P,S;a._RF.push({},"505c1C3h3NB/ZASWd+MFuVk","coinComponent",void 0);var j=s.ccclass,x=s.property;e("CoinComponent",(C=j("CoinComponent"),g=x({type:u(l)}),m=x({type:u(h),visible:function(){return this.coinType===l.God}}),b=x({type:u(f),visible:function(){return this.coinType===l.Jackpot}}),C((k=t((D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"coinType",k,o(t)),i(t,"featureType",P,o(t)),i(t,"jackpotType",S,o(t)),t.coinTargetPosition=new p(0,0),t.coinTargetScale=new p(1,1),t.coinDuration=.5,t.coinCurveWidth=200,t.coinCurveHeight=100,t.isDestroyed=!1,t}n(t,e);var a=t.prototype;return a.moveCoinToPosition=function(){var e=r(c().mark((function e(t){var n,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.node.setParent(t.parent,!0),n=Math.floor(201*Math.random())+50,e.next=4,T(n);case 4:this.coinTargetPosition=new p(t.position.x,t.position.y),this.coinTargetScale=new p(.5*t.scale.x,.5*t.scale.y),d(this.node,this.coinTargetPosition,this.coinTargetScale,this.coinDuration,"cubicIn",this.coinCurveWidth,this.coinCurveHeight,(function(){v.dispatch({coinData:{coinType:i.coinType,valueType:i.coinType===l.God?i.featureType:i.jackpotType}}),i.destroyCoin()}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.destroyCoin=function(){this.isDestroyed||(this.isDestroyed=!0,this.node.destroy(),this.destroy())},t}(y)).prototype,"coinType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.God}}),P=t(D.prototype,"featureType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.Athena}}),S=t(D.prototype,"jackpotType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Unreal}}),w=D))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/coinData.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"54c99b5fodFlqIy0xvwsM0D","coinData",void 0);t("CoinTypes",function(t){return t.God="god",t.Jackpot="jackpot",t}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/curveTween.ts",["cc"],(function(e){var n,s,t;return{setters:[function(e){n=e.cclegacy,s=e.Vec2,t=e.tween}],execute:function(){function o(e,n,t,o){var r=1-o,i=o*o,c=r*r;return new s(c*e.x+2*r*o*n.x+i*t.x,c*e.y+2*r*o*n.y+i*t.y)}e({getQuadraticBezierPoint:o,moveInCurve:function(e,n,r,i,c,u,a,p){var y=new s(e.position.x,e.position.y),x=new s(e.scale.x,e.scale.y),g=new s((y.x+n.x)/2+u,(y.y+n.y)/2+a),v={progress:0};t(v).to(i,{progress:1},{easing:c,onUpdate:function(){var s=o(y,g,n,v.progress);e.setPosition(s.x,s.y,0),e.setScale(x.x+(r.x-x.x)*v.progress,x.y+(r.y-x.y)*v.progress)},onComplete:p}).start()},moveInCurveWithCubicOutIn:function(e,n,r,i,c,u,a){var p=new s(e.position.x,e.position.y),y=new s(e.scale.x,e.scale.y),x=new s((p.x+n.x)/2+c,(p.y+n.y)/2+u),g={progress:0},v=function(){var s=o(p,x,n,g.progress);e.setPosition(s.x,s.y,0),e.setScale(y.x+(r.x-y.x)*g.progress,y.y+(r.y-y.y)*g.progress)};t(g).to(i/2,{progress:.5},{easing:"cubicOut",onUpdate:v}).to(i/2,{progress:1},{easing:"cubicIn",onUpdate:v}).call((function(){null==a||a()})).start()}}),n._RF.push({},"235005okqFGz63fYfQpGut+","curveTween",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/dropdownMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./signal.ts"],(function(n){var t,e,i,o,r,a,u,l,s,c,p,f,h,d,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.createForOfIteratorHelperLoose},function(n){a=n.cclegacy,u=n._decorator,l=n.Button,s=n.Node,c=n.Label,p=n.Prefab,f=n.Component,h=n.instantiate,d=n.UITransform},function(n){g=n.Signal}],execute:function(){var m,b,v,B,C,y,O,M,S,L,w;a._RF.push({},"9633cCijdBCn4kulYNKKq5y","dropdownMenu",void 0);var P=u.ccclass,_=u.property;u.menu,u.executeInEditMode,n("default",(m=P("DropdownMenu"),b=_(l),v=_(s),B=_(c),C=_(p),m((M=t((O=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"mainButton",M,o(t)),i(t,"menuContainer",S,o(t)),i(t,"mainButtonLabel",L,o(t)),i(t,"optionButtonPrefab",w,o(t)),t._isOpen=!1,t.optionButtons=[],t.onOptionSelectedSignal=new g("onOptionSelectedSignal"),t}e(t,n);var a=t.prototype;return a.onLoad=function(){this.menuContainer.active=this._isOpen,this.mainButton.node.on("click",this.toggleMenu,this)},a.populateMenu=function(n,t){var e=this;void 0===t&&(t="Default"),this.clearMenu();for(var i,o=n.length>0?n:[t],r=function(){var n=o[a];if(!e.optionButtonPrefab)return console.error("Option Button Prefab is not assigned in DropdownMenu."),{v:void 0};var t=h(e.optionButtonPrefab),i=t.getComponent(d);t.setPosition(0,a*i.contentSize.height,0),e.menuContainer.addChild(t);var r=t.getComponent(l),u=t.getComponentInChildren(c);u&&(u.string=n),r&&(e.optionButtons.push(r),r.node.on("click",(function(){e.onOptionSelected(n)}),e))},a=0;a<o.length;a++)if(i=r())return i.v;o.length>0&&this.mainButtonLabel&&(this.mainButtonLabel.string=o[0],this.onOptionSelectedSignal.dispatch(o[0]))},a.clearMenu=function(){this.menuContainer.removeAllChildren();for(var n,t=r(this.optionButtons);!(n=t()).done;){n.value.node.targetOff(this)}this.optionButtons=[]},a.toggleMenu=function(){this._isOpen=!this._isOpen,this.menuContainer.active=this._isOpen},a.onOptionSelected=function(n){this.mainButtonLabel&&(this.mainButtonLabel.string=n),this.onOptionSelectedSignal.dispatch(n),this.toggleMenu()},a.onDestroy=function(){var n;null==(n=this.mainButton)||null==(n=n.node)||n.off("click",this.toggleMenu,this)},t}(f)).prototype,"mainButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(O.prototype,"menuContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(O.prototype,"mainButtonLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(O.prototype,"optionButtonPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=O))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/DropdownMenuCreator.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"577e88ZoNJBhqHp/LlIx+ZV","DropdownMenuCreator",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/events.ts",["cc","./signal.ts"],(function(e){var n,l;return{setters:[function(e){n=e.cclegacy},function(e){l=e.Signal}],execute:function(){n._RF.push({},"43d8eZb3YxHcJAbExBM7+/y","events",void 0);e("playfieldLoadedSignal",new l("PlayfieldLoadedSignal")),e("startRoundSignal",new l("StartRoundSignal")),e("spinReelSignal",new l("SpinReelSignal")),e("stopReelSignal",new l("StopReelSignal")),e("showReelResultSignal",new l("ShowReelResultSignal")),e("setReelSignal",new l("SetReelSignal")),e("setReelsSignal",new l("SetReelsSignal")),e("setReelsUpdateSignal",new l("SetReelsUpdateSignal")),e("changeReelSpinDirectionSignal",new l("ChangeReelSpinDirectionSignal")),e("popSymbolsSingal",new l("PopSymbolsSignal")),e("tumbleSymbolsSignal",new l("TumbleSymbolsSignal")),e("godFeatureSignal",new l("GodFeatureSignal")),e("animateGodSymbolSignal",new l("AnimateGodSymbolSignal")),e("moveCoinSignal",new l("MoveCoinSignal")),e("moveCoinCompleteSignal",new l("MoveCoinCompleteSignal"));n._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./randomizer.ts","./events.ts","./playfieldComponent.ts","./reelsData.ts"],(function(e){var n,o,l,t,i,a,r,s,d,p,f,c,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.Component},function(e){s=e.PlayfieldModel},function(e){d=e.generateRandomSymbols},function(e){p=e.playfieldLoadedSignal,f=e.setReelsSignal},function(e){c=e.PlayfieldComponent},function(e){u=e.bonusReelsData}],execute:function(){var y,m,h,b,g,v,S;i._RF.push({},"aed12wnk8BJH6gaIRGaeo9o","game",void 0);var C=a.ccclass,L=a.property;e("GameComponent",(y=C("GameComponent"),m=L(c),h=L(s),y((v=n((g=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,l(n,"playfieldComponent",v,t(n)),l(n,"playfieldModel",S,t(n)),n.playfieldLoadedHandlerBind=n.playfieldLoadedHandler.bind(t(n)),n}o(n,e);var i=n.prototype;return i.onLoad=function(){p.addListener(this.playfieldLoadedHandlerBind)},i.onDestroy=function(){p.removeListener(this.playfieldLoadedHandlerBind)},i.playfieldLoadedHandler=function(){this.playfieldComponent=this.node.scene.getComponentInChildren(c),this.playfieldModel=this.playfieldComponent.playfieldModel,this.setStartSymbols(),this.setStartGodSymbols()},i.setStartSymbols=function(){var e=d();this.playfieldModel.reels.forEach((function(n,o){n.reelModel.result=e[o]})),f.dispatch({symbols:e})},i.setStartGodSymbols=function(){for(var e=[],n=u.playFieldDimensions.columns,o=u.playFieldDimensions.rows,l=0;l<n;l++){for(var t=o[l],i=[],a=0;a<t.total;a++)i.push({value:0});e.push(i.reverse())}this.playfieldModel.godReels.forEach((function(n,o){n.reelModel.result=e[o]})),f.dispatch({symbols:e,isGodReels:!0})},n}(r)).prototype,"playfieldComponent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(g.prototype,"playfieldModel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/gameData.ts",["cc","./godFeatureTypes.ts"],(function(e){var n,i;return{setters:[function(e){n=e.cclegacy},function(e){i=e.GodFeatureTypes}],execute:function(){var t;n._RF.push({},"27a31UMRTRDlZbohVoiUp35","gameData",void 0);e("gameData",{specialSymbolValues:{wild:6,athena:7,ares:8},godTypePerColumn:[i.Athena,i.Athena,i.Athena,void 0,i.Ares,i.Ares,i.Ares],coinburst:{thresholds:{normal:{multiplier:5},big:{multiplier:20},super:{multiplier:50},mega:{multiplier:100}}},symbolCount:{normal:6,special:2,total:8},tension:{count:{bonus:2,wild:4}},gods:{maxBonusValue:40,transforms:(t={},t[i.Ares]={pot:{begin:136,end:289},coins:{hidden:86,begin:113,end:148}},t[i.Athena]={pot:{begin:150,end:286},coins:{hidden:60,begin:79,end:109}},t)},timings:{pre:{fast:100,winline:600,loop:600},winlines:{normal:{lineSpeed:3e3,perSymbol:75,perWinline:1e3},fast:{lineSpeed:5e3,perSymbol:40,perWinline:600},sound:{perWinline:400}}}});n._RF.pop()}}}));

System.register("chunks:///_virtual/gameInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./godFeatureTypes.ts","./gameplayModel.ts"],(function(e){var n,t,o,a,l,r,i,p,d,u,s,c,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,i=e.input,p=e.Input,d=e.KeyCode,u=e.Component},function(e){s=e.PlayfieldModel},function(e){c=e.GodFeatureTypes},function(e){y=e.GameplayModel}],execute:function(){var g,f,m,M,h,C,b;l._RF.push({},"34a09f3Bx9LKoQ9+ObUDAgE","gameInput",void 0);var I=r.ccclass,_=r.property;e("GameInput",(g=I("GameInput"),f=_(s),m=_(y),g((C=n((h=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,o(n,"playfieldModel",C,a(n)),o(n,"gameplayModel",b,a(n)),n}t(n,e);var l=n.prototype;return l.onLoad=function(){var e=this;i.on(p.EventType.KEY_UP,(function(n){n.keyCode===d.SPACE&&e.gameplayModel.startRound(e.playfieldModel),n.keyCode===d.KEY_R&&e.gameplayModel.changeReelSpinDirection(),n.keyCode===d.NUM_1&&(e.gameplayModel.increaseBackgroundIndex(),e.gameplayModel.updateTextures()),n.keyCode===d.NUM_2&&(e.gameplayModel.increaseGridIndex(),e.gameplayModel.updateTextures()),n.keyCode===d.KEY_B&&e.gameplayModel.bonusFeatureTrigger(c.Ares),n.keyCode===d.KEY_N&&e.gameplayModel.bonusFeatureTrigger(c.Athena)}))},l.start=function(){this.playfieldModel=this.node.scene.getComponentInChildren(s),this.gameplayModel=this.node.scene.getComponentInChildren(y)},n}(u)).prototype,"playfieldModel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(h.prototype,"gameplayModel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=h))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/gameMechanics.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"757934qbdRKz6VcZN4Xkxh+","gameMechanics",void 0);e("gameMechanics",{stakes:[25,50,75,100,200,500,1e3]});c._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayCalculations.ts",["cc","./coinData.ts","./gameData.ts","./godFeatureTypes.ts"],(function(e){var o,a,l,t;return{setters:[function(e){o=e.cclegacy},function(e){a=e.CoinTypes},function(e){l=e.gameData},function(e){t=e.idToGodFeatureType}],execute:function(){e({addGodCoinsToCoinsResult:function(e,o){for(var n=o.reelsData.playFieldDimensions.columns,u=0;u<n;u++){for(var i,p=r({columnId:u,godValue:null!=(i=l.specialSymbolValues[l.godTypePerColumn[u]])?i:0,reelsData:o.reelsData}),d=s({jackpotTypePerColumn:o.jackpotTGodTypePerColumn,reelsData:o.reelsData}),c=[],v=0;v<o.reelsData.playFieldDimensions.rows[u].total;v++){var f,h=p[v].value,m=e[u][v];if(h>0&&o.hasGodInReels[u])c.push({coinType:a.God,valueType:t[h]});else if(void 0!==(null==m?void 0:m.coinType)&&(null==(f=d[u][v])?void 0:f.coinType)!==a.Jackpot||!o.hasGodInReels[u])c.push(m);else{var y=d[u][v];c.push({coinType:y.coinType,valueType:y.valueType})}}e[u]=c}return e},drawGodsInReels:function(e,o,a){for(var l=[],t=a?10:12,n=0;n<e;n++)if(o.includes(n))l.push(!1);else{var r=Math.floor(100*Math.random());l.push(t>r)}return l},generateGodReelResult:n,generateGodReelsResult:function(e){for(var o=[],a=0;a<e.reelsData.playFieldDimensions.columns;a++){var l,t,r;o.push(n({columnId:a,godValue:null!=(l=e.godValuePerColumn[a])?l:0,reelsData:e.reelsData,hasGodColumn:!!e.hasGodInReels&&(null!=(t=null==(r=e.hasGodInReels)?void 0:r[a])&&t),isEndResult:e.isEndResult}))}return o},generateGodResult:r,generateJackpotCoinsResult:s,updateGodReelsResult:function(e,o){for(var a=0;a<e.length;a++)if(o.hasGodInReels[a]){for(var l=e[a],t=Math.floor(Math.random()*l.length),n=l[t],r=[],s=0;s<l.length;s++)r.push(n);e[a]=r}return e}}),o._RF.push({},"bb4f1E83lhGIYtA/FVPrOqi","gameplayCalculations",void 0);function n(e){var o=e.reelsData.playFieldDimensions.rows[e.columnId];if(e.isEndResult){for(var a=[],l=.5*(o.total-o.visible),t=0;t<o.total;t++)a.push({value:t===l&&e.hasGodColumn?e.godValue:0});return a.reverse()}var n=2*o.visible,r=Math.floor(Math.random()*n);return Array.from({length:o.total}).map((function(o,a){return{value:a===r?e.godValue:0}}))}function r(e){for(var o=e.reelsData.playFieldDimensions.rows[e.columnId],a=[],l=Math.floor((o.total-o.visible)/2),t=l+o.visible,n=Array.from({length:o.total}).map((function(e,o){var a=Math.floor(100*Math.random());return o>=l&&o<t&&20>a?1:0})),r=0;r<o.total;r++)a.push({value:n[r]>0?e.godValue:0});return a}function s(e){for(var o=[],l=e.reelsData.playFieldDimensions.columns,t=function(){for(var l=e.reelsData.playFieldDimensions.rows[n],t=Math.floor((l.total-l.visible)/2),r=t+l.visible,s=Array.from({length:l.total}).map((function(e,o){var a=Math.floor(100*Math.random());return o>=t&&o<r&&12>a?1:0})),u=[],i=0;i<l.total;i++){var p=s[i]>0;if(e.jackpotTypePerColumn||e.jackpotTypes){var d,c,v,f,h=Math.floor(Math.random()*(null!=(d=null!=(c=null==(v=e.jackpotTypes)?void 0:v.length)?c:null==(f=e.jackpotTypePerColumn)?void 0:f.length)?d:0)),m=e.jackpotTypePerColumn?e.jackpotTypePerColumn[n]:e.jackpotTypes[h];u.push({coinType:p?a.Jackpot:void 0,valueType:p?m:void 0})}else console.error("No jackpot types or jackpot type per column")}o.push(u)},n=0;n<l;n++)t();return o}o._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,r=t.Component}],execute:function(){var c;a._RF.push({},"bbf4eui7iNI0IqN92qkjJbs","gameplayData",void 0);var o=n.ccclass;t("GameplayData",o("GameInput")(c=function(t){function a(){return t.apply(this,arguments)||this}return e(a,t),a}(r))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./events.ts","./playfieldUpdate.ts","./godFeatureTypes.ts","./gameData.ts","./hudComponent.ts","./hudModel.ts","./coinData.ts"],(function(e){var n,t,r,i,o,a,u,s,l,c,d,p,h,g,f,b,m,y,C,v,k,M,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,l=e.CCBoolean,c=e.Sprite,d=e.SpriteFrame,p=e.CCFloat,h=e.randomRangeInt,g=e.Component},function(e){f=e.moveCoinCompleteSignal,b=e.changeReelSpinDirectionSignal,m=e.godFeatureSignal},function(e){y=e.playfieldUpdate},function(e){C=e.GodFeatureTypes},function(e){v=e.gameData},function(e){k=e.HudComponent},function(e){M=e.HudModel},function(e){w=e.CoinTypes}],execute:function(){var x,z,B,F,I,S,D,R,T,G,A,H,L,V,_,P,U,j,J,K,N,O,Z;u._RF.push({},"3a7c15rI05KTZ1Npv1COlVJ","gameplayModel",void 0);var q=s.ccclass,E=s.property;e("GameplayModel",(x=q("GameplayModel"),z=E(k),B=E(M),F=E(l),I=E(l),S=E(c),D=E([d]),R=E(c),T=E([d]),G=E([p]),A=E(p),x((V=n((L=function(e){function n(){for(var n,t,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return t=e.call.apply(e,[this].concat(a))||this,r(t,"hudComponent",V,i(t)),r(t,"hudModel",_,i(t)),r(t,"canStartRound",P,i(t)),r(t,"reverse",U,i(t)),r(t,"background",j,i(t)),r(t,"backgrounds",J,i(t)),t.backgroundIndex=0,r(t,"grid",K,i(t)),r(t,"grids",N,i(t)),t.gridIndex=0,r(t,"stakes",O,i(t)),r(t,"startBalance",Z,i(t)),t.normalizedBonusFeatureValues=((n={})[C.Ares]=0,n[C.Athena]=0,n),t.showingCoins=!1,t.onMoveCoinCompleteBind=t.onMoveCoinCompleteHandler.bind(i(t)),t}t(n,e);var u=n.prototype;return u.onLoad=function(){this.hudComponent=this.node.scene.getComponentInChildren(k),f.addListener(this.onMoveCoinCompleteBind)},u.onDestroy=function(){f.removeListener(this.onMoveCoinCompleteBind)},u.start=function(){this.hudComponent.balance=this.startBalance,this.hudComponent.stakeMenu.populateMenu(this.stakes.map((function(e){return"€"+(.01*e).toFixed(2)}))),this.hudModel=this.hudComponent.getComponent(M)},u.startRound=function(){var e=o(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hudModel.hasSufficientBalance){e.next=3;break}return window.alert("Balance too low! Please, change stake."),e.abrupt("return");case 3:if(this.canStartRound){e.next=6;break}return console.warn("Cannot start round"),e.abrupt("return");case 6:return this.canStartRound=!1,console.log("start round"),e.next=10,y(n,this.reverse);case 10:console.log("end round"),this.canStartRound=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.increaseBackgroundIndex=function(){this.backgroundIndex++,this.backgroundIndex%=this.backgrounds.length},u.increaseGridIndex=function(){this.gridIndex++,this.gridIndex%=this.grids.length},u.changeReelSpinDirection=function(){this.reverse=!this.reverse,b.dispatch({reverse:this.reverse})},u.updateTextures=function(){this.grid.spriteFrame=this.grids[this.gridIndex],this.background.spriteFrame=this.backgrounds[this.backgroundIndex]},u.bonusFeatureTrigger=function(e){var n=h(3,7);this.normalizedBonusFeatureValues[e]=Math.min(this.normalizedBonusFeatureValues[e]+n/v.gods.maxBonusValue,1),m.dispatch({feature:e,addAmount:n})},u.onMoveCoinCompleteHandler=function(e){e.coinData.coinType===w.God&&(m.dispatch({feature:e.coinData.valueType,addAmount:1}),this.bonusFeatureTrigger(e.coinData.valueType))},n}(g)).prototype,"hudComponent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(L.prototype,"hudModel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(L.prototype,"canStartRound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=n(L.prototype,"reverse",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=n(L.prototype,"background",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(L.prototype,"backgrounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=n(L.prototype,"grid",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(L.prototype,"grids",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(L.prototype,"stakes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(L.prototype,"startBalance",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),H=L))||H));u._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./events.ts","./godFeatureTypes.ts","./gameData.ts","./godFeatureModel.ts"],(function(e){var t,o,n,i,r,a,s,u,d,l,p,c,g,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,u=e.Enum,d=e.tween,l=e.Vec3,p=e.Component},function(e){c=e.godFeatureSignal},function(e){g=e.GodFeatureTypes},function(e){f=e.gameData},function(e){h=e.GodFeatureModel}],execute:function(){var m,F,y,b,v,N,M,w,T,x,C;r._RF.push({},"8c755u0wCNA1qRD7awVP9ec","godFeatureComponent",void 0);var D=a.ccclass,P=a.property;e("GodFeatureComponent",(m=D("GodFeatureComponent"),F=P(h),y=P(s),b=P(s),v=P({type:u(g),visible:!0}),m((w=t((M=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"godFeatureModel",w,i(t)),n(t,"coinsNode",T,i(t)),n(t,"potNode",x,i(t)),n(t,"featureType",C,i(t)),t.godFeatureHandlerBind=t.godFeatureHandler.bind(i(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){c.addListener(this.godFeatureHandlerBind),this.godFeatureModel=this.node.addComponent(h),this.godFeatureModel.featureType=this.featureType,this.godFeatureModel.maxAmount=f.gods.maxBonusValue},r.onDestroy=function(){c.removeListener(this.godFeatureHandlerBind)},r.start=function(){this.reset()},r.godFeatureHandler=function(e){if(e.feature===this.featureType){var t=f.gods.transforms[this.featureType],o=e.addAmount/this.godFeatureModel.maxAmount;this.godFeatureModel.amountPercentage+=o;var n=.6;if(this.godFeatureModel.amountPercentage<=n){var i=t.pot.begin+(t.pot.end-t.pot.begin)*(this.godFeatureModel.amountPercentage/n);d(this.potNode).to(.25,{position:new l(this.potNode.position.x,i,0)},{easing:"quintOut"}).start()}else{var r=t.coins.begin+(t.coins.end-t.coins.begin)*((this.godFeatureModel.amountPercentage-n)/.4);d(this.coinsNode).to(.25,{position:new l(this.coinsNode.position.x,r,0)},{easing:"quintOut"}).start()}}},r.reset=function(){var e=f.gods.transforms[this.featureType];this.coinsNode.position.set(this.coinsNode.position.x,e.coins.hidden),this.potNode.position.set(this.potNode.position.x,e.pot.begin)},t}(p)).prototype,"godFeatureModel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"coinsNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"potNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"featureType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Athena}}),N=M))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./godFeatureTypes.ts"],(function(e){var t,n,o,r,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,r=e.Component},function(e){u=e.GodFeatureTypes}],execute:function(){o._RF.push({},"1c715wqnMhH5YhVG37XfDp9","godFeatureModel",void 0);e("GodFeatureModel",function(e){function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).featureType=u.Athena,t.amountPercentage=0,t.maxAmount=1,t}return t(o,e),n(o,[{key:"amount",get:function(){return this.amountPercentage*this.maxAmount}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/godFeatureTypes.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var r;t._RF.push({},"070caJ+dBRAh7/IQ/gSPxUi","godFeatureTypes",void 0);var a=e("GodFeatureTypes",function(e){return e.Athena="athena",e.Ares="ares",e}({}));e("godFeatureTypeToId",((r={})[a.Athena]=7,r[a.Ares]=8,r)),e("idToGodFeatureType",{7:a.Athena,8:a.Ares});t._RF.pop()}}}));

System.register("chunks:///_virtual/gridMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,n,i,l,t,r,T;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,l=o.Mask,t=o.GraphicsComponent,r=o.Color,T=o.Component}],execute:function(){var s;n._RF.push({},"cd5a6fWYEFFCKNc+PNzLyMR","gridMask",void 0);var a=i.ccclass,c=i.menu,u=i.executeInEditMode;o("GridMask",a("GridMask")(s=c("UI/GridMask")(s=u(s=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var i=n.prototype;return i.start=function(){this.drawGraphicsMask()},i.drawGraphicsMask=function(){var o=this.getComponent(l).getComponent(t);o.clear(),o.lineWidth=2,o.strokeColor=r.WHITE,o.fillColor=r.WHITE,o.moveTo(-596,165),o.lineTo(-429,168),o.lineTo(-429,227),o.lineTo(-269,227),o.lineTo(-269,280),o.lineTo(-94,280),o.lineTo(-94,345),o.lineTo(-34,345),o.lineTo(10,305),o.lineTo(50,345),o.lineTo(99,345),o.lineTo(99,280),o.lineTo(273,280),o.lineTo(273,227),o.lineTo(435,227),o.lineTo(435,166),o.lineTo(600,166),o.lineTo(600,-201),o.lineTo(434,-201),o.lineTo(434,-262),o.lineTo(271,-262),o.lineTo(271,-317),o.lineTo(99,-317),o.lineTo(99,-379),o.lineTo(-94,-379),o.lineTo(-94,-317),o.lineTo(-269,-317),o.lineTo(-269,-262),o.lineTo(-429,-262),o.lineTo(-429,-201),o.lineTo(-596,-201),o.close(),o.fill(),o.stroke()},n}(T))||s)||s)||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/hudComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./hudModel.ts","./dropdownMenu.ts","./events.ts"],(function(e){var n,t,o,i,a,u,l,r,d,c,s,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){u=e.cclegacy,l=e._decorator,r=e.Label,d=e.Component},function(e){c=e.HudModel},function(e){s=e.default},function(e){h=e.startRoundSignal}],execute:function(){var p,f,b,S,y,M,k,v,m,g,w;u._RF.push({},"ab21ehty6tHerJyn3+FwlhT","hudComponent",void 0);var V=l.ccclass,B=l.property;e("HudComponent",(p=V("HudComponent"),f=B(c),b=B(s),S=B(r),y=B(r),p((v=n((k=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return n=e.call.apply(e,[this].concat(a))||this,o(n,"hudModel",v,i(n)),o(n,"stakeMenu",m,i(n)),o(n,"balanceValue",g,i(n)),o(n,"wonValue",w,i(n)),n.onRoundStartBind=n.onRoundStart.bind(i(n)),n.onStakeSelectedBind=n.onStakeSelected.bind(i(n)),n}t(n,e);var u=n.prototype;return u.onLoad=function(){this.hudModel=this.addComponent(c),h.addListener(this.onRoundStartBind),this.stakeMenu.onOptionSelectedSignal.addListener(this.onStakeSelectedBind)},u.onDestroy=function(){var e;h.removeListener(this.onRoundStartBind),null==(e=this.stakeMenu)||null==(e=e.onOptionSelectedSignal)||e.removeListener(this.onStakeSelectedBind)},u.onRoundStart=function(){this.hudModel.hasSufficientBalance&&this.deductStake()},u.onStakeSelected=function(e){var n=e.replace("€",""),t=100*Number(n);this.hudModel.stake=t},u.deductStake=function(){var e=this.hudModel.balanceValue,n=this.hudModel.stake;this.balance=e-n},a(n,[{key:"balance",set:function(e){this.hudModel.balanceValue=e;var n=.01*e;this.balanceValue.string="€"+n.toFixed(2)}},{key:"won",set:function(e){this.hudModel.wonValue=e;var n=.01*e;this.wonValue.string="€"+n.toFixed(2)}}]),n}(d)).prototype,"hudModel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(k.prototype,"stakeMenu",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(k.prototype,"balanceValue",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(k.prototype,"wonValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=k))||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/hudModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,c=e.Component}],execute:function(){r._RF.push({},"39f45a2r3xBgr7YeTwI9mwG","hudModel",void 0);a.ccclass,a.property,e("HudModel",function(e){function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).balanceValue=0,t.wonValue=0,t.stake=0,t}return t(r,e),n(r,[{key:"hasSufficientBalance",get:function(){return this.balanceValue-this.stake>=0}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./events.ts","./jackpotTypes.ts","./jackpotModel.ts","./coinData.ts"],(function(t){var e,o,n,a,i,r,p,c,l,u,s,k,f,j,d,b,m,y,C,h,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,p=t._decorator,c=t.Node,l=t.Enum,u=t.RichText,s=t.CCFloat,k=t.instantiate,f=t.tween,j=t.Vec3,d=t.Sprite,b=t.Color,m=t.Component},function(t){y=t.moveCoinCompleteSignal},function(t){C=t.JackpotTypes},function(t){h=t.JackpotModel},function(t){M=t.CoinTypes}],execute:function(){var v,g,V,J,T,w,z,L,x,D,S,H,B,F,_,R,E;r._RF.push({},"22ef1MM2EJJMrakJ6H1k64H","jackpotComponent",void 0);var P=p.ccclass,U=p.property;t("JackpotComponent",(v=P("JackpotComponent"),g=U(h),V=U(c),J=U({type:l(C)}),T=U(u),w=U(s),z=U(s),L=U(s),v((S=e((D=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"jackpotModel",S,a(e)),n(e,"jackpotCoin",H,a(e)),n(e,"jackpotType",B,a(e)),n(e,"jackpotValueLabel",F,a(e)),n(e,"jackpotStartValue",_,a(e)),n(e,"jackpotMaxValue",R,a(e)),n(e,"contributionMultiplier",E,a(e)),e.moveCoinCompleteBind=e.onMoveCoinCompleteHandler.bind(a(e)),e}o(e,t);var r=e.prototype;return r.onLoad=function(){y.addListener(this.moveCoinCompleteBind),this.jackpotModel=this.addComponent(h),this.jackpotModel.jackpotType=this.jackpotType,this.jackpotModel.jackpotMinValue=this.jackpotStartValue,this.jackpotModel.jackpotMaxValue=this.jackpotMaxValue,this.jackpotModel.contributionMultiplier=this.contributionMultiplier},r.onDestroy=function(){y.removeListener(this.moveCoinCompleteBind)},r.updateJackpot=function(t){},r.payoutJackpot=function(){},r.onMoveCoinCompleteHandler=function(t){t.coinData.coinType===M.Jackpot&&t.coinData.valueType===this.jackpotType&&this.animateJackpotCoin()},r.animateJackpotCoin=function(){var t=k(this.jackpotCoin);t.parent=this.node,f(t).to(.3,{scale:new j(3,3,1)},{onComplete:function(){t.destroy()}}).start();var e=t.getComponent(d),o=e.color,n={alpha:e.color.a};f(n).to(.25,{alpha:0},{easing:"linear",onUpdate:function(){e.color=new b(o.r,o.g,o.b,n.alpha)}}).start()},i(e,[{key:"jackpotValue",set:function(t){this.jackpotModel.jackpotValue=t;var e=.01*t;this.jackpotValueLabel.string=e.toFixed(2)}}]),e}(m)).prototype,"jackpotModel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(D.prototype,"jackpotCoin",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(D.prototype,"jackpotType",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.Unreal}}),F=e(D.prototype,"jackpotValueLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(D.prototype,"jackpotStartValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),R=e(D.prototype,"jackpotMaxValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e5}}),E=e(D.prototype,"contributionMultiplier",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),x=D))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./jackpotTypes.ts"],(function(t){var e,o,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.Component},function(t){c=t.JackpotTypes}],execute:function(){o._RF.push({},"de2acGns+9HKrULlGiSH+TJ","jackpotModel",void 0);t("JackpotModel",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).jackpotValue=0,e.jackpotType=c.Unreal,e.jackpotMinValue=1e4,e.jackpotMaxValue=1e5,e.contributionMultiplier=1,e}return e(o,t),o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/jackpotTypes.ts",["cc","./godFeatureTypes.ts"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy},function(e){t=e.GodFeatureTypes}],execute:function(){var o;r._RF.push({},"5b5cbRhZZtKYKp5ZSo334le","jackpotTypes",void 0);var a=e("JackpotTypes",function(e){return e.Unreal="unreal",e.Divine="divine",e.Heroic="heroic",e.Warlord="warlord",e.Athena="athena",e.Ares="ares",e.Godlike="godlike",e}({}));e("jackpotIdToJackpotType",{0:a.Unreal,1:a.Divine,2:a.Heroic,3:a.Warlord,4:a.Athena,5:a.Ares,6:a.Godlike}),e("godToJackpotType",((o={})[t.Athena]=a.Athena,o[t.Ares]=a.Ares,o));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./DropdownMenuCreator.ts","./coinComponent.ts","./coinData.ts","./godFeatureComponent.ts","./godFeatureModel.ts","./jackpotComponent.ts","./jackpotModel.ts","./game.ts","./gameInput.ts","./gameplayCalculations.ts","./gameplayData.ts","./gameplayModel.ts","./playfieldComponent.ts","./playfieldModel.ts","./playfieldUpdate.ts","./randomizer.ts","./reelAnimations.ts","./reelArgs.ts","./reelComponent.ts","./reelConfig.ts","./reelContext.ts","./reelModel.ts","./reelService.ts","./reelStatus.ts","./resize.ts","./responsive.ts","./symbolModel.ts","./symbolNode.ts","./symbolPosition.ts","./gameData.ts","./gameMechanics.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./reelsData.ts","./specialSymbols.ts","./symbolAnimationData.ts","./symbols.ts","./tumbleSymbolData.ts","./winData.ts","./dropdownMenu.ts","./hudComponent.ts","./hudModel.ts","./playButton.ts","./array.ts","./arrayUtils.ts","./curveTween.ts","./events.ts","./gridMask.ts","./promise.ts","./resolvablePromise.ts","./signal.ts","./uniqueId.ts","./view.ts","./wait.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/playButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./gameplayModel.ts"],(function(e){var t,n,o,l,i,a,r,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.Component},function(e){p=e.PlayfieldModel},function(e){c=e.GameplayModel}],execute:function(){var u,s,d,y,f,h,g;i._RF.push({},"76c9aK+Be9CGYM5bigFfscp","playButton",void 0);var m=a.ccclass,M=a.property;e("PlayButtonComponent",(u=m("PlayButtonComponent"),s=M(p),d=M(c),u((h=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"playfieldModel",h,l(t)),o(t,"gameplayModel",g,l(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.gameplayModel=this.node.scene.getComponentInChildren(c),this.playfieldModel=this.node.scene.getComponentInChildren(p)},i.onClick=function(){this.gameplayModel.startRound(this.playfieldModel)},t}(r)).prototype,"playfieldModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(f.prototype,"gameplayModel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playfieldModel.ts","./events.ts","./godFeatureTypes.ts","./jackpotTypes.ts","./coinData.ts","./gameData.ts"],(function(e){var l,o,t,i,n,r,a,s,u,d,p,y,c,b,f,m,h,g,v,C,R;return{setters:[function(e){l=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,t=e.inheritsLoose,i=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,a=e._decorator,s=e.Enum,u=e.Prefab,d=e.Node,p=e.instantiate,y=e.Component},function(e){c=e.PlayfieldModel},function(e){b=e.setReelSignal,f=e.setReelsSignal,m=e.startRoundSignal,h=e.playfieldLoadedSignal},function(e){g=e.GodFeatureTypes},function(e){v=e.JackpotTypes},function(e){C=e.CoinTypes},function(e){R=e.gameData}],execute:function(){var S,w,M,P,k,z,D,H,G,B,I,L,N,j,T,F,V,_,A,J,q,E,U,x,O,W,K,Q,X,Y,Z,$,ee,le,oe,te,ie,ne,re,ae,se,ue,de,pe,ye,ce,be,fe,me,he,ge;r._RF.push({},"a5316/tumhGBr0qgDLqj8SV","playfieldComponent",void 0);var ve=a.ccclass,Ce=a.property,Re=(S=ve("GodCoins"),w=Ce({type:s(g)}),M=Ce(u),S((z=l((k=function(){o(this,"type",z,this),o(this,"prefab",D,this)}).prototype,"type",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Athena}}),D=l(k.prototype,"prefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k))||P),Se=(H=ve("JackpotCoins"),G=Ce({type:s(v)}),B=Ce(u),H((N=l((L=function(){o(this,"type",N,this),o(this,"prefab",j,this)}).prototype,"type",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Unreal}}),j=l(L.prototype,"prefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I),we=(T=ve("FeatureNode"),F=Ce({type:s(g)}),V=Ce(d),T((J=l((A=function(){o(this,"type",J,this),o(this,"node",q,this)}).prototype,"type",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Athena}}),q=l(A.prototype,"node",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_),Me=(E=ve("JackpotNode"),U=Ce({type:s(v)}),x=Ce(d),E((K=l((W=function(){o(this,"type",K,this),o(this,"node",Q,this)}).prototype,"type",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Unreal}}),Q=l(W.prototype,"node",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=W))||O);e("PlayfieldComponent",(X=ve("PlayfieldComponent"),Y=Ce(c),Z=Ce([u]),$=Ce(d),ee=Ce([u]),le=Ce(u),oe=Ce(d),te=Ce({type:[we],visible:!0}),ie=Ce({type:[Me],visible:!0}),ne=Ce({type:[Re],visible:!0}),re=Ce({type:[Se],visible:!0}),X((ue=l((se=function(e){function l(){for(var l,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l=e.call.apply(e,[this].concat(n))||this,o(l,"playfieldModel",ue,i(l)),o(l,"symbolPrefab",de,i(l)),o(l,"symbolColumns",pe,i(l)),o(l,"godSymbolPerColumn",ye,i(l)),o(l,"emptySymbolPerColumn",ce,i(l)),o(l,"godColumns",be,i(l)),o(l,"featureCoinDrops",fe,i(l)),o(l,"jackpotCoinDrops",me,i(l)),o(l,"godCoins",he,i(l)),o(l,"jackpotCoins",ge,i(l)),l.setReelHandlerBind=l.setReelHandler.bind(i(l)),l.setReelsHandlerBind=l.setReelsHandler.bind(i(l)),l.startRoundHandlerBind=l.startRoundHandler.bind(i(l)),l}t(l,e);var r=l.prototype;return r.onLoad=function(){this.playfieldModel=this.node.addComponent(c);var e=this.godSymbolPerColumn.map((function(e){var l,o;return Number(null!=(l=null==(o=e.name.match(/symbol(\d+)_/))?void 0:o[1])?l:0)}));this.playfieldModel.createReels(this.symbolColumns,this.godColumns,e.map((function(e){return R.godTypePerColumn[e]})));for(var l=0;l<this.playfieldModel.reels.length;l++)this.playfieldModel.reels[l].setNewSymbolCallback=this.setNewSymbol.bind(this),this.playfieldModel.reels[l].clearSymbolCallback=this.clearSymbol.bind(this);for(var o=0;o<this.playfieldModel.godReels.length;o++)this.playfieldModel.godReels[o].setNewSymbolCallback=this.setNewGodSymbol.bind(this),this.playfieldModel.godReels[o].clearSymbolCallback=this.clearSymbol.bind(this);b.addListener(this.setReelHandlerBind),f.addListener(this.setReelsHandlerBind),m.addListener(this.startRoundHandlerBind);for(var t,i=n(this.featureCoinDrops);!(t=i()).done;){var r=t.value;this.playfieldModel.featureCoinDropPositions[r.type]=r.node}for(var a,s=n(this.jackpotCoinDrops);!(a=s()).done;){var u=a.value;this.playfieldModel.jackpotCoinDropPositions[u.type]=u.node}h.dispatch()},r.onDestroy=function(){b.removeListener(this.setReelHandlerBind),f.removeListener(this.setReelsHandlerBind),m.removeListener(this.startRoundHandlerBind);for(var e=0;e<this.playfieldModel.reels.length;e++)this.playfieldModel.reels[e].setNewSymbolCallback=void 0,this.playfieldModel.reels[e].clearSymbolCallback=void 0;for(var l=0;l<this.playfieldModel.godReels.length;l++)this.playfieldModel.godReels[l].setNewSymbolCallback=void 0,this.playfieldModel.godReels[l].clearSymbolCallback=void 0},r.setNewSymbol=function(e,l,o,t){var i,n;if(e.symbolView){var r=e.symbolView;e.removeSymbol(r)}var a=l-1,s=o?o.coinType===C.God?null==(i=this.godCoins.find((function(e){return e.type===o.valueType})))?void 0:i.prefab:null==(n=this.jackpotCoins.find((function(e){return e.type===o.valueType})))?void 0:n.prefab:void 0;void 0!==s&&t&&console.error("coin",s,"coinData",o);var u=p(this.symbolPrefab[a]);return e.addSymbol(u,l,s),Promise.resolve()},r.setNewGodSymbol=function(e,l,o,t){var i=this.playfieldModel.currentRowInGodReelResults[e.columnId];if(e.symbolView){var n=e.symbolView;e.removeSymbol(n)}var r=l;t||(r=this.playfieldModel.rollingGodReelResults[e.columnId].length>i?this.playfieldModel.rollingGodReelResults[e.columnId][i].value:0);var a=0===r?this.emptySymbolPerColumn:this.godSymbolPerColumn[e.columnId],s=p(a);return e.addSymbol(s,r),this.playfieldModel.currentRowInGodReelResults[e.columnId]++,Promise.resolve()},r.clearSymbol=function(e){e.children.forEach((function(l){e.removeSymbol(l)}))},r.setReelHandler=function(e){for(var l=[],o=0;o<e.symbolsColumn.length;o++){var t,i=e.symbolsColumn[o];null!=i&&null!=(t=i.meta)&&t.oldSymbolValue?l.push(i.meta.oldSymbolValue):l.push(e.symbolsColumn[o].value)}e.isGodReel?this.playfieldModel.godReels[e.columnId].setReel(l,e,!0):this.playfieldModel.reels[e.columnId].setReel(l,e,!0)},r.setReelsHandler=function(e){for(var l=0;l<e.symbols.length;l++){var o,t=e.symbols[l];b.dispatch({symbolsColumn:t,columnId:l,coinData:null==e||null==(o=e.coinsData)?void 0:o[l],isGodReel:e.isGodReels,comesFromMediator:e.comesFromMediator})}},r.startRoundHandler=function(){this.playfieldModel.createBonusSymbolsWhenRolling()},l}(y)).prototype,"playfieldModel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=l(se.prototype,"symbolPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=l(se.prototype,"symbolColumns",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=l(se.prototype,"godSymbolPerColumn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=l(se.prototype,"emptySymbolPerColumn",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=l(se.prototype,"godColumns",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=l(se.prototype,"featureCoinDrops",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=l(se.prototype,"jackpotCoinDrops",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=l(se.prototype,"godCoins",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=l(se.prototype,"jackpotCoins",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=se))||ae));r._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelService.ts","./reelStatus.ts","./reelsData.ts","./gameData.ts","./array.ts","./reelContext.ts","./events.ts","./gameplayCalculations.ts","./jackpotTypes.ts","./godFeatureTypes.ts"],(function(e){var t,l,n,s,o,r,i,u,a,c,d,h,f,y,p,g,b,m,R,v,S,M,k,w,D,I,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,r=e.createClass,i=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,d=e.Component},function(e){h=e.ReelService},function(e){f=e.ReelStatus},function(e){y=e.reelsData,p=e.bonusReelsData},function(e){g=e.gameData},function(e){b=e.flatMap},function(e){m=e.ReelContext},function(e){R=e.setReelsUpdateSignal,v=e.changeReelSpinDirectionSignal,S=e.stopReelSignal,M=e.setReelSignal},function(e){k=e.drawGodsInReels,w=e.generateGodReelResult},function(e){D=e.JackpotTypes},function(e){I=e.GodFeatureTypes,V=e.godFeatureTypeToId}],execute:function(){var C,B,G,F,H,T,A;a._RF.push({},"f6832m6lmBBCaY2XURVq4Vs","playfieldModel",void 0);var U=c.ccclass,E=c.property;e("PlayfieldModel",(C=U("PlayfieldModel"),B=E([h]),G=E([h]),C((T=t((H=function(e){function t(){for(var t,l,o,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return o=e.call.apply(e,[this].concat(i))||this,n(o,"reels",T,s(o)),n(o,"godReels",A,s(o)),o.featureCoinDropPositions=((t={})[I.Athena]=void 0,t[I.Ares]=void 0,t),o.jackpotCoinDropPositions=((l={})[D.Unreal]=void 0,l[D.Divine]=void 0,l[D.Heroic]=void 0,l[D.Warlord]=void 0,l[D.Athena]=void 0,l[D.Ares]=void 0,l[D.Godlike]=void 0,l),o.showGodInRollingReel=[],o.rollingGodReelResults=[],o.currentRowInGodReelResults=[],o.setReelsUpdateHandlerBind=o.setReelsUpdateHandler.bind(s(o)),o.changeReelSpinDirectionHandlerBind=o.changeReelSpinDirectionHandler.bind(s(o)),o}l(t,e);var a=t.prototype;return a.onLoad=function(){R.addListener(this.setReelsUpdateHandlerBind),v.addListener(this.changeReelSpinDirectionHandlerBind)},a.onDestroy=function(){R.removeListener(this.setReelsUpdateHandlerBind),v.removeListener(this.changeReelSpinDirectionHandlerBind)},a.setReelsUpdateHandler=function(e){var t=this;this.reels.forEach((function(l){l.shouldUpdate=e.enable,l.reelStopCallback=t.setReelResult.bind(t)})),this.godReels.forEach((function(l){l.shouldUpdate=e.enable,l.reelStopCallback=t.setGodReelResult.bind(t)}))},a.changeReelSpinDirectionHandler=function(e){this.reels.forEach((function(t){t.reverse=e.reverse})),this.godReels.forEach((function(t){t.reverse=e.reverse,t.isBonusReel=t.reelModel.isBonusReel,t.bonusValue=t.reelModel.bonusValue}))},a.isReversedReels=function(){return this.reels.every((function(e){return e.reverse}))},a.setReelResult=function(){var e=i(u().mark((function e(t,l){var n,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.dispatch({columnId:t,useTween:!0,reverse:this.reels[t].reverse}),n=this.reels[t].reelModel.result,s=this.reels[t].reelModel.resultCoins,M.dispatch({symbolsColumn:n,columnId:t,coinData:s,comesFromMediator:!0}),this.allReelsStopped&&this.reels.forEach((function(e){return e.shouldUpdate=!1}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,l){return e.apply(this,arguments)}}(),a.setGodReelResult=function(){var e=i(u().mark((function e(t,l){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.dispatch({columnId:t,useTween:!0,reverse:this.godReels[t].reverse,isGodReel:!0}),n=this.godReels[t].reelModel.result,M.dispatch({symbolsColumn:n,columnId:t,comesFromMediator:!0,isGodReel:!0}),this.allBonusReelsStopped&&this.godReels.forEach((function(e){return e.shouldUpdate=!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,l){return e.apply(this,arguments)}}(),a.hasWildInColumn=function(e){return this.reels[e].getVisibleSymbols(g.specialSymbolValues.wild).length>0},a.getIsWildSymbolInWin=function(e,t){return e.value===g.specialSymbolValues.wild&&t.filter((function(t){return e.symbolPosition.colId<=t.symbols.length-1})).length>0},a.createReels=function(e,t,l){for(var n=0;n<y.playFieldDimensions.columns;n++){this.reels.push(this.createReel({reelsData:y,columnId:n,columns:e}));var s=l[n];this.godReels.push(this.createReel({reelsData:p,columnId:n,columns:t,isGodReel:!0,godType:s}))}},a.createReel=function(e){var t=new m;return t.init(e),e.columns.addChild(t),t.service},a.reset=function(){this.reels.forEach((function(e){e.resetReel()})),this.godReels.forEach((function(e){e.resetReel()}))},a.setSymbols=function(e,t){for(var l=0;l<e.length;l++){var n=e[l];n.length>=y.playFieldDimensions.rows[l].visible&&(this.reels[l].reelModel.result=n,this.reels[l].reelModel.resultCoins=t[l])}},a.setGodSymbols=function(e){for(var t=0;t<e.length;t++){var l=e[t];l.length>=p.playFieldDimensions.rows[t].visible&&(this.godReels[t].reelModel.result=l)}},a.setResultOfReel=function(e,t){if(!(e.length<y.playFieldDimensions.rows[t].total))for(var l=0;l<e.length;l++)this.reels[t].reelModel.result[l]={value:e[l]}},a.setBonusResultOfReel=function(e,t){if(!(e.length<p.playFieldDimensions.rows[t].total))for(var l=0;l<e.length;l++)this.godReels[t].reelModel.result[l]={value:e[l]}},a.getSymbolIdsFromWinline=function(e){for(var t=0,l=[];t<e.length;){var n=e[t],s=this.getSymbolViewByPosition(t,n,!0);t++,s&&l.push(s.symbolModel.symbolId)}return l},a.getSymbolViewByPosition=function(e,t,l){if(void 0===l&&(l=!1),!(e>=this.reels.length||e<0)){var n=l?this.reels[e].reelModel.visibleSymbols:this.reels[e].reelModel.symbols;if(!(t>=n.length||t<0)){var s=n.find((function(e){return e.symbolModel.value===g.specialSymbolValues.wild}));return null!=s?s:n[t]}}},a.getSymbolViewBySymbolId=function(e){for(var t,l=this,n=[],s=function(){var e=t.value;l.reels.forEach((function(t){var l=t.reelModel.visibleSymbols.find((function(t){return t.symbolModel.symbolId===e}));l&&n.push(l)}))},r=o(e);!(t=r()).done;)s();return n},a.getSymbolContainerBySymbolId=function(e){for(var t,l=this,n=[],s=function(){var e=t.value;l.reels.forEach((function(t){var l=t.reelModel.visibleSymbols.find((function(t){return t.symbolModel.symbolId===e}));l&&n.push(l)}))},r=o(e);!(t=r()).done;)s();return n},a.resetRollingBonusReel=function(){this.currentRowInGodReelResults=Array(this.godReels.length).fill(0),this.rollingGodReelResults=[],this.showGodInRollingReel=[]},a.createBonusSymbolsWhenRolling=function(){this.resetRollingBonusReel();for(var e=k(this.godReels.length,[3]),t=0;t<e.length;t++){var l,n=e[t];this.showGodInRollingReel.push(n);var s=n&&null!=(l=V[g.godTypePerColumn[t]])?l:0,o=w({columnId:t,godValue:s,reelsData:p,hasGodColumn:n});this.rollingGodReelResults.push(o)}},r(t,[{key:"visibleResults",get:function(){return this.reels.map((function(e){return e.reelModel.visibleResult}))}},{key:"totalResults",get:function(){return this.reels.map((function(e){return e.reelModel.result}))}},{key:"visibleSymbolContainers",get:function(){return this.reels.map((function(e){return e.reelModel.visibleSymbols}))}},{key:"totalSybolContainers",get:function(){return this.reels.map((function(e){return e.reelModel.symbols}))}},{key:"tensionCount",get:function(){return this.reels.filter((function(e){return e.reelModel.hasTension})).length}},{key:"reelsRolling",get:function(){return this.reels.some((function(e){return e.reelModel.status===f.Rolling||e.reelModel.status===f.Started}))}},{key:"allReelsStopped",get:function(){return this.reels.every((function(e){return e.reelModel.status===f.Stopped}))}},{key:"allBonusReelsStopped",get:function(){return this.godReels.every((function(e){return e.reelModel.status===f.Stopped}))}},{key:"reelsStarted",get:function(){return this.reels.some((function(e){return e.reelModel.status===f.Started||e.reelModel.status===f.Rolling}))}},{key:"hasVisibleWildSymbols",get:function(){return this.visibleWildSymbols.length>0}},{key:"visibleWildSymbols",get:function(){return b(this.reels,(function(e){return e.getVisibleSymbols(g.specialSymbolValues.wild)}))}},{key:"hasWonGlobal",get:function(){for(var e=!0,t=0;t<this.reels.length;t++){if(this.reels[t].getVisibleSymbols(g.specialSymbolValues.wild).length<=0){e=!1;break}}return e}},{key:"hasVisibleAthenaSymbols",get:function(){return this.visibleAthenaSymbols.length>0}},{key:"visibleAthenaSymbols",get:function(){return b(this.reels,(function(e){return e.getVisibleSymbols(g.specialSymbolValues.athena)}))}},{key:"hasVisibleAresSymbols",get:function(){return this.visibleAresSymbols.length>0}},{key:"visibleAresSymbols",get:function(){return b(this.reels,(function(e){return e.getVisibleSymbols(g.specialSymbolValues.ares)}))}},{key:"visibleSymbols",get:function(){return b(this.reels,(function(e){return e.visibleSymbols}))}},{key:"invisibleSymbols",get:function(){return b(this.reels,(function(e){return e.invisibleSymbols}))}}]),t}(d)).prototype,"reels",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(H.prototype,"godReels",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=H))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/playfieldUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./randomizer.ts","./events.ts","./wait.ts","./reelsData.ts","./gameData.ts","./gameplayCalculations.ts","./coinData.ts","./jackpotTypes.ts","./arrayUtils.ts"],(function(e){var n,a,t,l,u,o,r,s,i,c,v,d,f,p,m,h,g,y,b,x,T,k,I,R,w;return{setters:[function(e){n=e.asyncToGenerator,a=e.regeneratorRuntime,t=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,u=e.Vec3},function(e){o=e.generateRandomSymbols,r=e.betterRandom},function(e){s=e.tumbleSymbolsSignal,i=e.popSymbolsSingal,c=e.animateGodSymbolSignal,v=e.showReelResultSignal,d=e.spinReelSignal,f=e.startRoundSignal,p=e.setReelsUpdateSignal,m=e.moveCoinSignal},function(e){h=e.wait},function(e){g=e.reelsData},function(e){y=e.gameData},function(e){b=e.generateJackpotCoinsResult,x=e.addGodCoinsToCoinsResult,T=e.updateGodReelsResult},function(e){k=e.CoinTypes},function(e){I=e.JackpotTypes,R=e.godToJackpotType},function(e){w=e.flatten}],execute:function(){function S(){return(S=n(a().mark((function e(t,l){var r,m,S,D,j,E,J,M,O,U,V;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.dispatch(),p.dispatch({enable:!0}),r=0;case 3:if(!(r<t.reels.length)){e.next=11;break}return e.next=6,h(10*(r+1));case 6:d.dispatch({columnId:r,useTween:!0,reverse:l}),d.dispatch({columnId:r,useTween:!0,reverse:l,isGodReel:!0});case 8:r++,e.next=3;break;case 11:return e.next=13,h(g.rollTime.normal);case 13:m=o(),S=[!1,!1,!0,!1,!1,!1,!1],D=b({jackpotTypes:[I.Unreal,I.Divine,I.Heroic,I.Warlord],reelsData:g}),console.error("coinsResult",structuredClone(D)),j=x(D,{jackpotTGodTypePerColumn:y.godTypePerColumn.map((function(e){return R[e]})),hasGodInReels:S,reelsData:g}),console.error("coinsResultWithGods",structuredClone(j)),E=w(j),console.error("jackpot coins length",E.filter((function(e){return e.coinType===k.Jackpot})).length),console.error("god coins length",E.filter((function(e){return e.coinType===k.God})).length),J=T(m,{hasGodInReels:S}),t.setSymbols(J,j),M=[[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:7},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}],[{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0},{value:0}]],t.setGodSymbols(M),O=0;case 27:if(!(O<t.reels.length)){e.next=35;break}return e.next=30,h(10*(O+1));case 30:v.dispatch({columnId:O}),v.dispatch({columnId:O,isGodReel:!0});case 32:O++,e.next=27;break;case 35:if(t.allReelsStopped){e.next=40;break}return e.next=38,h(10);case 38:e.next=35;break;case 40:return e.next=42,h(250);case 42:if(!M.some((function(e){return e.some((function(e){return e.value>0}))}))){e.next=47;break}for(U=0;U<t.godReels.length;U++)c.dispatch({colId:U});return e.next=47,h(250);case 47:if(!D.some((function(e){return e.some((function(e){return e.coinType===k.God}))}))){e.next=51;break}return C(t),e.next=51,h(400);case 51:if(!D.some((function(e){return e.some((function(e){return e.coinType===k.Jackpot}))}))){e.next=55;break}return G(t),e.next=55,h(800);case 55:V=P(t.totalResults,t,l);case 56:return e.next=58,Promise.all(V.map(n(a().mark((function e(n,o){var r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.dispatch({colId:n.colId,rows:n.removedIndices}),e.next=3,h(800);case 3:return s.dispatch({colId:n.colId,indices:n.remainingTumblePos.map((function(e){return e.index})),positions:n.remainingTumblePos.map((function(e){return e.shift}))}),r=t.reels[n.colId].context,c=l?120*-n.removedIndices.length:120*(n.og.length+1),n.removedIndices.forEach((function(e,a){var t=r.reelModel.symbols[e];r.service.setNewSymbolCallback(t,n.newValues[a],void 0,!0),t.scale=u.ONE,t.position=new u(0,c,0),c+=l?-120:120})),e.next=9,h(100);case 9:return s.dispatch({colId:n.colId,indices:n.newTumblePos.map((function(e){return e.index})),positions:n.newTumblePos.map((function(e){return e.shift}))}),e.next=12,h(800);case 12:return e.next=14,r.service.setReel(n.result,{comesFromMediator:!0},!0);case 14:t.setResultOfReel(n.result,n.colId);case 15:case"end":return e.stop()}}),e)})))));case 58:V=P(t.totalResults,t,l);case 59:if(V.length>0){e.next=56;break}case 60:t.reset();case 61:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){for(var n=e.featureCoinDropPositions,a=Object.keys(n).map((function(e){return e})),t=0;t<a.length;t++)m.dispatch({coinData:{coinType:k.God,valueType:a[t]},target:n[a[t]]})}function G(e){for(var n=e.jackpotCoinDropPositions,a=Object.keys(n).map((function(e){return e})),t=0;t<a.length;t++)m.dispatch({coinData:{coinType:k.Jackpot,valueType:a[t]},target:n[a[t]]})}function P(e,n,a){var l=[],u=Array(8).fill(0),o=new Set;return e.forEach((function(e){e.forEach((function(n,a){0!==a&&a!==e.length-1&&(u[n.value-1]++,u[n.value-1]>=8&&o.add(n.value))}))})),0===o.size||e.forEach((function(e,u){var s={colId:u,removedIndices:[],newValues:[],result:[],og:[],remainingTumblePos:[],newTumblePos:[]};e.forEach((function(n,a){0!==a&&a!==e.length-1&&o.has(n.value)&&s.removedIndices.push(a)}));for(var i=0,c=function(e,n,a,l){void 0===l&&(l=120);for(var u,o=new Array(e).fill(!1),r=t(n);!(u=r()).done;){o[u.value]=!0}var s=[];if(a)for(var i=0,c=e-1;c>=0;c--)o[c]?i++:i>0&&s.push({index:c,shift:i*l});else for(var v=0,d=0;d<e;d++)o[d]?v++:v>0&&s.push({index:d,shift:-v*l});return s}(e.length,s.removedIndices,a,120);i<c.length;i++){var v=c[i],d=v.index,f=v.shift,p=n.reels[u].reelModel.symbols[d];s.remainingTumblePos.push({index:d,shift:p.y+f})}var m=n.reels[u].reelModel;if(s.newTumblePos=function(e,n,a){if(0===n.length)return[];var t=[].concat(n).sort((function(e,n){return e-n})),l=[];if(a)for(var u=0;u<t.length;u++)l.push({index:t[u],shift:e.symbols[u].y});else for(var o=e.symbols.length-1,r=0;r<t.length;r++){var s=t[t.length-1-r];l.push({index:s,shift:e.symbols[o-r].y})}return l}(m,s.removedIndices,a),s.removedIndices.length>0){s.newValues=s.removedIndices.map((function(){return r()}));var h=[];e.forEach((function(e,n){-1===s.removedIndices.indexOf(n)&&h.push(e.value)})),s.result=a?[].concat(s.newValues,h):[].concat(h,s.newValues),s.og=e.map((function(e){return e.value})),l.push(s)}})),l}e("playfieldUpdate",(function(e,n){return S.apply(this,arguments)})),l._RF.push({},"512316B0etHfbb/hkqCM9IE","playfieldUpdate",void 0),l._RF.pop()}}}));

System.register("chunks:///_virtual/promise.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b70281IqwNGDp6pTtWQJb4r","promise",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/randomizer.ts",["cc","./reelsData.ts"],(function(e){var n,r,o;return{setters:[function(e){n=e.cclegacy},function(e){r=e.bonusReelsData,o=e.reelsData}],execute:function(){e({betterRandom:t,generateRandomSymbols:function(e){void 0===e&&(e=!1);for(var n=[],s=e?r.playFieldDimensions.rows:o.playFieldDimensions.rows,a=e?r.playFieldDimensions.columns:o.playFieldDimensions.columns,i=0;i<a;i++){for(var l=[],u=s[i].total,c=0;c<u;c++)l.push({value:t(e)});n.push(l.reverse())}return n}}),n._RF.push({},"43013uUXbVIAbMwkpPqNbOx","randomizer",void 0);var s=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6];function t(e){void 0===e&&(e=!1);var n=Math.floor(Math.random()*s.length);return e?0:s[n]}n._RF.pop()}}}));

System.register("chunks:///_virtual/reelAnimations.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelModel.ts"],(function(t){var e,n,a,r,i,o,u,s,c,l,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime,u=t.extends},function(t){s=t.cclegacy,c=t._decorator,l=t.Component,p=t.math},function(t){d=t.ReelModel}],execute:function(){var y,f,m,h,v;s._RF.push({},"abc707f8npEFYtEhEw+lQ1d","reelAnimations",void 0);var g=c.ccclass,w=c.property,F={easeOutQuad:function(t){return t*(2-t)},easeInQuad:function(t){return t*t},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)}},x=[{t:0,data:{y:0},easing:F.easeOutCirc},{t:200,data:{y:7},easing:F.easeOutCirc},{t:500,data:{y:0},easing:F.easeOutExpo}],A=[{t:0,data:{y:0},easing:F.easeOutQuad},{t:400,data:{y:-10},easing:F.easeOutQuad},{t:550,data:{y:0},easing:F.easeInQuad}];t("ReelAnimations",(y=g("ReelAnimations"),f=w(d),y((v=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).context=void 0,a(e,"model",v,r(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.model=this.node.getComponent(d)},s.init=function(t){this.context=t},s.tweenInOutReel=function(){var t=i(o().mark((function t(e){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.isIntro?A:x,n=r.map((function(t){return u({},t,{data:u({},t.data),easing:t.easing})})),a=new p.Vec3,this.node.getPosition(a),n[0].data.y=a.y,n[1].data.y=a.y+(e.reverse?n[1].data.y:-n[1].data.y),n[2].data.y=a.y,t.next=8,this.playTweenAsync({keyFrames:n,loopFunction:e.loopFunction});case 8:null==e.completeCallback||e.completeCallback(n[2].data);case 9:case"end":return t.stop()}var r}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.playTweenAsync=function(){var t=i(o().mark((function t(e){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.keyFrames,a=e.loopFunction,t.abrupt("return",new Promise((function(t){var e=performance.now(),r=n[n.length-1].t;requestAnimationFrame((function i(o){var u=o-e,s=function(t){for(var e=0;e<n.length-1;e++){var a=n[e],r=n[e+1];if(t>=a.t&&t<=r.t){var i=(t-a.t)/(r.t-a.t),o=r.easing(i);return a.data.y+(r.data.y-a.data.y)*o}}return n[n.length-1].data.y}(u);a({y:s}),u<r?requestAnimationFrame(i):t()}))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}(l)).prototype,"model",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/reelArgs.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"63d70JmV0lE9qAi93iBnjnh","reelArgs",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/reelComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolNode.ts","./reelStatus.ts","./randomizer.ts","./coinData.ts","./godFeatureTypes.ts","./jackpotTypes.ts"],(function(e){var o,n,t,s,r,l,i,a,c,u,d,m,v,h,f,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,i=e.CCFloat,a=e.tween,c=e.Vec3,u=e.Component},function(e){d=e.SymbolNode},function(e){m=e.ReelStatus},function(e){v=e.betterRandom},function(e){h=e.CoinTypes},function(e){f=e.GodFeatureTypes},function(e){y=e.JackpotTypes}],execute:function(){var p,b,R,w,g;r._RF.push({},"091dafsqBFNmr5IsfHuH9Ye","reelComponent",void 0);var C=l.ccclass,x=l.property;e("ReelComponent",(p=C("ReelComponent"),b=x(i),p((g=o((w=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(o=e.call.apply(e,[this].concat(r))||this).context=void 0,t(o,"columnId",g,s(o)),o}n(o,e);var r=o.prototype;return r.init=function(e){this.context=e;var o=e.reelModel;o.reelComponent=this,this.columnId=o.columnId,this.name=o.isBonusReel?"bonusReel_"+o.columnId:"reel_"+o.columnId;var n=o.config.reelsData.transform[o.columnId];this.node.x=n.x+(o.columnId-o.centerOffsetRatio.x)*n.w,this.node.y=n.y-o.centerOffsetRatio.y*n.h;for(var t=[],s=0;s<o.config.reelsData.playFieldDimensions.rows[this.columnId].total;s++){var r=new d;r.init(o.columnId+"_"+s,o.columnId,o.isBonusReel),this.node.addChild(r),r.y=s*n.h,t.push(r)}o.symbols=t},r.spinReelHandler=function(e,o){var n=this;return this.context.reelAnims.tweenInOutReel({isIntro:!0,reverse:o,fastPlay:e,loopFunction:function(e){n.context.reelComponent.node.y=e.y},completeCallback:function(e){n.context.reelComponent.node.y=e.y}})},r.stopReelHandler=function(e,o){var n=this;return this.context.reelAnims.tweenInOutReel({isIntro:!1,reverse:o,fastPlay:e,loopFunction:function(e){n.context.reelComponent.node.y=e.y},completeCallback:function(e){n.context.reelComponent.node.y=e.y}})},r.popSymbolHandler=function(e){var o=this,n=this.context.reelModel.symbols;e.forEach((function(e){var t=n[e];a(t).to(.1,{scale:new c(1.25,1.25,1)},{easing:"quadOut"}).to(.15,{scale:new c(0,0,0)},{easing:"quadIn"}).call((function(){o.context.service.clearSymbolCallback(t)})).start()}))},r.tumbleSymbolHandler=function(e){var o=this.context.reelModel.symbols[e.index];a(o).to(.5,{y:e.pos},{easing:"bounceOut"}).start()},r.updateReelHandler=function(e,o,n){var t=this.context.reelModel;if(t.status===m.Rolling)for(var s=t.symbols.length,r=t.config.reelsData.rollSpeed.y*e,l=0;l<s;l++){var i=t.symbols[l];i.y+=o.reverse?r:-r;var a=o.reverse?this.reverseSymbolAboveThreshold(i.y):this.symbolAboveThreshold(i.y);if(a.isAbove)if(i.y=a.resetYPos,this.reorganizeSymbols(t.symbols),t.showEndResult){var c,u,d,h;t.currentRow<0&&(t.currentRow=t.config.reelsData.playFieldDimensions.rows[t.columnId].visible-1);var f=t.result[t.currentRow],y=o.isBonusReel?void 0:null!=(c=null==(u=t.resultCoins)?void 0:u[t.currentRow])?c:void 0;this.context.service.setNewSymbolCallback(i,null!=(d=null==(h=f.meta)?void 0:h.oldSymbolValue)?d:f.value,y,!0).then((function(){t.currentRow>=0&&(t.currentRow--,t.currentRow<0&&(t.status=m.Stopping,null==n||n(t.config.columnId,t.hasTension),t.reelStoppedPromise.resolve()))}))}else{var p=o.isBonusReel?void 0:this.drawRandomCoin(10);this.context.service.setNewSymbolCallback(i,v(o.isBonusReel),p)}}},r.symbolAboveThreshold=function(e){var o=this.context.reelModel;return e<-120+o.endDeviationY?{isAbove:!0,resetYPos:o.endPositionY-120+o.endDeviationY}:{isAbove:e<-120,resetYPos:o.endPositionY-120}},r.reverseSymbolAboveThreshold=function(e){var o=this.context.reelModel;return e>=o.endPositionY-o.endDeviationY?{isAbove:!0,resetYPos:e-o.endPositionY-o.endDeviationY}:{isAbove:e>=o.endPositionY,resetYPos:e-o.endPositionY}},r.reorganizeSymbols=function(e){e.unshift(e.pop())},r.drawRandomCoin=function(e){if(!(Math.floor(100*Math.random())>e)){var o=Object.values(h)[Math.floor(Math.random()*Object.values(h).length)],n=Object.values(f)[Math.floor(Math.random()*Object.values(f).length)],t=Object.values(y)[Math.floor(Math.random()*Object.values(y).length)];return{coinType:o,valueType:o===h.God?n:t}}},o}(u)).prototype,"columnId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=w))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/reelConfig.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c595cHm3sJB+Kl/qREoodJl","reelConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/reelContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelAnimations.ts","./reelModel.ts","./reelService.ts","./reelComponent.ts"],(function(e){var n,t,o,i,l,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.Node},function(e){i=e.ReelAnimations},function(e){l=e.ReelModel},function(e){r=e.ReelService},function(e){s=e.ReelComponent}],execute:function(){t._RF.push({},"a6cdepSDvFI/5o4eGoZCWZc","reelContext",void 0);e("ReelContext",function(e){function t(){var n;return(n=e.call(this)||this).reelModel=n.addComponent(l),n.reelComponent=n.addComponent(s),n.reelAnims=n.addComponent(i),n.service=n.addComponent(r),n}return n(t,e),t.prototype.init=function(e){this.name=e.isGodReel?"bonusReel_"+e.columnId:"reel_"+e.columnId,this.reelModel.init(e),this.reelComponent.init(this),this.reelAnims.init(this),this.service.init(this)},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/reelModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolNode.ts","./reelComponent.ts","./reelStatus.ts","./resolvablePromise.ts"],(function(e){var t,n,o,i,l,r,s,u,a,c,f,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,s=e._decorator,u=e.CCFloat,a=e.CCBoolean,c=e.Component},function(e){f=e.SymbolNode},function(e){p=e.ReelComponent},function(e){h=e.ReelStatus},function(e){d=e.ResolvablePromise}],execute:function(){var y,m,b,g,R,v,w,C,D,z,k,M,S;r._RF.push({},"5f53az2J49GWJhefuz3ToJ1","reelModel",void 0);var F=s.ccclass,I=s.property;e("ReelModel",(y=F("ReelModel"),m=I([f]),b=I(u),g=I(a),R=I(a),v=I(p),y((D=t((C=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).config=void 0,t.result=void 0,t.resultCoins=void 0,t.status=h.Stopped,t.reelStoppedPromise=new d,o(t,"symbols",D,i(t)),o(t,"currentRow",z,i(t)),o(t,"hasTension",k,i(t)),o(t,"showEndResult",M,i(t)),o(t,"reelComponent",S,i(t)),t.endDeviationY=20,t}return n(t,e),t.prototype.init=function(e){this.config=e,this.currentRow=-1,this.hasTension=!1,this.showEndResult=!1},l(t,[{key:"isBonusReel",get:function(){return this.config.isGodReel}},{key:"bonusValue",get:function(){return this.config.godType}},{key:"visibleSymbols",get:function(){return this.symbols.slice(1,-1)}},{key:"visibleResult",get:function(){return this.result.slice(1,-1)}},{key:"columnId",get:function(){return this.config.columnId}},{key:"centerOffsetRatio",get:function(){return{x:Math.floor(this.config.reelsData.playFieldDimensions.columns/2),y:Math.floor(this.config.reelsData.playFieldDimensions.rows[this.columnId].visible/2)}}},{key:"endPositionY",get:function(){return this.config.reelsData.playFieldDimensions.rows[this.columnId].total*this.config.reelsData.transform[this.columnId].h}}]),t}(c)).prototype,"symbols",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"currentRow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"hasTension",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"showEndResult",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(C.prototype,"reelComponent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/reelsData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,l;return{setters:[function(e){t=e.extends},function(e){l=e.cclegacy}],execute:function(){l._RF.push({},"99c57bNQaVBSIObGdSt3mGy","reelsData",void 0);var s=e("reelsData",{transform:[{x:20,y:-140,w:180,h:120},{x:10,y:-74,w:180,h:120},{x:-5,y:-140,w:180,h:120},{x:0,y:-74,w:180,h:120},{x:5,y:-140,w:180,h:120},{x:-10,y:-74,w:180,h:120},{x:-20,y:-140,w:180,h:120}],rollTime:{normal:1e3,fast:250},rollSpeed:{x:0,y:2e3},tension:{speed:1e3,delay:{normal:1700,fast:1500}},playFieldDimensions:{columns:7,rows:[{total:5,visible:3},{total:6,visible:4},{total:7,visible:5},{total:8,visible:6},{total:7,visible:5},{total:6,visible:4},{total:5,visible:3}]},delayBetweenReels:{start:0,stop:0}});e("bonusReelsData",t({},s,{transform:[{x:20,y:-500,w:180,h:120},{x:10,y:-554,w:180,h:120},{x:-5,y:-740,w:180,h:120},{x:0,y:-74,w:180,h:120},{x:5,y:-740,w:180,h:120},{x:-10,y:-554,w:180,h:120},{x:-20,y:-500,w:180,h:120}],playFieldDimensions:{columns:7,rows:[{total:11,visible:3},{total:14,visible:4},{total:17,visible:5},{total:8,visible:6},{total:17,visible:5},{total:14,visible:4},{total:11,visible:3}]}}));l._RF.pop()}}}));

System.register("chunks:///_virtual/reelService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./reelStatus.ts","./wait.ts","./events.ts","./resolvablePromise.ts"],(function(e){var t,n,l,r,s,o,i,a,u,d,c,h,p,m,f,b;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,l=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e._decorator,a=e.Component},function(e){u=e.ReelStatus},function(e){d=e.wait},function(e){c=e.spinReelSignal,h=e.stopReelSignal,p=e.showReelResultSignal,m=e.popSymbolsSingal,f=e.tumbleSymbolsSignal},function(e){b=e.ResolvablePromise}],execute:function(){var y;o._RF.push({},"65f33Ty5qxLOLLMd3tzIRn7","reelService",void 0);var R=i.ccclass;i.property,e("ReelService",R("ReelService")(y=function(e){function o(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).context=void 0,t.shouldUpdate=!1,t.reverse=!1,t.isBonusReel=!1,t.bonusValue=void 0,t.setNewSymbolCallback=void 0,t.clearSymbolCallback=void 0,t.reelStopCallback=void 0,t.spinReelHandlerBind=t.spinReelHandler.bind(l(t)),t.stopReelHandlerBind=t.stopReelHandler.bind(l(t)),t.showReelResultHandlerBind=t.showReelResultHandler.bind(l(t)),t.popSymbolsHandlerBind=t.popSymbolsHandler.bind(l(t)),t.tumbleSymbolsHandlerBind=t.tumbleSymbolsHandler.bind(l(t)),t}t(o,e);var i=o.prototype;return i.init=function(e){this.context=e,c.addListener(this.spinReelHandlerBind),h.addListener(this.stopReelHandlerBind),p.addListener(this.showReelResultHandlerBind),m.addListener(this.popSymbolsHandlerBind),f.addListener(this.tumbleSymbolsHandlerBind)},i.onDestroy=function(){c.removeListener(this.spinReelHandlerBind),h.removeListener(this.stopReelHandlerBind),p.removeListener(this.showReelResultHandlerBind),m.removeListener(this.popSymbolsHandlerBind),f.removeListener(this.tumbleSymbolsHandlerBind)},i.getReelContext=function(){return this.context},i.resetReel=function(){this.reelModel.currentRow=-1,this.reelModel.hasTension=!1,this.reelModel.showEndResult=!1,this.reelModel.status=u.Stopped},i.spinReelHandler=function(){var e=r(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&!t.fastPlay&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:if(this.reelModel.reelStoppedPromise=new b,this.reelModel.status=u.Started,!t.useTween){e.next=7;break}return e.next=7,this.context.reelComponent.spinReelHandler(t.fastPlay,t.reverse);case 7:this.reelModel.status=u.Rolling;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.showReelResultHandler=function(){var e=r(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:return n=this.getTensionDelay(t),e.next=5,d(n);case 5:this.reelModel.showEndResult=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.popSymbolsHandler=function(e){this.reelModel.columnId!==e.colId||this.reelModel.isBonusReel||this.context.reelComponent.popSymbolHandler(e.rows)},i.tumbleSymbolsHandler=function(){var e=r(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reelModel.columnId===t.colId&&!this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:for(n=0;n<t.indices.length;n++)this.context.reelComponent.tumbleSymbolHandler({index:t.indices[n],pos:t.positions[n]});return e.next=5,d(500);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.getTensionDelay=function(e){return this.reelModel.hasTension&&e.tension?(e.fastPlay?this.reelModel.config.reelsData.tension.delay.fast:this.reelModel.config.reelsData.tension.delay.normal)*(e.fastPlay?1:e.tension.id):0},i.stopReelHandler=function(){var e=r(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.columnId===this.reelModel.columnId&&t.isGodReel===this.reelModel.isBonusReel){e.next=2;break}return e.abrupt("return");case 2:if(this.reelModel.status=u.Stopping,!t.useTween){e.next=6;break}return e.next=6,this.context.reelComponent.stopReelHandler(t.fastPlay,t.reverse);case 6:this.reelModel.status=u.Stopped;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.update=function(e){this.shouldUpdate&&this.updateReel(e)},i.updateReel=function(e){this.context.reelComponent.updateReelHandler(e,{reverse:this.reverse,isBonusReel:this.reelModel.isBonusReel},this.reelStopCallback)},i.setReel=function(){var e=r(s().mark((function e(t,n,l){var r,o,i=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.reelModel.config.reelsData.transform[this.reelModel.columnId].h,o=this.reelModel.symbols.map((function(e,s){var o;return e.y=s*r,i.setNewSymbolCallback(e,t[s],null==n||null==(o=n.coinData)?void 0:o[s],l).then((function(){e.symbolView&&(e.symbolModel.symbolPosition={colId:i.reelModel.columnId,rowId:s})}))})),e.next=4,Promise.all(o);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,l){return e.apply(this,arguments)}}(),i.getVisibleSymbols=function(e){return this.visibleSymbols.filter((function(t){return t.symbolModel.value===e}))},n(o,[{key:"reelModel",get:function(){return this.context.reelModel}},{key:"visibleSymbols",get:function(){return this.reelModel.symbols.slice(1,-1)}},{key:"invisibleSymbols",get:function(){return[this.reelModel.symbols[0],this.reelModel.symbols[this.reelModel.symbols.length-1]]}}]),o}(a))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/reelStatus.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d8a63e9t79MqKUOquhZ4vN0","reelStatus",void 0);t("ReelStatus",function(t){return t.Started="starting",t.Rolling="rolling",t.Stopping="stopping",t.Stopped="stopped",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/resize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,r=e.view,o=e.Component}],execute:function(){var s;i._RF.push({},"c312bUGSkRG6KI13uztm5Wr","resize",void 0);var c=t.ccclass;e("resize",c("resize")(s=function(e){function i(){return e.apply(this,arguments)||this}n(i,e);var t=i.prototype;return t.start=function(){window.addEventListener("resize",this.onResize.bind(this)),this.onResize()},t.onResize=function(){var e=window.innerHeight,n=Math.round(e/540*960);n>window.innerWidth&&(n=window.innerWidth,e=Math.round(n/960*540)),r.setCanvasSize(n,e)},i}(o))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/resolvablePromise.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var s,t;return{setters:[function(e){s=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"66c37mAehhAkquC36PnXFlv","resolvablePromise",void 0);e("ResolvablePromise",function(){function e(){var e=this;this.promise=void 0,this._reject=void 0,this._resolve=void 0,this._isResolved=!1,this.promise=new Promise((function(s,t){e._reject=t,e._resolve=s})),this.promise.then((function(){e._isResolved=!0}))}return s(e,[{key:"reject",get:function(){return this._reject}},{key:"resolve",get:function(){return this._resolve}},{key:"isResolved",get:function(){return this._isResolved}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/responsive.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,s,n,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Widget,o=t.view,h=t.Component}],execute:function(){var r;e._RF.push({},"e8718VxEyNEj5+k+C2ZJX79","responsive",void 0);var g=s.ccclass;t("responsive",g("responsive")(r=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).widget=void 0,i}i(e,t);var s=e.prototype;return s.start=function(){this.widget=this.node.getComponent(n),this.setResponsivePosition()},s.setResponsivePosition=function(){var t=o.getCanvasSize(),i=o.getDesignResolutionSize(),e=t.width/t.height,s=i.width/i.height;if(!(Math.abs(e-s)<.01))if(e>s){var n=t.height/i.height,h=i.width*n,r=(t.width-h)/2/n;this.widget.isAlignLeft?this.widget.left-=r:this.widget.isAlignRight&&(this.widget.right-=r)}else if(e<s){var g=t.width/i.width,a=i.height*g,c=(t.height-a)/2/g;this.widget.isAlignTop?this.widget.top-=c:this.widget.isAlignBottom&&(this.widget.bottom-=c)}},s.update=function(t){},e}(h))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/signal.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"fe63cqpRstHh5tpe3Iywr5J","signal",void 0);e("Signal",function(){function e(e){this.listenerMap=new Map,this.name=e}var n=e.prototype;return n.dispatch=function(e){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent(this.name,{detail:e}))},n.addListener=function(e){if("undefined"!=typeof window){var n=function(n){return e(n.detail)};this.listenerMap.set(e,n),window.addEventListener(this.name,n)}},n.removeListener=function(e){if("undefined"!=typeof window){var n=this.listenerMap.get(e);n&&(window.removeEventListener(this.name,n),this.listenerMap.delete(e))}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/specialSymbols.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var s;c._RF.push({},"ce9f7KuGcRE95PKLrzkW9RR","specialSymbols",void 0);var t=e("SpecialSymbolTypes",function(e){return e.Wild="wild",e.Athena="athena",e.Ares="ares",e}({}));e("specialSymbolTypeToId",((s={})[t.Wild]=6,s[t.Athena]=7,s[t.Ares]=8,s)),e("specialSymbolIdToType",{6:t.Wild,7:t.Athena,8:t.Ares});c._RF.pop()}}}));

System.register("chunks:///_virtual/symbolAnimationData.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"df8e7penc1JhYzPVWR4yVv0","symbolAnimationData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/symbolModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./godFeatureTypes.ts"],(function(e){var t,o,i,r,l,n,a,s,u,c,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){n=e.cclegacy,a=e._decorator,s=e.CCFloat,u=e.CCBoolean,c=e.Component},function(e){y=e.godFeatureTypeToId}],execute:function(){var d,b,p,m,h,f,g,v,_,S,P;n._RF.push({},"85896j+8HZJA5h+wQF73U+s","symbolModel",void 0);var T=a.ccclass,w=a.property;e("SymbolModel",(d=T("SymbolModel"),b=w(s),p=w(u),m=w(u),h=w(u),d((v=t((g=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),n=0;n<o;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,i(t,"_value",v,r(t)),i(t,"_isGodSymbol",_,r(t)),t.symbolContainer=void 0,t.symbolPosition=void 0,i(t,"hasTriggered",S,r(t)),i(t,"canPlayParticles",P,r(t)),t.multiplierData={value:1,enabled:!1},t}o(t,e);var n=t.prototype;return n.setSymbol=function(e){this._value=e.value,this._isGodSymbol=Object.values(y).includes(e.value),this.symbolPosition={colId:e.columnId,rowId:-1}},n.onReturnToPool=function(){this.reset()},n.onAddToPlayField=function(){this.reset()},n.reset=function(){this.hasTriggered=!1,this.canPlayParticles=!1},l(t,[{key:"value",get:function(){return this._value}},{key:"isGodSymbol",get:function(){return this._isGodSymbol}},{key:"symbolId",get:function(){return this.value.toString()+"_"+this.symbolId.toString()+"_"+this.isGodSymbol.toString()}}]),t}(c)).prototype,"_value",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(g.prototype,"_isGodSymbol",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(g.prototype,"hasTriggered",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=t(g.prototype,"canPlayParticles",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=g))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/symbolNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./symbolModel.ts","./events.ts","./coinComponent.ts","./coinData.ts"],(function(o){var i,n,e,t,s,l,d,a,c,m,r,b;return{setters:[function(o){i=o.inheritsLoose,n=o.assertThisInitialized},function(o){e=o.cclegacy,t=o._decorator,s=o.instantiate,l=o.AnimationComponent,d=o.Node},function(o){a=o.SymbolModel},function(o){c=o.animateGodSymbolSignal,m=o.moveCoinSignal},function(o){r=o.CoinComponent},function(o){b=o.CoinTypes}],execute:function(){var y;e._RF.push({},"f0a13DJ1NNETaPzaKYEPeiU","symbolNode",void 0);var h=t.ccclass;o("SymbolNode",h("SymbolNode")(y=function(o){function e(){for(var i,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(i=o.call.apply(o,[this].concat(t))||this).symbolModel=i.addComponent(a),i.symbolView=void 0,i.coinObject=void 0,i.columnId=void 0,i.symbolId=void 0,i.isInBonusReel=void 0,i.moveCoinHandlerBind=i.moveCoinHandler.bind(n(i)),i.animateGodSymbolHandlerBind=i.animateGodSymbolHandler.bind(n(i)),i}i(e,o);var t=e.prototype;return t.init=function(o,i,n){this.symbolId=o,this.columnId=i,this.name=n?"bonusSymbolContainer_"+this.symbolId:"symbolContainer_"+this.symbolId,this.isInBonusReel=null!=n&&n,this.symbolModel.symbolContainer=this},t.addSymbol=function(o,i,n){this.addChild(o),this.symbolView=o,this.symbolModel.setSymbol({value:i,columnId:this.columnId}),n&&this.addCoin(n),c.addListener(this.animateGodSymbolHandlerBind)},t.addCoin=function(o){var i=s(o);this.addChild(i),this.coinObject=i.getComponent(r),m.addListener(this.moveCoinHandlerBind)},t.removeCoin=function(o){if(this.coinObject){var i;if(o)null==(i=this.coinObject)||i.destroyCoin();this.coinObject=void 0,m.removeListener(this.moveCoinHandlerBind)}},t.moveCoinHandler=function(o){this.coinObject&&o.coinData.coinType===this.coinObject.coinType&&(this.coinObject.coinType===b.God&&o.coinData.valueType!==this.coinObject.featureType||this.coinObject.coinType===b.Jackpot&&o.coinData.valueType!==this.coinObject.jackpotType||(console.error("moveCoinHandler",o.coinData,this.coinObject),this.coinObject.moveCoinToPosition(o.target)))},t.removeSymbol=function(o){var i;void 0!==o&&(this.symbolModel.setSymbol({value:0,columnId:this.columnId}),this.removeChild(o),o.destroy(),o.uuid===(null==(i=this.symbolView)?void 0:i.uuid)&&c.removeListener(this.animateGodSymbolHandlerBind),this.resetGodSymbols());this.symbolView=void 0,this.removeCoin(!0)},t.animateGodSymbolHandler=function(o){if(this.isInBonusReel&&o.colId===this.columnId&&this.symbolModel.isGodSymbol){var i,n=null==(i=this.symbolView)?void 0:i.getComponent(l);n&&n.play()}},t.resetGodSymbols=function(){if(this.isInBonusReel&&this.symbolModel.isGodSymbol){var o,i=null==(o=this.symbolView)?void 0:o.getComponent(l);if(i){i.stop();var n=i.defaultClip;if(n)i.getState(n.name).time=0}}},e}(d))||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/symbolPosition.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ef8bbYpq/tIEpTEe8Cb0fxK","symbolPosition",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/symbols.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"54b0c4i7zVGbrdkEtNPFAeW","symbols",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/tumbleSymbolData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"dcd19006fRDZqcAD/YvAV5p","tumbleSymbolData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uniqueId.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("genUniqueId",(function(){var n=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return n+"_"+t})),t._RF.push({},"e1dfd+5JWlJEbnro0ohvQhr","uniqueId",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/view.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1b1b3g80hdOtJ4gHPbUyHqh","view",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/wait.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("wait",(function(t){return new Promise((function(e){return setTimeout(e,t)}))})),e._RF.push({},"c74c4UV86JKNK8Wbyt4wlDE","wait",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/winData.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"74217YGISpFm5dNClbVHKZl","winData",void 0),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});